(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerpolicy&&(u.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?u.credentials="include":a.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(a){if(a.ep)return;a.ep=!0;const u=i(a);fetch(a.href,u)}})();function Tt(){}function _r(s){return s()}function Vo(){return Object.create(null)}function ee(s){s.forEach(_r)}function zi(s){return typeof s=="function"}function Me(s,o){return s!=s?o==o:s!==o||s&&typeof s=="object"||typeof s=="function"}function ha(s){return Object.keys(s).length===0}function D(s,o){s.appendChild(o)}function mt(s,o,i){s.insertBefore(o,i||null)}function ct(s){s.parentNode.removeChild(s)}function gr(s,o){for(let i=0;i<s.length;i+=1)s[i]&&s[i].d(o)}function F(s){return document.createElement(s)}function Xt(s){return document.createTextNode(s)}function J(){return Xt(" ")}function ca(){return Xt("")}function St(s,o,i,r){return s.addEventListener(o,i,r),()=>s.removeEventListener(o,i,r)}function B(s,o,i){i==null?s.removeAttribute(o):s.getAttribute(o)!==i&&s.setAttribute(o,i)}function Ii(s){return s===""?null:+s}function fa(s){return Array.from(s.childNodes)}function da(s,o){o=""+o,s.wholeText!==o&&(s.data=o)}function Ht(s,o){s.value=o==null?"":o}function ce(s,o,i,r){i===null?s.style.removeProperty(o):s.style.setProperty(o,i,r?"important":"")}let ni;function Qe(s){ni=s}function pa(){if(!ni)throw new Error("Function called outside component initialization");return ni}function vr(s){pa().$$.on_mount.push(s)}const Ke=[],Ni=[],Ai=[],qo=[],ma=Promise.resolve();let Tn=!1;function _a(){Tn||(Tn=!0,ma.then(yr))}function kn(s){Ai.push(s)}const vn=new Set;let Ci=0;function yr(){const s=ni;do{for(;Ci<Ke.length;){const o=Ke[Ci];Ci++,Qe(o),ga(o.$$)}for(Qe(null),Ke.length=0,Ci=0;Ni.length;)Ni.pop()();for(let o=0;o<Ai.length;o+=1){const i=Ai[o];vn.has(i)||(vn.add(i),i())}Ai.length=0}while(Ke.length);for(;qo.length;)qo.pop()();Tn=!1,vn.clear(),Qe(s)}function ga(s){if(s.fragment!==null){s.update(),ee(s.before_update);const o=s.dirty;s.dirty=[-1],s.fragment&&s.fragment.p(s.ctx,o),s.after_update.forEach(kn)}}const Ei=new Set;let he;function br(){he={r:0,c:[],p:he}}function wr(){he.r||ee(he.c),he=he.p}function zt(s,o){s&&s.i&&(Ei.delete(s),s.i(o))}function Vt(s,o,i,r){if(s&&s.o){if(Ei.has(s))return;Ei.add(s),he.c.push(()=>{Ei.delete(s),r&&(i&&s.d(1),r())}),s.o(o)}else r&&r()}function ti(s){s&&s.c()}function Le(s,o,i,r){const{fragment:a,after_update:u}=s.$$;a&&a.m(o,i),r||kn(()=>{const c=s.$$.on_mount.map(_r).filter(zi);s.$$.on_destroy?s.$$.on_destroy.push(...c):ee(c),s.$$.on_mount=[]}),u.forEach(kn)}function Te(s,o){const i=s.$$;i.fragment!==null&&(ee(i.on_destroy),i.fragment&&i.fragment.d(o),i.on_destroy=i.fragment=null,i.ctx=[])}function va(s,o){s.$$.dirty[0]===-1&&(Ke.push(s),_a(),s.$$.dirty.fill(0)),s.$$.dirty[o/31|0]|=1<<o%31}function Ae(s,o,i,r,a,u,c,f=[-1]){const d=ni;Qe(s);const m=s.$$={fragment:null,ctx:[],props:u,update:Tt,not_equal:a,bound:Vo(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(d?d.$$.context:[])),callbacks:Vo(),dirty:f,skip_bound:!1,root:o.target||d.$$.root};c&&c(m.root);let _=!1;if(m.ctx=i?i(s,o.props||{},(g,y,...w)=>{const P=w.length?w[0]:y;return m.ctx&&a(m.ctx[g],m.ctx[g]=P)&&(!m.skip_bound&&m.bound[g]&&m.bound[g](P),_&&va(s,g)),y}):[],m.update(),_=!0,ee(m.before_update),m.fragment=r?r(m.ctx):!1,o.target){if(o.hydrate){const g=fa(o.target);m.fragment&&m.fragment.l(g),g.forEach(ct)}else m.fragment&&m.fragment.c();o.intro&&zt(s.$$.fragment),Le(s,o.target,o.anchor,o.customElement),yr()}Qe(d)}class Ee{$destroy(){Te(this,1),this.$destroy=Tt}$on(o,i){if(!zi(i))return Tt;const r=this.$$.callbacks[o]||(this.$$.callbacks[o]=[]);return r.push(i),()=>{const a=r.indexOf(i);a!==-1&&r.splice(a,1)}}$set(o){this.$$set&&!ha(o)&&(this.$$.skip_bound=!0,this.$$set(o),this.$$.skip_bound=!1)}}var xr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ya(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Pr={exports:{}};(function(s,o){(function(i,r){s.exports=r()})(xr,function(){return function(i){function r(u){if(a[u])return a[u].exports;var c=a[u]={i:u,l:!1,exports:{}};return i[u].call(c.exports,c,c.exports,r),c.l=!0,c.exports}var a={};return r.m=i,r.c=a,r.d=function(u,c,f){r.o(u,c)||Object.defineProperty(u,c,{configurable:!1,enumerable:!0,get:f})},r.n=function(u){var c=u&&u.__esModule?function(){return u.default}:function(){return u};return r.d(c,"a",c),c},r.o=function(u,c){return Object.prototype.hasOwnProperty.call(u,c)},r.p="",r(r.s=8)}([function(i,r,a){Object.defineProperty(r,"__esModule",{value:!0});var u="swal-button";r.CLASS_NAMES={MODAL:"swal-modal",OVERLAY:"swal-overlay",SHOW_MODAL:"swal-overlay--show-modal",MODAL_TITLE:"swal-title",MODAL_TEXT:"swal-text",ICON:"swal-icon",ICON_CUSTOM:"swal-icon--custom",CONTENT:"swal-content",FOOTER:"swal-footer",BUTTON_CONTAINER:"swal-button-container",BUTTON:u,CONFIRM_BUTTON:u+"--confirm",CANCEL_BUTTON:u+"--cancel",DANGER_BUTTON:u+"--danger",BUTTON_LOADING:u+"--loading",BUTTON_LOADER:u+"__loader"},r.default=r.CLASS_NAMES},function(i,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.getNode=function(u){var c="."+u;return document.querySelector(c)},r.stringToNode=function(u){var c=document.createElement("div");return c.innerHTML=u.trim(),c.firstChild},r.insertAfter=function(u,c){var f=c.nextSibling;c.parentNode.insertBefore(u,f)},r.removeNode=function(u){u.parentElement.removeChild(u)},r.throwErr=function(u){throw u=u.replace(/ +(?= )/g,""),"SweetAlert: "+(u=u.trim())},r.isPlainObject=function(u){if(Object.prototype.toString.call(u)!=="[object Object]")return!1;var c=Object.getPrototypeOf(u);return c===null||c===Object.prototype},r.ordinalSuffixOf=function(u){var c=u%10,f=u%100;return c===1&&f!==11?u+"st":c===2&&f!==12?u+"nd":c===3&&f!==13?u+"rd":u+"th"}},function(i,r,a){function u(y){for(var w in y)r.hasOwnProperty(w)||(r[w]=y[w])}Object.defineProperty(r,"__esModule",{value:!0}),u(a(25));var c=a(26);r.overlayMarkup=c.default,u(a(27)),u(a(28)),u(a(29));var f=a(0),d=f.default.MODAL_TITLE,m=f.default.MODAL_TEXT,_=f.default.ICON,g=f.default.FOOTER;r.iconMarkup=`
  <div class="`+_+'"></div>',r.titleMarkup=`
  <div class="`+d+`"></div>
`,r.textMarkup=`
  <div class="`+m+'"></div>',r.footerMarkup=`
  <div class="`+g+`"></div>
`},function(i,r,a){Object.defineProperty(r,"__esModule",{value:!0});var u=a(1);r.CONFIRM_KEY="confirm",r.CANCEL_KEY="cancel";var c={visible:!0,text:null,value:null,className:"",closeModal:!0},f=Object.assign({},c,{visible:!1,text:"Cancel",value:null}),d=Object.assign({},c,{text:"OK",value:!0});r.defaultButtonList={cancel:f,confirm:d};var m=function(w){switch(w){case r.CONFIRM_KEY:return d;case r.CANCEL_KEY:return f;default:var P=w.charAt(0).toUpperCase()+w.slice(1);return Object.assign({},c,{text:P,value:w})}},_=function(w,P){var C=m(w);return P===!0?Object.assign({},C,{visible:!0}):typeof P=="string"?Object.assign({},C,{visible:!0,text:P}):u.isPlainObject(P)?Object.assign({visible:!0},C,P):Object.assign({},C,{visible:!1})},g=function(w){for(var P={},C=0,M=Object.keys(w);C<M.length;C++){var b=M[C],k=w[b],x=_(b,k);P[b]=x}return P.cancel||(P.cancel=f),P},y=function(w){var P={};switch(w.length){case 1:P[r.CANCEL_KEY]=Object.assign({},f,{visible:!1});break;case 2:P[r.CANCEL_KEY]=_(r.CANCEL_KEY,w[0]),P[r.CONFIRM_KEY]=_(r.CONFIRM_KEY,w[1]);break;default:u.throwErr("Invalid number of 'buttons' in array ("+w.length+`).
      If you want more than 2 buttons, you need to use an object!`)}return P};r.getButtonListOpts=function(w){var P=r.defaultButtonList;return typeof w=="string"?P[r.CONFIRM_KEY]=_(r.CONFIRM_KEY,w):Array.isArray(w)?P=y(w):u.isPlainObject(w)?P=g(w):w===!0?P=y([!0,!0]):w===!1?P=y([!1,!1]):w===void 0&&(P=r.defaultButtonList),P}},function(i,r,a){Object.defineProperty(r,"__esModule",{value:!0});var u=a(1),c=a(2),f=a(0),d=f.default.MODAL,m=f.default.OVERLAY,_=a(30),g=a(31),y=a(32),w=a(33);r.injectElIntoModal=function(b){var k=u.getNode(d),x=u.stringToNode(b);return k.appendChild(x),x};var P=function(b){b.className=d,b.textContent=""},C=function(b,k){P(b);var x=k.className;x&&b.classList.add(x)};r.initModalContent=function(b){var k=u.getNode(d);C(k,b),_.default(b.icon),g.initTitle(b.title),g.initText(b.text),w.default(b.content),y.default(b.buttons,b.dangerMode)};var M=function(){var b=u.getNode(m),k=u.stringToNode(c.modalMarkup);b.appendChild(k)};r.default=M},function(i,r,a){Object.defineProperty(r,"__esModule",{value:!0});var u=a(3),c={isOpen:!1,promise:null,actions:{},timer:null},f=Object.assign({},c);r.resetState=function(){f=Object.assign({},c)},r.setActionValue=function(m){if(typeof m=="string")return d(u.CONFIRM_KEY,m);for(var _ in m)d(_,m[_])};var d=function(m,_){f.actions[m]||(f.actions[m]={}),Object.assign(f.actions[m],{value:_})};r.setActionOptionsFor=function(m,_){var g=(_===void 0?{}:_).closeModal,y=g===void 0||g;Object.assign(f.actions[m],{closeModal:y})},r.default=f},function(i,r,a){Object.defineProperty(r,"__esModule",{value:!0});var u=a(1),c=a(3),f=a(0),d=f.default.OVERLAY,m=f.default.SHOW_MODAL,_=f.default.BUTTON,g=f.default.BUTTON_LOADING,y=a(5);r.openModal=function(){u.getNode(d).classList.add(m),y.default.isOpen=!0};var w=function(){u.getNode(d).classList.remove(m),y.default.isOpen=!1};r.onAction=function(P){P===void 0&&(P=c.CANCEL_KEY);var C=y.default.actions[P],M=C.value;if(C.closeModal===!1){var b=_+"--"+P;u.getNode(b).classList.add(g)}else w();y.default.promise.resolve(M)},r.getState=function(){var P=Object.assign({},y.default);return delete P.promise,delete P.timer,P},r.stopLoading=function(){for(var P=document.querySelectorAll("."+_),C=0;C<P.length;C++)P[C].classList.remove(g)}},function(i,r){var a;a=function(){return this}();try{a=a||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(a=window)}i.exports=a},function(i,r,a){(function(u){i.exports=u.sweetAlert=a(9)}).call(r,a(7))},function(i,r,a){(function(u){i.exports=u.swal=a(10)}).call(r,a(7))},function(i,r,a){typeof window<"u"&&a(11),a(16);var u=a(23).default;i.exports=u},function(i,r,a){var u=a(12);typeof u=="string"&&(u=[[i.i,u,""]]);var c={insertAt:"top"};c.transform=void 0,a(14)(u,c),u.locals&&(i.exports=u.locals)},function(i,r,a){r=i.exports=a(13)(void 0),r.push([i.i,'.swal-icon--error{border-color:#f27474;-webkit-animation:animateErrorIcon .5s;animation:animateErrorIcon .5s}.swal-icon--error__x-mark{position:relative;display:block;-webkit-animation:animateXMark .5s;animation:animateXMark .5s}.swal-icon--error__line{position:absolute;height:5px;width:47px;background-color:#f27474;display:block;top:37px;border-radius:2px}.swal-icon--error__line--left{-webkit-transform:rotate(45deg);transform:rotate(45deg);left:17px}.swal-icon--error__line--right{-webkit-transform:rotate(-45deg);transform:rotate(-45deg);right:16px}@-webkit-keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@-webkit-keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}@keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}.swal-icon--warning{border-color:#f8bb86;-webkit-animation:pulseWarning .75s infinite alternate;animation:pulseWarning .75s infinite alternate}.swal-icon--warning__body{width:5px;height:47px;top:10px;border-radius:2px;margin-left:-2px}.swal-icon--warning__body,.swal-icon--warning__dot{position:absolute;left:50%;background-color:#f8bb86}.swal-icon--warning__dot{width:7px;height:7px;border-radius:50%;margin-left:-4px;bottom:-11px}@-webkit-keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}@keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}.swal-icon--success{border-color:#a5dc86}.swal-icon--success:after,.swal-icon--success:before{content:"";border-radius:50%;position:absolute;width:60px;height:120px;background:#fff;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.swal-icon--success:before{border-radius:120px 0 0 120px;top:-7px;left:-33px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:60px 60px;transform-origin:60px 60px}.swal-icon--success:after{border-radius:0 120px 120px 0;top:-11px;left:30px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:0 60px;transform-origin:0 60px;-webkit-animation:rotatePlaceholder 4.25s ease-in;animation:rotatePlaceholder 4.25s ease-in}.swal-icon--success__ring{width:80px;height:80px;border:4px solid hsla(98,55%,69%,.2);border-radius:50%;box-sizing:content-box;position:absolute;left:-4px;top:-4px;z-index:2}.swal-icon--success__hide-corners{width:5px;height:90px;background-color:#fff;padding:1px;position:absolute;left:28px;top:8px;z-index:1;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.swal-icon--success__line{height:5px;background-color:#a5dc86;display:block;border-radius:2px;position:absolute;z-index:2}.swal-icon--success__line--tip{width:25px;left:14px;top:46px;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-animation:animateSuccessTip .75s;animation:animateSuccessTip .75s}.swal-icon--success__line--long{width:47px;right:8px;top:38px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-animation:animateSuccessLong .75s;animation:animateSuccessLong .75s}@-webkit-keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@-webkit-keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@-webkit-keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}@keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}.swal-icon--info{border-color:#c9dae1}.swal-icon--info:before{width:5px;height:29px;bottom:17px;border-radius:2px;margin-left:-2px}.swal-icon--info:after,.swal-icon--info:before{content:"";position:absolute;left:50%;background-color:#c9dae1}.swal-icon--info:after{width:7px;height:7px;border-radius:50%;margin-left:-3px;top:19px}.swal-icon{width:80px;height:80px;border-width:4px;border-style:solid;border-radius:50%;padding:0;position:relative;box-sizing:content-box;margin:20px auto}.swal-icon:first-child{margin-top:32px}.swal-icon--custom{width:auto;height:auto;max-width:100%;border:none;border-radius:0}.swal-icon img{max-width:100%;max-height:100%}.swal-title{color:rgba(0,0,0,.65);font-weight:600;text-transform:none;position:relative;display:block;padding:13px 16px;font-size:27px;line-height:normal;text-align:center;margin-bottom:0}.swal-title:first-child{margin-top:26px}.swal-title:not(:first-child){padding-bottom:0}.swal-title:not(:last-child){margin-bottom:13px}.swal-text{font-size:16px;position:relative;float:none;line-height:normal;vertical-align:top;text-align:left;display:inline-block;margin:0;padding:0 10px;font-weight:400;color:rgba(0,0,0,.64);max-width:calc(100% - 20px);overflow-wrap:break-word;box-sizing:border-box}.swal-text:first-child{margin-top:45px}.swal-text:last-child{margin-bottom:45px}.swal-footer{text-align:right;padding-top:13px;margin-top:13px;padding:13px 16px;border-radius:inherit;border-top-left-radius:0;border-top-right-radius:0}.swal-button-container{margin:5px;display:inline-block;position:relative}.swal-button{background-color:#7cd1f9;color:#fff;border:none;box-shadow:none;border-radius:5px;font-weight:600;font-size:14px;padding:10px 24px;margin:0;cursor:pointer}.swal-button:not([disabled]):hover{background-color:#78cbf2}.swal-button:active{background-color:#70bce0}.swal-button:focus{outline:none;box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(43,114,165,.29)}.swal-button[disabled]{opacity:.5;cursor:default}.swal-button::-moz-focus-inner{border:0}.swal-button--cancel{color:#555;background-color:#efefef}.swal-button--cancel:not([disabled]):hover{background-color:#e8e8e8}.swal-button--cancel:active{background-color:#d7d7d7}.swal-button--cancel:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(116,136,150,.29)}.swal-button--danger{background-color:#e64942}.swal-button--danger:not([disabled]):hover{background-color:#df4740}.swal-button--danger:active{background-color:#cf423b}.swal-button--danger:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(165,43,43,.29)}.swal-content{padding:0 20px;margin-top:20px;font-size:medium}.swal-content:last-child{margin-bottom:20px}.swal-content__input,.swal-content__textarea{-webkit-appearance:none;background-color:#fff;border:none;font-size:14px;display:block;box-sizing:border-box;width:100%;border:1px solid rgba(0,0,0,.14);padding:10px 13px;border-radius:2px;transition:border-color .2s}.swal-content__input:focus,.swal-content__textarea:focus{outline:none;border-color:#6db8ff}.swal-content__textarea{resize:vertical}.swal-button--loading{color:transparent}.swal-button--loading~.swal-button__loader{opacity:1}.swal-button__loader{position:absolute;height:auto;width:43px;z-index:2;left:50%;top:50%;-webkit-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);text-align:center;pointer-events:none;opacity:0}.swal-button__loader div{display:inline-block;float:none;vertical-align:baseline;width:9px;height:9px;padding:0;border:none;margin:2px;opacity:.4;border-radius:7px;background-color:hsla(0,0%,100%,.9);transition:background .2s;-webkit-animation:swal-loading-anim 1s infinite;animation:swal-loading-anim 1s infinite}.swal-button__loader div:nth-child(3n+2){-webkit-animation-delay:.15s;animation-delay:.15s}.swal-button__loader div:nth-child(3n+3){-webkit-animation-delay:.3s;animation-delay:.3s}@-webkit-keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}@keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}.swal-overlay{position:fixed;top:0;bottom:0;left:0;right:0;text-align:center;font-size:0;overflow-y:auto;background-color:rgba(0,0,0,.4);z-index:10000;pointer-events:none;opacity:0;transition:opacity .3s}.swal-overlay:before{content:" ";display:inline-block;vertical-align:middle;height:100%}.swal-overlay--show-modal{opacity:1;pointer-events:auto}.swal-overlay--show-modal .swal-modal{opacity:1;pointer-events:auto;box-sizing:border-box;-webkit-animation:showSweetAlert .3s;animation:showSweetAlert .3s;will-change:transform}.swal-modal{width:478px;opacity:0;pointer-events:none;background-color:#fff;text-align:center;border-radius:5px;position:static;margin:20px auto;display:inline-block;vertical-align:middle;-webkit-transform:scale(1);transform:scale(1);-webkit-transform-origin:50% 50%;transform-origin:50% 50%;z-index:10001;transition:opacity .2s,-webkit-transform .3s;transition:transform .3s,opacity .2s;transition:transform .3s,opacity .2s,-webkit-transform .3s}@media (max-width:500px){.swal-modal{width:calc(100% - 20px)}}@-webkit-keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}',""])},function(i,r){function a(c,f){var d=c[1]||"",m=c[3];if(!m)return d;if(f&&typeof btoa=="function"){var _=u(m);return[d].concat(m.sources.map(function(g){return"/*# sourceURL="+m.sourceRoot+g+" */"})).concat([_]).join(`
`)}return[d].join(`
`)}function u(c){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(c))))+" */"}i.exports=function(c){var f=[];return f.toString=function(){return this.map(function(d){var m=a(d,c);return d[2]?"@media "+d[2]+"{"+m+"}":m}).join("")},f.i=function(d,m){typeof d=="string"&&(d=[[null,d,""]]);for(var _={},g=0;g<this.length;g++){var y=this[g][0];typeof y=="number"&&(_[y]=!0)}for(g=0;g<d.length;g++){var w=d[g];typeof w[0]=="number"&&_[w[0]]||(m&&!w[2]?w[2]=m:m&&(w[2]="("+w[2]+") and ("+m+")"),f.push(w))}},f}},function(i,r,a){function u(I,z){for(var j=0;j<I.length;j++){var A=I[j],R=M[A.id];if(R){R.refs++;for(var W=0;W<R.parts.length;W++)R.parts[W](A.parts[W]);for(;W<A.parts.length;W++)R.parts.push(y(A.parts[W],z))}else{for(var K=[],W=0;W<A.parts.length;W++)K.push(y(A.parts[W],z));M[A.id]={id:A.id,refs:1,parts:K}}}}function c(I,z){for(var j=[],A={},R=0;R<I.length;R++){var W=I[R],K=z.base?W[0]+z.base:W[0],at=W[1],ot=W[2],Bt=W[3],U={css:at,media:ot,sourceMap:Bt};A[K]?A[K].parts.push(U):j.push(A[K]={id:K,parts:[U]})}return j}function f(I,z){var j=k(I.insertInto);if(!j)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var A=N[N.length-1];if(I.insertAt==="top")A?A.nextSibling?j.insertBefore(z,A.nextSibling):j.appendChild(z):j.insertBefore(z,j.firstChild),N.push(z);else{if(I.insertAt!=="bottom")throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");j.appendChild(z)}}function d(I){if(I.parentNode===null)return!1;I.parentNode.removeChild(I);var z=N.indexOf(I);z>=0&&N.splice(z,1)}function m(I){var z=document.createElement("style");return I.attrs.type="text/css",g(z,I.attrs),f(I,z),z}function _(I){var z=document.createElement("link");return I.attrs.type="text/css",I.attrs.rel="stylesheet",g(z,I.attrs),f(I,z),z}function g(I,z){Object.keys(z).forEach(function(j){I.setAttribute(j,z[j])})}function y(I,z){var j,A,R,W;if(z.transform&&I.css){if(!(W=z.transform(I.css)))return function(){};I.css=W}if(z.singleton){var K=S++;j=x||(x=m(z)),A=w.bind(null,j,K,!1),R=w.bind(null,j,K,!0)}else I.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(j=_(z),A=C.bind(null,j,z),R=function(){d(j),j.href&&URL.revokeObjectURL(j.href)}):(j=m(z),A=P.bind(null,j),R=function(){d(j)});return A(I),function(at){if(at){if(at.css===I.css&&at.media===I.media&&at.sourceMap===I.sourceMap)return;A(I=at)}else R()}}function w(I,z,j,A){var R=j?"":A.css;if(I.styleSheet)I.styleSheet.cssText=$(z,R);else{var W=document.createTextNode(R),K=I.childNodes;K[z]&&I.removeChild(K[z]),K.length?I.insertBefore(W,K[z]):I.appendChild(W)}}function P(I,z){var j=z.css,A=z.media;if(A&&I.setAttribute("media",A),I.styleSheet)I.styleSheet.cssText=j;else{for(;I.firstChild;)I.removeChild(I.firstChild);I.appendChild(document.createTextNode(j))}}function C(I,z,j){var A=j.css,R=j.sourceMap,W=z.convertToAbsoluteUrls===void 0&&R;(z.convertToAbsoluteUrls||W)&&(A=Q(A)),R&&(A+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(R))))+" */");var K=new Blob([A],{type:"text/css"}),at=I.href;I.href=URL.createObjectURL(K),at&&URL.revokeObjectURL(at)}var M={},b=function(I){var z;return function(){return z===void 0&&(z=I.apply(this,arguments)),z}}(function(){return window&&document&&document.all&&!window.atob}),k=function(I){var z={};return function(j){return z[j]===void 0&&(z[j]=I.call(this,j)),z[j]}}(function(I){return document.querySelector(I)}),x=null,S=0,N=[],Q=a(15);i.exports=function(I,z){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");z=z||{},z.attrs=typeof z.attrs=="object"?z.attrs:{},z.singleton||(z.singleton=b()),z.insertInto||(z.insertInto="head"),z.insertAt||(z.insertAt="bottom");var j=c(I,z);return u(j,z),function(A){for(var R=[],W=0;W<j.length;W++){var K=j[W],at=M[K.id];at.refs--,R.push(at)}A&&u(c(A,z),z);for(var W=0;W<R.length;W++){var at=R[W];if(at.refs===0){for(var ot=0;ot<at.parts.length;ot++)at.parts[ot]();delete M[at.id]}}}};var $=function(){var I=[];return function(z,j){return I[z]=j,I.filter(Boolean).join(`
`)}}()},function(i,r){i.exports=function(a){var u=typeof window<"u"&&window.location;if(!u)throw new Error("fixUrls requires window.location");if(!a||typeof a!="string")return a;var c=u.protocol+"//"+u.host,f=c+u.pathname.replace(/\/[^\/]*$/,"/");return a.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(d,m){var _=m.trim().replace(/^"(.*)"$/,function(y,w){return w}).replace(/^'(.*)'$/,function(y,w){return w});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(_))return d;var g;return g=_.indexOf("//")===0?_:_.indexOf("/")===0?c+_:f+_.replace(/^\.\//,""),"url("+JSON.stringify(g)+")"})}},function(i,r,a){var u=a(17);typeof window>"u"||window.Promise||(window.Promise=u),a(21),String.prototype.includes||(String.prototype.includes=function(c,f){return typeof f!="number"&&(f=0),!(f+c.length>this.length)&&this.indexOf(c,f)!==-1}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(c,f){if(this==null)throw new TypeError('"this" is null or not defined');var d=Object(this),m=d.length>>>0;if(m===0)return!1;for(var _=0|f,g=Math.max(_>=0?_:m-Math.abs(_),0);g<m;){if(function(y,w){return y===w||typeof y=="number"&&typeof w=="number"&&isNaN(y)&&isNaN(w)}(d[g],c))return!0;g++}return!1}}),typeof window<"u"&&function(c){c.forEach(function(f){f.hasOwnProperty("remove")||Object.defineProperty(f,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})}([Element.prototype,CharacterData.prototype,DocumentType.prototype])},function(i,r,a){(function(u){(function(c){function f(){}function d(b,k){return function(){b.apply(k,arguments)}}function m(b){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof b!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],C(b,this)}function _(b,k){for(;b._state===3;)b=b._value;if(b._state===0)return void b._deferreds.push(k);b._handled=!0,m._immediateFn(function(){var x=b._state===1?k.onFulfilled:k.onRejected;if(x===null)return void(b._state===1?g:y)(k.promise,b._value);var S;try{S=x(b._value)}catch(N){return void y(k.promise,N)}g(k.promise,S)})}function g(b,k){try{if(k===b)throw new TypeError("A promise cannot be resolved with itself.");if(k&&(typeof k=="object"||typeof k=="function")){var x=k.then;if(k instanceof m)return b._state=3,b._value=k,void w(b);if(typeof x=="function")return void C(d(x,k),b)}b._state=1,b._value=k,w(b)}catch(S){y(b,S)}}function y(b,k){b._state=2,b._value=k,w(b)}function w(b){b._state===2&&b._deferreds.length===0&&m._immediateFn(function(){b._handled||m._unhandledRejectionFn(b._value)});for(var k=0,x=b._deferreds.length;k<x;k++)_(b,b._deferreds[k]);b._deferreds=null}function P(b,k,x){this.onFulfilled=typeof b=="function"?b:null,this.onRejected=typeof k=="function"?k:null,this.promise=x}function C(b,k){var x=!1;try{b(function(S){x||(x=!0,g(k,S))},function(S){x||(x=!0,y(k,S))})}catch(S){if(x)return;x=!0,y(k,S)}}var M=setTimeout;m.prototype.catch=function(b){return this.then(null,b)},m.prototype.then=function(b,k){var x=new this.constructor(f);return _(this,new P(b,k,x)),x},m.all=function(b){var k=Array.prototype.slice.call(b);return new m(function(x,S){function N(I,z){try{if(z&&(typeof z=="object"||typeof z=="function")){var j=z.then;if(typeof j=="function")return void j.call(z,function(A){N(I,A)},S)}k[I]=z,--Q==0&&x(k)}catch(A){S(A)}}if(k.length===0)return x([]);for(var Q=k.length,$=0;$<k.length;$++)N($,k[$])})},m.resolve=function(b){return b&&typeof b=="object"&&b.constructor===m?b:new m(function(k){k(b)})},m.reject=function(b){return new m(function(k,x){x(b)})},m.race=function(b){return new m(function(k,x){for(var S=0,N=b.length;S<N;S++)b[S].then(k,x)})},m._immediateFn=typeof u=="function"&&function(b){u(b)}||function(b){M(b,0)},m._unhandledRejectionFn=function(b){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",b)},m._setImmediateFn=function(b){m._immediateFn=b},m._setUnhandledRejectionFn=function(b){m._unhandledRejectionFn=b},i!==void 0&&i.exports?i.exports=m:c.Promise||(c.Promise=m)})(this)}).call(r,a(18).setImmediate)},function(i,r,a){function u(f,d){this._id=f,this._clearFn=d}var c=Function.prototype.apply;r.setTimeout=function(){return new u(c.call(setTimeout,window,arguments),clearTimeout)},r.setInterval=function(){return new u(c.call(setInterval,window,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(f){f&&f.close()},u.prototype.unref=u.prototype.ref=function(){},u.prototype.close=function(){this._clearFn.call(window,this._id)},r.enroll=function(f,d){clearTimeout(f._idleTimeoutId),f._idleTimeout=d},r.unenroll=function(f){clearTimeout(f._idleTimeoutId),f._idleTimeout=-1},r._unrefActive=r.active=function(f){clearTimeout(f._idleTimeoutId);var d=f._idleTimeout;d>=0&&(f._idleTimeoutId=setTimeout(function(){f._onTimeout&&f._onTimeout()},d))},a(19),r.setImmediate=setImmediate,r.clearImmediate=clearImmediate},function(i,r,a){(function(u,c){(function(f,d){function m(x){typeof x!="function"&&(x=new Function(""+x));for(var S=new Array(arguments.length-1),N=0;N<S.length;N++)S[N]=arguments[N+1];var Q={callback:x,args:S};return C[P]=Q,w(P),P++}function _(x){delete C[x]}function g(x){var S=x.callback,N=x.args;switch(N.length){case 0:S();break;case 1:S(N[0]);break;case 2:S(N[0],N[1]);break;case 3:S(N[0],N[1],N[2]);break;default:S.apply(d,N)}}function y(x){if(M)setTimeout(y,0,x);else{var S=C[x];if(S){M=!0;try{g(S)}finally{_(x),M=!1}}}}if(!f.setImmediate){var w,P=1,C={},M=!1,b=f.document,k=Object.getPrototypeOf&&Object.getPrototypeOf(f);k=k&&k.setTimeout?k:f,{}.toString.call(f.process)==="[object process]"?function(){w=function(x){c.nextTick(function(){y(x)})}}():function(){if(f.postMessage&&!f.importScripts){var x=!0,S=f.onmessage;return f.onmessage=function(){x=!1},f.postMessage("","*"),f.onmessage=S,x}}()?function(){var x="setImmediate$"+Math.random()+"$",S=function(N){N.source===f&&typeof N.data=="string"&&N.data.indexOf(x)===0&&y(+N.data.slice(x.length))};f.addEventListener?f.addEventListener("message",S,!1):f.attachEvent("onmessage",S),w=function(N){f.postMessage(x+N,"*")}}():f.MessageChannel?function(){var x=new MessageChannel;x.port1.onmessage=function(S){y(S.data)},w=function(S){x.port2.postMessage(S)}}():b&&"onreadystatechange"in b.createElement("script")?function(){var x=b.documentElement;w=function(S){var N=b.createElement("script");N.onreadystatechange=function(){y(S),N.onreadystatechange=null,x.removeChild(N),N=null},x.appendChild(N)}}():function(){w=function(x){setTimeout(y,0,x)}}(),k.setImmediate=m,k.clearImmediate=_}})(typeof self>"u"?u===void 0?this:u:self)}).call(r,a(7),a(20))},function(i,r){function a(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function c(x){if(y===setTimeout)return setTimeout(x,0);if((y===a||!y)&&setTimeout)return y=setTimeout,setTimeout(x,0);try{return y(x,0)}catch{try{return y.call(null,x,0)}catch{return y.call(this,x,0)}}}function f(x){if(w===clearTimeout)return clearTimeout(x);if((w===u||!w)&&clearTimeout)return w=clearTimeout,clearTimeout(x);try{return w(x)}catch{try{return w.call(null,x)}catch{return w.call(this,x)}}}function d(){b&&C&&(b=!1,C.length?M=C.concat(M):k=-1,M.length&&m())}function m(){if(!b){var x=c(d);b=!0;for(var S=M.length;S;){for(C=M,M=[];++k<S;)C&&C[k].run();k=-1,S=M.length}C=null,b=!1,f(x)}}function _(x,S){this.fun=x,this.array=S}function g(){}var y,w,P=i.exports={};(function(){try{y=typeof setTimeout=="function"?setTimeout:a}catch{y=a}try{w=typeof clearTimeout=="function"?clearTimeout:u}catch{w=u}})();var C,M=[],b=!1,k=-1;P.nextTick=function(x){var S=new Array(arguments.length-1);if(arguments.length>1)for(var N=1;N<arguments.length;N++)S[N-1]=arguments[N];M.push(new _(x,S)),M.length!==1||b||c(m)},_.prototype.run=function(){this.fun.apply(null,this.array)},P.title="browser",P.browser=!0,P.env={},P.argv=[],P.version="",P.versions={},P.on=g,P.addListener=g,P.once=g,P.off=g,P.removeListener=g,P.removeAllListeners=g,P.emit=g,P.prependListener=g,P.prependOnceListener=g,P.listeners=function(x){return[]},P.binding=function(x){throw new Error("process.binding is not supported")},P.cwd=function(){return"/"},P.chdir=function(x){throw new Error("process.chdir is not supported")},P.umask=function(){return 0}},function(i,r,a){a(22).polyfill()},function(i,r,a){function u(f,d){if(f==null)throw new TypeError("Cannot convert first argument to object");for(var m=Object(f),_=1;_<arguments.length;_++){var g=arguments[_];if(g!=null)for(var y=Object.keys(Object(g)),w=0,P=y.length;w<P;w++){var C=y[w],M=Object.getOwnPropertyDescriptor(g,C);M!==void 0&&M.enumerable&&(m[C]=g[C])}}return m}function c(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:u})}i.exports={assign:u,polyfill:c}},function(i,r,a){Object.defineProperty(r,"__esModule",{value:!0});var u=a(24),c=a(6),f=a(5),d=a(36),m=function(){for(var _=[],g=0;g<arguments.length;g++)_[g]=arguments[g];if(typeof window<"u"){var y=d.getOpts.apply(void 0,_);return new Promise(function(w,P){f.default.promise={resolve:w,reject:P},u.default(y),setTimeout(function(){c.openModal()})})}};m.close=c.onAction,m.getState=c.getState,m.setActionValue=f.setActionValue,m.stopLoading=c.stopLoading,m.setDefaults=d.setDefaults,r.default=m},function(i,r,a){Object.defineProperty(r,"__esModule",{value:!0});var u=a(1),c=a(0),f=c.default.MODAL,d=a(4),m=a(34),_=a(35),g=a(1);r.init=function(y){u.getNode(f)||(document.body||g.throwErr("You can only use SweetAlert AFTER the DOM has loaded!"),m.default(),d.default()),d.initModalContent(y),_.default(y)},r.default=r.init},function(i,r,a){Object.defineProperty(r,"__esModule",{value:!0});var u=a(0),c=u.default.MODAL;r.modalMarkup=`
  <div class="`+c+'" role="dialog" aria-modal="true"></div>',r.default=r.modalMarkup},function(i,r,a){Object.defineProperty(r,"__esModule",{value:!0});var u=a(0),c=u.default.OVERLAY,f=`<div 
    class="`+c+`"
    tabIndex="-1">
  </div>`;r.default=f},function(i,r,a){Object.defineProperty(r,"__esModule",{value:!0});var u=a(0),c=u.default.ICON;r.errorIconMarkup=function(){var f=c+"--error",d=f+"__line";return`
    <div class="`+f+`__x-mark">
      <span class="`+d+" "+d+`--left"></span>
      <span class="`+d+" "+d+`--right"></span>
    </div>
  `},r.warningIconMarkup=function(){var f=c+"--warning";return`
    <span class="`+f+`__body">
      <span class="`+f+`__dot"></span>
    </span>
  `},r.successIconMarkup=function(){var f=c+"--success";return`
    <span class="`+f+"__line "+f+`__line--long"></span>
    <span class="`+f+"__line "+f+`__line--tip"></span>

    <div class="`+f+`__ring"></div>
    <div class="`+f+`__hide-corners"></div>
  `}},function(i,r,a){Object.defineProperty(r,"__esModule",{value:!0});var u=a(0),c=u.default.CONTENT;r.contentMarkup=`
  <div class="`+c+`">

  </div>
`},function(i,r,a){Object.defineProperty(r,"__esModule",{value:!0});var u=a(0),c=u.default.BUTTON_CONTAINER,f=u.default.BUTTON,d=u.default.BUTTON_LOADER;r.buttonMarkup=`
  <div class="`+c+`">

    <button
      class="`+f+`"
    ></button>

    <div class="`+d+`">
      <div></div>
      <div></div>
      <div></div>
    </div>

  </div>
`},function(i,r,a){Object.defineProperty(r,"__esModule",{value:!0});var u=a(4),c=a(2),f=a(0),d=f.default.ICON,m=f.default.ICON_CUSTOM,_=["error","warning","success","info"],g={error:c.errorIconMarkup(),warning:c.warningIconMarkup(),success:c.successIconMarkup()},y=function(C,M){var b=d+"--"+C;M.classList.add(b);var k=g[C];k&&(M.innerHTML=k)},w=function(C,M){M.classList.add(m);var b=document.createElement("img");b.src=C,M.appendChild(b)},P=function(C){if(C){var M=u.injectElIntoModal(c.iconMarkup);_.includes(C)?y(C,M):w(C,M)}};r.default=P},function(i,r,a){Object.defineProperty(r,"__esModule",{value:!0});var u=a(2),c=a(4),f=function(d){navigator.userAgent.includes("AppleWebKit")&&(d.style.display="none",d.offsetHeight,d.style.display="")};r.initTitle=function(d){if(d){var m=c.injectElIntoModal(u.titleMarkup);m.textContent=d,f(m)}},r.initText=function(d){if(d){var m=document.createDocumentFragment();d.split(`
`).forEach(function(g,y,w){m.appendChild(document.createTextNode(g)),y<w.length-1&&m.appendChild(document.createElement("br"))});var _=c.injectElIntoModal(u.textMarkup);_.appendChild(m),f(_)}}},function(i,r,a){Object.defineProperty(r,"__esModule",{value:!0});var u=a(1),c=a(4),f=a(0),d=f.default.BUTTON,m=f.default.DANGER_BUTTON,_=a(3),g=a(2),y=a(6),w=a(5),P=function(M,b,k){var x=b.text,S=b.value,N=b.className,Q=b.closeModal,$=u.stringToNode(g.buttonMarkup),I=$.querySelector("."+d),z=d+"--"+M;I.classList.add(z),N&&(Array.isArray(N)?N:N.split(" ")).filter(function(A){return A.length>0}).forEach(function(A){I.classList.add(A)}),k&&M===_.CONFIRM_KEY&&I.classList.add(m),I.textContent=x;var j={};return j[M]=S,w.setActionValue(j),w.setActionOptionsFor(M,{closeModal:Q}),I.addEventListener("click",function(){return y.onAction(M)}),$},C=function(M,b){var k=c.injectElIntoModal(g.footerMarkup);for(var x in M){var S=M[x],N=P(x,S,b);S.visible&&k.appendChild(N)}k.children.length===0&&k.remove()};r.default=C},function(i,r,a){Object.defineProperty(r,"__esModule",{value:!0});var u=a(3),c=a(4),f=a(2),d=a(5),m=a(6),_=a(0),g=_.default.CONTENT,y=function(C){C.addEventListener("input",function(M){var b=M.target,k=b.value;d.setActionValue(k)}),C.addEventListener("keyup",function(M){if(M.key==="Enter")return m.onAction(u.CONFIRM_KEY)}),setTimeout(function(){C.focus(),d.setActionValue("")},0)},w=function(C,M,b){var k=document.createElement(M),x=g+"__"+M;k.classList.add(x);for(var S in b){var N=b[S];k[S]=N}M==="input"&&y(k),C.appendChild(k)},P=function(C){if(C){var M=c.injectElIntoModal(f.contentMarkup),b=C.element,k=C.attributes;typeof b=="string"?w(M,b,k):M.appendChild(b)}};r.default=P},function(i,r,a){Object.defineProperty(r,"__esModule",{value:!0});var u=a(1),c=a(2),f=function(){var d=u.stringToNode(c.overlayMarkup);document.body.appendChild(d)};r.default=f},function(i,r,a){Object.defineProperty(r,"__esModule",{value:!0});var u=a(5),c=a(6),f=a(1),d=a(3),m=a(0),_=m.default.MODAL,g=m.default.BUTTON,y=m.default.OVERLAY,w=function(A){A.preventDefault(),k()},P=function(A){A.preventDefault(),x()},C=function(A){if(u.default.isOpen)switch(A.key){case"Escape":return c.onAction(d.CANCEL_KEY)}},M=function(A){if(u.default.isOpen)switch(A.key){case"Tab":return w(A)}},b=function(A){if(u.default.isOpen)return A.key==="Tab"&&A.shiftKey?P(A):void 0},k=function(){var A=f.getNode(g);A&&(A.tabIndex=0,A.focus())},x=function(){var A=f.getNode(_),R=A.querySelectorAll("."+g),W=R.length-1,K=R[W];K&&K.focus()},S=function(A){A[A.length-1].addEventListener("keydown",M)},N=function(A){A[0].addEventListener("keydown",b)},Q=function(){var A=f.getNode(_),R=A.querySelectorAll("."+g);R.length&&(S(R),N(R))},$=function(A){if(f.getNode(y)===A.target)return c.onAction(d.CANCEL_KEY)},I=function(A){var R=f.getNode(y);R.removeEventListener("click",$),A&&R.addEventListener("click",$)},z=function(A){u.default.timer&&clearTimeout(u.default.timer),A&&(u.default.timer=window.setTimeout(function(){return c.onAction(d.CANCEL_KEY)},A))},j=function(A){A.closeOnEsc?document.addEventListener("keyup",C):document.removeEventListener("keyup",C),A.dangerMode?k():x(),Q(),I(A.closeOnClickOutside),z(A.timer)};r.default=j},function(i,r,a){Object.defineProperty(r,"__esModule",{value:!0});var u=a(1),c=a(3),f=a(37),d=a(38),m={title:null,text:null,icon:null,buttons:c.defaultButtonList,content:null,className:null,closeOnClickOutside:!0,closeOnEsc:!0,dangerMode:!1,timer:null},_=Object.assign({},m);r.setDefaults=function(b){_=Object.assign({},m,b)};var g=function(b){var k=b&&b.button,x=b&&b.buttons;return k!==void 0&&x!==void 0&&u.throwErr("Cannot set both 'button' and 'buttons' options!"),k!==void 0?{confirm:k}:x},y=function(b){return u.ordinalSuffixOf(b+1)},w=function(b,k){u.throwErr(y(k)+" argument ('"+b+"') is invalid")},P=function(b,k){var x=b+1,S=k[x];u.isPlainObject(S)||S===void 0||u.throwErr("Expected "+y(x)+" argument ('"+S+"') to be a plain object")},C=function(b,k){var x=b+1,S=k[x];S!==void 0&&u.throwErr("Unexpected "+y(x)+" argument ("+S+")")},M=function(b,k,x,S){var N=typeof k,Q=N==="string",$=k instanceof Element;if(Q){if(x===0)return{text:k};if(x===1)return{text:k,title:S[0]};if(x===2)return P(x,S),{icon:k};w(k,x)}else{if($&&x===0)return P(x,S),{content:k};if(u.isPlainObject(k))return C(x,S),k;w(k,x)}};r.getOpts=function(){for(var b=[],k=0;k<arguments.length;k++)b[k]=arguments[k];var x={};b.forEach(function(Q,$){var I=M(0,Q,$,b);Object.assign(x,I)});var S=g(x);x.buttons=c.getButtonListOpts(S),delete x.button,x.content=f.getContentOpts(x.content);var N=Object.assign({},m,_,x);return Object.keys(N).forEach(function(Q){d.DEPRECATED_OPTS[Q]&&d.logDeprecation(Q)}),N}},function(i,r,a){Object.defineProperty(r,"__esModule",{value:!0});var u=a(1),c={element:"input",attributes:{placeholder:""}};r.getContentOpts=function(f){var d={};return u.isPlainObject(f)?Object.assign(d,f):f instanceof Element?{element:f}:f==="input"?c:null}},function(i,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.logDeprecation=function(u){var c=r.DEPRECATED_OPTS[u],f=c.onlyRename,d=c.replacement,m=c.subOption,_=c.link,g=f?"renamed":"deprecated",y='SweetAlert warning: "'+u+'" option has been '+g+".";d&&(y+=" Please use"+(m?' "'+m+'" in ':" ")+'"'+d+'" instead.');var w="https://sweetalert.js.org";y+=_?" More details: "+w+_:" More details: "+w+"/guides/#upgrading-from-1x",console.warn(y)},r.DEPRECATED_OPTS={type:{replacement:"icon",link:"/docs/#icon"},imageUrl:{replacement:"icon",link:"/docs/#icon"},customClass:{replacement:"className",onlyRename:!0,link:"/docs/#classname"},imageSize:{},showCancelButton:{replacement:"buttons",link:"/docs/#buttons"},showConfirmButton:{replacement:"button",link:"/docs/#button"},confirmButtonText:{replacement:"button",link:"/docs/#button"},confirmButtonColor:{},cancelButtonText:{replacement:"buttons",link:"/docs/#buttons"},closeOnConfirm:{replacement:"button",subOption:"closeModal",link:"/docs/#button"},closeOnCancel:{replacement:"buttons",subOption:"closeModal",link:"/docs/#buttons"},showLoaderOnConfirm:{replacement:"buttons"},animation:{},inputType:{replacement:"content",link:"/docs/#content"},inputValue:{replacement:"content",link:"/docs/#content"},inputPlaceholder:{replacement:"content",link:"/docs/#content"},html:{replacement:"content",link:"/docs/#content"},allowEscapeKey:{replacement:"closeOnEsc",onlyRename:!0,link:"/docs/#closeonesc"},allowClickOutside:{replacement:"closeOnClickOutside",onlyRename:!0,link:"/docs/#closeonclickoutside"}}}])})})(Pr);const ei=ya(Pr.exports);function Yo(s,o,i){const r=s.slice();return r[5]=o[i],r[7]=i,r}function $o(s){let o,i,r,a,u,c,f,d,m;function _(...y){return s[3](s[7],...y)}function g(...y){return s[4](s[7],...y)}return{c(){o=F("div"),i=F("button"),i.textContent="X",r=J(),a=F("input"),u=J(),c=F("input"),f=J(),B(i,"class","delete-btn svelte-1a1fdor"),B(a,"type","datetime-local"),B(a,"class","svelte-1a1fdor"),B(c,"type","text"),B(c,"class","svelte-1a1fdor"),B(o,"class","ip svelte-1a1fdor")},m(y,w){mt(y,o,w),D(o,i),D(o,r),D(o,a),D(o,u),D(o,c),D(o,f),d||(m=[St(i,"click",wa),St(a,"change",_),St(c,"change",g)],d=!0)},p(y,w){s=y},d(y){y&&ct(o),d=!1,ee(m)}}}function ba(s){let o,i,r,a,u,c,f,d,m,_,g,y,w,P,C=s[0],M=[];for(let b=0;b<C.length;b+=1)M[b]=$o(Yo(s,C,b));return{c(){o=F("div"),i=F("h1"),i.textContent="IP History",r=J(),a=F("div"),a.innerHTML=`<p></p> 
        <h1>Time</h1> 
        <h1>IP</h1>`,u=J(),c=F("div");for(let b=0;b<M.length;b+=1)M[b].c();f=J(),d=F("hr"),m=J(),_=F("button"),_.textContent="+ More +",g=J(),y=F("button"),y.textContent="Close",B(a,"class","ip svelte-1a1fdor"),ce(a,"text-align","center"),B(c,"class","overflow svelte-1a1fdor"),B(_,"class","btn svelte-1a1fdor"),B(y,"class","btn svelte-1a1fdor"),B(o,"class","list svelte-1a1fdor")},m(b,k){mt(b,o,k),D(o,i),D(o,r),D(o,a),D(o,u),D(o,c);for(let x=0;x<M.length;x+=1)M[x].m(c,null);D(o,f),D(o,d),D(o,m),D(o,_),D(o,g),D(o,y),w||(P=[St(_,"click",function(){zi(s[2])&&s[2].apply(this,arguments)}),St(y,"click",function(){zi(s[1])&&s[1].apply(this,arguments)})],w=!0)},p(b,[k]){if(s=b,k&1){C=s[0];let x;for(x=0;x<C.length;x+=1){const S=Yo(s,C,x);M[x]?M[x].p(S,k):(M[x]=$o(S),M[x].c(),M[x].m(c,null))}for(;x<M.length;x+=1)M[x].d(1);M.length=C.length}},i:Tt,o:Tt,d(b){b&&ct(o),gr(M,b),w=!1,ee(P)}}}const wa=()=>{};function xa(s,o,i){let{close:r}=o,{addMore:a}=o,{history:u}=o;const c=(d,m)=>{i(0,u[d].key=new Date(m.target.value).getTime(),u)},f=(d,m)=>{i(0,u[d].value=m.target.value,u)};return s.$$set=d=>{"close"in d&&i(1,r=d.close),"addMore"in d&&i(2,a=d.addMore),"history"in d&&i(0,u=d.history)},[u,r,a,c,f]}class Pa extends Ee{constructor(o){super(),Ae(this,o,xa,ba,Me,{close:1,addMore:2,history:0})}}function Ko(s){let o;return{c(){o=F("div"),o.innerHTML='<span class="loader"></span>',B(o,"class","popup svelte-1x9z69")},m(i,r){mt(i,o,r)},d(i){i&&ct(o)}}}function Xo(s){let o,i,r,a;return r=new Pa({props:{close:s[9],history:s[5],addMore:s[8]}}),{c(){o=F("div"),i=F("div"),ti(r.$$.fragment),B(i,"class","container svelte-1x9z69"),B(o,"class","popup svelte-1x9z69")},m(u,c){mt(u,o,c),D(o,i),Le(r,i,null),a=!0},p(u,c){const f={};c&32&&(f.history=u[5]),r.$set(f)},i(u){a||(zt(r.$$.fragment,u),a=!0)},o(u){Vt(r.$$.fragment,u),a=!1},d(u){u&&ct(o),Te(r)}}}function La(s){let o,i,r,a,u,c,f,d,m,_,g,y,w,P,C,M,b,k,x,S,N,Q,$,I,z,j,A,R,W,K,at,ot,Bt,U,ze,G,lt,_t,wt,ft,rt,it,Lt,Ct,Ie,xt=s[7]&&Ko(),dt=s[6]&&Xo(s);return{c(){xt&&xt.c(),o=J(),i=F("div"),r=F("div"),a=F("div"),u=F("label"),c=F("span"),c.textContent="IP Address",f=J(),d=F("input"),m=J(),_=F("h3"),_.textContent="Optional Information:",g=J(),y=F("div"),w=F("label"),P=F("span"),P.textContent="Shipping Address",C=J(),M=F("input"),b=J(),k=F("label"),x=F("span"),x.textContent="Billing Address",S=J(),N=F("input"),Q=J(),$=F("div"),I=F("label"),z=F("span"),z.textContent="GPS Latitude",j=J(),A=F("input"),R=J(),W=F("label"),K=F("span"),K.textContent="GPS Longitude",at=J(),ot=F("input"),Bt=J(),U=F("button"),U.textContent="Add IP Address History",ze=J(),G=F("hr"),lt=J(),_t=F("button"),_t.textContent="Check for fraud",wt=J(),ft=F("hr"),rt=J(),dt&&dt.c(),it=ca(),B(c,"class","field__label svelte-1x9z69"),B(d,"class","field__input text-center svelte-1x9z69"),B(d,"type","text"),B(u,"class","field svelte-1x9z69"),B(a,"class","fields fields--1 svelte-1x9z69"),B(_,"class","separator"),B(P,"class","field__label svelte-1x9z69"),B(M,"class","field__input svelte-1x9z69"),B(M,"type","text"),B(w,"class","field svelte-1x9z69"),B(x,"class","field__label svelte-1x9z69"),B(N,"class","field__input svelte-1x9z69"),B(N,"type","text"),B(k,"class","field svelte-1x9z69"),B(y,"class","fields fields--2 svelte-1x9z69"),B(z,"class","field__label svelte-1x9z69"),B(A,"class","field__input svelte-1x9z69"),B(A,"type","number"),B(I,"class","field svelte-1x9z69"),B(K,"class","field__label svelte-1x9z69"),B(ot,"class","field__input svelte-1x9z69"),B(ot,"type","number"),B(W,"class","field svelte-1x9z69"),B($,"class","fields fields--2 svelte-1x9z69"),B(U,"class","button outlined svelte-1x9z69"),ce(U,"width","50%"),ce(U,"margin-inline","auto"),B(r,"class","form svelte-1x9z69"),B(G,"class","svelte-1x9z69"),B(_t,"class","button svelte-1x9z69"),B(ft,"class","svelte-1x9z69"),B(i,"class","container card svelte-1x9z69")},m(tt,bt){xt&&xt.m(tt,bt),mt(tt,o,bt),mt(tt,i,bt),D(i,r),D(r,a),D(a,u),D(u,c),D(u,f),D(u,d),Ht(d,s[0]),D(r,m),D(r,_),D(r,g),D(r,y),D(y,w),D(w,P),D(w,C),D(w,M),Ht(M,s[1]),D(y,b),D(y,k),D(k,x),D(k,S),D(k,N),Ht(N,s[2]),D(r,Q),D(r,$),D($,I),D(I,z),D(I,j),D(I,A),Ht(A,s[3]),D($,R),D($,W),D(W,K),D(W,at),D(W,ot),Ht(ot,s[4]),D(r,Bt),D(r,U),D(i,ze),D(i,G),D(i,lt),D(i,_t),D(i,wt),D(i,ft),mt(tt,rt,bt),dt&&dt.m(tt,bt),mt(tt,it,bt),Lt=!0,Ct||(Ie=[St(d,"input",s[12]),St(M,"input",s[13]),St(N,"input",s[14]),St(A,"input",s[15]),St(ot,"input",s[16]),St(U,"click",s[17]),St(_t,"click",s[10])],Ct=!0)},p(tt,[bt]){tt[7]?xt||(xt=Ko(),xt.c(),xt.m(o.parentNode,o)):xt&&(xt.d(1),xt=null),bt&1&&d.value!==tt[0]&&Ht(d,tt[0]),bt&2&&M.value!==tt[1]&&Ht(M,tt[1]),bt&4&&N.value!==tt[2]&&Ht(N,tt[2]),bt&8&&Ii(A.value)!==tt[3]&&Ht(A,tt[3]),bt&16&&Ii(ot.value)!==tt[4]&&Ht(ot,tt[4]),tt[6]?dt?(dt.p(tt,bt),bt&64&&zt(dt,1)):(dt=Xo(tt),dt.c(),zt(dt,1),dt.m(it.parentNode,it)):dt&&(br(),Vt(dt,1,1,()=>{dt=null}),wr())},i(tt){Lt||(zt(dt),Lt=!0)},o(tt){Vt(dt),Lt=!1},d(tt){xt&&xt.d(tt),tt&&ct(o),tt&&ct(i),tt&&ct(rt),dt&&dt.d(tt),tt&&ct(it),Ct=!1,ee(Ie)}}}function Ta(s,o,i){let r,a,u,c,f,d=[],{setData:m}=o;function _(){i(5,d=[...d,{key:"",value:""}])}let g=!1;function y(){i(6,g=!1)}let w=!1;function P(){if(!r){ei("Missing info!","Please fill out at least, the IP Address field!","error");return}let Q={ip:r,shippingAddress:a,billingAddress:u,gpsLatitude:c,gpsLongitude:f,previousIPs:C()};var $=new Headers;$.append("Content-Type","application/json"),i(7,w=!0),fetch("/runCheck",{method:"POST",headers:$,body:JSON.stringify(Q)}).then(I=>{I.json().then(z=>{m(z)}).catch(z=>{ei("Oh snap!","We got an invalid JSON data! Someone must have messed with the API!","error")})}).catch(I=>{ei("Oh snap!","We could not connect to the server!","error")}).finally(()=>{i(7,w=!1)})}function C(){let Q={};return d.forEach($=>{if($.key!==""||$.value!==""){let I=$.key,z=$.value;Q[I]=z}}),Q}function M(){r=this.value,i(0,r)}function b(){a=this.value,i(1,a)}function k(){u=this.value,i(2,u)}function x(){c=Ii(this.value),i(3,c)}function S(){f=Ii(this.value),i(4,f)}const N=()=>{i(6,g=!0)};return s.$$set=Q=>{"setData"in Q&&i(11,m=Q.setData)},[r,a,u,c,f,d,g,w,_,y,P,m,M,b,k,x,S,N]}class ka extends Ee{constructor(o){super(),Ae(this,o,Ta,La,Me,{setData:11})}}function Jo(s,o,i){const r=s.slice();return r[2]=o[i],r}function Qo(s){let o,i,r=s[2].detector+"",a,u,c,f=s[2].anomaly+"",d,m,_,g=s[2].score+"",y,w;return{c(){o=F("div"),i=F("h1"),a=Xt(r),u=J(),c=F("p"),d=Xt(f),m=J(),_=F("h1"),y=Xt(g),w=J(),B(i,"class","title svelte-1jhqq9"),B(c,"class","description"),B(_,"class","score svelte-1jhqq9"),B(o,"class","report svelte-1jhqq9")},m(P,C){mt(P,o,C),D(o,i),D(i,a),D(o,u),D(o,c),D(c,d),D(o,m),D(o,_),D(_,y),D(o,w)},p:Tt,d(P){P&&ct(o)}}}function Oa(s){let o,i,r,a=s[0],u=[];for(let c=0;c<a.length;c+=1)u[c]=Qo(Jo(s,a,c));return{c(){o=F("div"),i=F("div"),i.innerHTML=`<h1 class="title">Detector</h1> 
        <h1 class="description">Anomaly</h1> 
        <h1 class="score">Score</h1>`,r=J();for(let c=0;c<u.length;c+=1)u[c].c();B(i,"class","head svelte-1jhqq9"),B(o,"class","list svelte-1jhqq9")},m(c,f){mt(c,o,f),D(o,i),D(o,r);for(let d=0;d<u.length;d+=1)u[d].m(o,null)},p(c,[f]){if(f&1){a=c[0];let d;for(d=0;d<a.length;d+=1){const m=Jo(c,a,d);u[d]?u[d].p(m,f):(u[d]=Qo(m),u[d].c(),u[d].m(o,null))}for(;d<u.length;d+=1)u[d].d(1);u.length=a.length}},i:Tt,o:Tt,d(c){c&&ct(o),gr(u,c)}}}function Ca(s,o,i){let{raw:r}=o;const a=r.applied_rules;return s.$$set=u=>{"raw"in u&&i(1,r=u.raw)},[a,r]}class Ma extends Ee{constructor(o){super(),Ae(this,o,Ca,Oa,Me,{raw:1})}}function Aa(s,o){o===void 0&&(o={});var i=o.insertAt;if(s&&typeof document<"u"){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",i==="top"&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=s:a.appendChild(document.createTextNode(s))}}function Jt(s,o){return typeof s=="string"?(o||document).querySelector(s):s||null}function oi(s){var o=s.getBoundingClientRect();return{top:o.top+(document.documentElement.scrollTop||document.body.scrollTop),left:o.left+(document.documentElement.scrollLeft||document.body.scrollLeft)}}function Ea(s){return s.offsetParent===null}function Sa(s){var o=s.getBoundingClientRect();return o.top>=0&&o.left>=0&&o.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&o.right<=(window.innerWidth||document.documentElement.clientWidth)}function za(s){var o=window.getComputedStyle(s),i=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight);return s.clientWidth-i}function Ia(s,o,i){var r=document.createEvent("HTMLEvents");r.initEvent(o,!0,!0);for(var a in i)r[a]=i[a];return s.dispatchEvent(r)}function Di(s){return s.titleHeight+s.margins.top+s.paddings.top}function Si(s){return s.margins.left+s.paddings.left}function Lr(s){return s.margins.top+s.margins.bottom+s.paddings.top+s.paddings.bottom+s.titleHeight+s.legendHeight}function Bi(s){return s.margins.left+s.margins.right+s.paddings.left+s.paddings.right}function Na(s,o){if(!(s instanceof o))throw new TypeError("Cannot call a class as a function")}function Tr(s){return parseFloat(s.toFixed(2))}function On(s,o,i){var r=arguments.length>3&&arguments[3]!==void 0&&arguments[3];i||(i=r?s[0]:s[s.length-1]);var a=new Array(Math.abs(o)).fill(i);return s=r?a.concat(s):s.concat(a)}function kr(s,o){return(s+"").length*o}function ke(s,o){return{x:Math.sin(s*lr)*o,y:Math.cos(s*lr)*o}}function Pe(s){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return!Number.isNaN(s)&&s!==void 0&&!!Number.isFinite(s)&&!(o&&s<0)}function Da(s){return Number(Math.round(s+"e4")+"e-4")}function Or(s){var o=void 0,i=void 0,r=void 0;if(s instanceof Date)return new Date(s.getTime());if((s===void 0?"undefined":_u(s))!=="object"||s===null)return s;o=Array.isArray(s)?[]:{};for(r in s)i=s[r],o[r]=Or(i);return o}function Cr(s,o){var i=void 0,r=void 0;return s<=o?(i=o-s,r=s):(i=s-o,r=o),[i,r]}function kt(s,o){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.length-s.length;return i>0?s=On(s,i):o=On(o,i),[s,o]}function En(s,o){if(s)return s.length>o?s.slice(0,o-3)+"...":s}function Ba(s){var o=void 0;if(typeof s=="number")o=s;else if(typeof s=="string"&&(o=Number(s),Number.isNaN(o)))return s;var i=Math.floor(Math.log10(Math.abs(o)));if(i<=2)return o;var r=Math.floor(i/3),a=Math.pow(10,i-3*r)*+(o/Math.pow(10,i)).toFixed(1);return Math.round(100*a)/100+" "+["","K","M","B","T"][r]}function Mr(s,o){for(var i=[],r=0;r<s.length;r++)i.push([s[r],o[r]]);var a=function(c,f){var d=f[0]-c[0],m=f[1]-c[1];return{length:Math.sqrt(Math.pow(d,2)+Math.pow(m,2)),angle:Math.atan2(m,d)}},u=function(c,f,d,m){var _=a(f||c,d||c),g=_.angle+(m?Math.PI:0),y=.2*_.length;return[c[0]+Math.cos(g)*y,c[1]+Math.sin(g)*y]};return function(c,f){return c.reduce(function(d,m,_,g){return _===0?m[0]+","+m[1]:d+" "+f(m,_,g)},"")}(i,function(c,f,d){var m=u(d[f-1],d[f-2],c),_=u(c,d[f-1],d[f+1],!0);return"C "+m[0]+","+m[1]+" "+_[0]+","+_[1]+" "+c[0]+","+c[1]})}function yn(s){return s>255?255:s<0?0:s}function Sn(s,o){var i=Br(s),r=!1;i[0]=="#"&&(i=i.slice(1),r=!0);var a=parseInt(i,16),u=yn((a>>16)+o),c=yn((a>>8&255)+o),f=yn((255&a)+o);return(r?"#":"")+(f|c<<8|u<<16).toString(16)}function Ra(s){var o=/(^\s*)(rgb|hsl)(a?)[(]\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*(?:,\s*([\d.]+)\s*)?[)]$/i;return/(^\s*)(#)((?:[A-Fa-f0-9]{3}){1,2})$/i.test(s)||o.test(s)}function tr(s,o){return typeof s=="string"?(o||document).querySelector(s):s||null}function st(s,o){var i=document.createElementNS("http://www.w3.org/2000/svg",s);for(var r in o){var a=o[r];if(r==="inside")tr(a).appendChild(i);else if(r==="around"){var u=tr(a);u.parentNode.insertBefore(i,u),i.appendChild(u)}else r==="styles"?(a===void 0?"undefined":yu(a))==="object"&&Object.keys(a).map(function(c){i.style[c]=a[c]}):(r==="className"&&(r="class"),r==="innerHTML"?i.textContent=a:i.setAttribute(r,a))}return i}function Za(s,o){return st("linearGradient",{inside:s,id:o,x1:0,x2:0,y1:0,y2:1})}function bn(s,o,i,r){return st("stop",{inside:s,style:"stop-color: "+i,offset:o,"stop-opacity":r})}function ja(s,o,i,r){return st("svg",{className:o,inside:s,width:i,height:r})}function Fa(s){return st("defs",{inside:s})}function Cn(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,r={className:s,transform:o};return i&&(r.inside=i),st("g",r)}function Ri(s){return st("path",{className:arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",d:s,styles:{stroke:arguments.length>2&&arguments[2]!==void 0?arguments[2]:"none",fill:arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none","stroke-width":arguments.length>4&&arguments[4]!==void 0?arguments[4]:2}})}function Ha(s,o,i,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,c=i.x+s.x,f=i.y+s.y,d=i.x+o.x,m=i.y+o.y;return"M"+i.x+" "+i.y+`
		L`+c+" "+f+`
		A `+r+" "+r+" 0 "+u+" "+(a?1:0)+`
		`+d+" "+m+" z"}function Wa(s,o,i,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,c=i.x+s.x,f=i.y+s.y,d=i.x+o.x,m=2*i.y,_=i.y+o.y;return"M"+i.x+" "+i.y+`
		L`+c+" "+f+`
		A `+r+" "+r+" 0 "+u+" "+(a?1:0)+`
		`+d+" "+m+` z
		L`+c+" "+m+`
		A `+r+" "+r+" 0 "+u+" "+(a?1:0)+`
		`+d+" "+_+" z"}function Ua(s,o,i,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,c=i.x+s.x,f=i.y+s.y,d=i.x+o.x,m=i.y+o.y;return"M"+c+" "+f+`
		A `+r+" "+r+" 0 "+u+" "+(a?1:0)+`
		`+d+" "+m}function Ga(s,o,i,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,c=i.x+s.x,f=i.y+s.y,d=i.x+o.x,m=2*r+f,_=i.y+s.y;return"M"+c+" "+f+`
		A `+r+" "+r+" 0 "+u+" "+(a?1:0)+`
		`+d+" "+m+`
		M`+c+" "+m+`
		A `+r+" "+r+" 0 "+u+" "+(a?1:0)+`
		`+d+" "+_}function er(s,o){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],r="path-fill-gradient-"+o+"-"+(i?"lighter":"default"),a=Za(s,r),u=[1,.6,.2];return i&&(u=[.4,.2,0]),bn(a,"0%",o,u[0]),bn(a,"50%",o,u[1]),bn(a,"100%",o,u[2]),r}function Va(s,o,i,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:Nr,u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"none";return st("rect",{className:"percentage-bar",x:s,y:o,width:i,height:r,fill:u,styles:{stroke:Sn(u,-25),"stroke-dasharray":"0, "+(r+i)+", "+i+", "+r,"stroke-width":a}})}function Ar(s,o,i,r,a){var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"none",c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},f={className:s,x:o,y:i,width:r,height:r,rx:a,fill:u};return Object.keys(c).map(function(d){f[d]=c[d]}),st("rect",f)}function qa(s,o,i){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none",a=arguments[4];a=arguments.length>5&&arguments[5]!==void 0&&arguments[5]?En(a,Rr):a;var u={className:"legend-bar",x:0,y:0,width:i,height:"2px",fill:r},c=st("text",{className:"legend-dataset-text",x:0,y:0,dy:2*yt+"px","font-size":1.2*yt+"px","text-anchor":"start",fill:zn,innerHTML:a}),f=st("g",{transform:"translate("+s+", "+o+")"});return f.appendChild(st("rect",u)),f.appendChild(c),f}function Ya(s,o,i){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none",a=arguments[4];a=arguments.length>5&&arguments[5]!==void 0&&arguments[5]?En(a,Rr):a;var u={className:"legend-dot",cx:0,cy:0,r:i,fill:r},c=st("text",{className:"legend-dataset-text",x:0,y:0,dx:yt+"px",dy:yt/3+"px","font-size":1.2*yt+"px","text-anchor":"start",fill:zn,innerHTML:a}),f=st("g",{transform:"translate("+s+", "+o+")"});return f.appendChild(st("circle",u)),f.appendChild(c),f}function ii(s,o,i,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},u=a.fontSize||yt;return st("text",{className:s,x:o,y:i,dy:(a.dy!==void 0?a.dy:u/2)+"px","font-size":u+"px",fill:a.fill||zn,"text-anchor":a.textAnchor||"start",innerHTML:r})}function $a(s,o,i,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};a.stroke||(a.stroke=Se);var u=st("line",{className:"line-vertical "+a.className,x1:0,x2:0,y1:i,y2:r,styles:{stroke:a.stroke}}),c=st("text",{x:0,y:i>r?i+Qt:i-Qt-yt,dy:yt+"px","font-size":yt+"px","text-anchor":"middle",innerHTML:o+""}),f=st("g",{transform:"translate("+s+", 0)"});return f.appendChild(u),f.appendChild(c),f}function Er(s,o,i,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};a.stroke||(a.stroke=Se),a.lineType||(a.lineType=""),a.shortenNumbers&&(o=Ba(o));var u=st("line",{className:"line-horizontal "+a.className+(a.lineType==="dashed"?"dashed":""),x1:i,x2:r,y1:0,y2:0,styles:{stroke:a.stroke}}),c=st("text",{x:i<r?i-Qt:i+Qt,y:0,dy:yt/2-2+"px","font-size":yt+"px","text-anchor":i<r?"end":"start",innerHTML:o+""}),f=st("g",{transform:"translate(0, "+s+")","stroke-opacity":1});return c!==0&&c!=="0"||(f.style.stroke="rgba(27, 31, 35, 0.6)"),f.appendChild(u),f.appendChild(c),f}function Ka(s,o,i){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};Pe(s)||(s=0),r.pos||(r.pos="left"),r.offset||(r.offset=0),r.mode||(r.mode="span"),r.stroke||(r.stroke=Se),r.className||(r.className="");var a=-1*Oe,u=r.mode==="span"?i+Oe:0;return r.mode==="tick"&&r.pos==="right"&&(a=i+Oe,u=i),a+=r.offset,u+=r.offset,Er(s,o,a,u,{stroke:r.stroke,className:r.className,lineType:r.lineType,shortenNumbers:r.shortenNumbers})}function Xa(s,o,i){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};Pe(s)||(s=0),r.pos||(r.pos="bottom"),r.offset||(r.offset=0),r.mode||(r.mode="span"),r.stroke||(r.stroke=Se),r.className||(r.className="");var a=i+Oe,u=r.mode==="span"?-1*Oe:i;return r.mode==="tick"&&r.pos==="top"&&(a=-1*Oe,u=0),$a(s,o,a,u,{stroke:r.stroke,className:r.className,lineType:r.lineType})}function Ja(s,o,i){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};r.labelPos||(r.labelPos="right");var a=st("text",{className:"chart-label",x:r.labelPos==="left"?Qt:i-kr(o,5)-Qt,y:0,dy:yt/-2+"px","font-size":yt+"px","text-anchor":"start",innerHTML:o+""}),u=Er(s,"",0,i,{stroke:r.stroke||Se,className:r.className||"",lineType:r.lineType});return u.appendChild(a),u}function Qa(s,o,i,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},u=s-o,c=st("rect",{className:"bar mini",styles:{fill:"rgba(228, 234, 239, 0.49)",stroke:Se,"stroke-dasharray":i+", "+u},x:0,y:0,width:i,height:u});a.labelPos||(a.labelPos="right");var f=st("text",{className:"chart-label",x:a.labelPos==="left"?Qt:i-kr(r+"",4.5)-Qt,y:0,dy:yt/-2+"px","font-size":yt+"px","text-anchor":"start",innerHTML:r+""}),d=st("g",{transform:"translate(0, "+o+")"});return d.appendChild(c),d.appendChild(f),d}function tl(s,o,i,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"",u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:0,f=arguments.length>7&&arguments[7]!==void 0?arguments[7]:{},d=Cr(o,f.zeroLine),m=vu(d,2),_=m[0],g=m[1];g-=c,_===0&&(_=f.minHeight,g-=f.minHeight),Pe(s)||(s=0),Pe(g)||(g=0),Pe(_,!0)||(_=0),Pe(i,!0)||(i=0);var y=st("rect",{className:"bar mini",style:"fill: "+r,"data-point-index":u,x:s,y:g,width:i,height:_});if((a+="")||a.length){y.setAttribute("y",0),y.setAttribute("x",0);var w=st("text",{className:"data-point-value",x:i/2,y:0,dy:yt/2*-1+"px","font-size":yt+"px","text-anchor":"middle",innerHTML:a}),P=st("g",{"data-point-index":u,transform:"translate("+s+", "+g+")"});return P.appendChild(y),P.appendChild(w),P}return y}function el(s,o,i,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"",u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,c=st("circle",{style:"fill: "+r,"data-point-index":u,cx:s,cy:o,r:i});if((a+="")||a.length){c.setAttribute("cy",0),c.setAttribute("cx",0);var f=st("text",{className:"data-point-value",x:0,y:0,dy:yt/2*-1-i+"px","font-size":yt+"px","text-anchor":"middle",innerHTML:a}),d=st("g",{"data-point-index":u,transform:"translate("+s+", "+o+")"});return d.appendChild(c),d.appendChild(f),d}return c}function il(s,o,i){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},u=o.map(function(g,y){return s[y]+","+g}).join("L");r.spline&&(u=Mr(s,o));var c=Ri("M"+u,"line-graph-path",i);if(r.heatline){var f=er(a.svgDefs,i);c.style.stroke="url(#"+f+")"}var d={path:c};if(r.regionFill){var m=er(a.svgDefs,i,!0),_="M"+s[0]+","+a.zeroLine+"L"+u+"L"+s.slice(-1)[0]+","+a.zeroLine;d.region=Ri(_,"region-fill","none","url(#"+m+")")}return d}function si(s,o,i,r){var a=typeof o=="string"?o:o.join(", ");return[s,{transform:i.join(", ")},r,te,"translate",{transform:a}]}function nl(s,o,i){return si(s,[i,0],[o,0],Ce)}function ir(s,o,i){return si(s,[0,i],[0,o],Ce)}function ol(s,o,i,r){var a=o-i,u=s.childNodes[0];return[[u,{height:a,"stroke-dasharray":u.getAttribute("width")+", "+a},Ce,te],si(s,[0,r],[0,i],Ce)]}function rl(s,o,i,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,u=Cr(i,(arguments.length>5&&arguments[5]!==void 0?arguments[5]:{}).zeroLine),c=xu(u,2),f=c[0],d=c[1];return d-=a,s.nodeName!=="rect"?[[s.childNodes[0],{width:r,height:f},ri,te],si(s,s.getAttribute("transform").split("(")[1].slice(0,-1),[o,d],Ce)]:[[s,{width:r,height:f,x:o,y:d},ri,te]]}function sl(s,o,i){return s.nodeName!=="circle"?[si(s,s.getAttribute("transform").split("(")[1].slice(0,-1),[o,i],Ce)]:[[s,{cx:o,cy:i},ri,te]]}function al(s,o,i,r,a){var u=[],c=i.map(function(g,y){return o[y]+","+g}).join("L");a&&(c=Mr(o,i));var f=[s.path,{d:"M"+c},ur,te];if(u.push(f),s.region){var d=o[0]+","+r+"L",m="L"+o.slice(-1)[0]+", "+r,_=[s.region,{d:"M"+d+c+m},ur,te];u.push(_)}return u}function nr(s,o){return[s,{d:o},ri,te]}function ll(s){if(Array.isArray(s)){for(var o=0,i=Array(s.length);o<s.length;o++)i[o]=s[o];return i}return Array.from(s)}function ul(s,o,i){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"linear",a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},c=s.cloneNode(!0),f=s.cloneNode(!0);for(var d in o){var m=void 0;m=d==="transform"?document.createElementNS("http://www.w3.org/2000/svg","animateTransform"):document.createElementNS("http://www.w3.org/2000/svg","animate");var _=u[d]||s.getAttribute(d),g=o[d],y={attributeName:d,from:_,to:g,begin:"0s",dur:i/1e3+"s",values:_+";"+g,keySplines:Tu[r],keyTimes:"0;1",calcMode:"spline",fill:"freeze"};a&&(y.type=a);for(var w in y)m.setAttribute(w,y[w]);c.appendChild(m),a?f.setAttribute(d,"translate("+g+")"):f.setAttribute(d,g)}return[c,f]}function Zi(s,o){s.style.transform=o,s.style.webkitTransform=o,s.style.msTransform=o,s.style.mozTransform=o,s.style.oTransform=o}function hl(s,o){var i=[],r=[];o.map(function(u){var c=u[0],f=c.parentNode,d=void 0,m=void 0;u[0]=c;var _=ul.apply(void 0,ll(u)),g=Lu(_,2);d=g[0],m=g[1],i.push(m),r.push([d,f]),f&&f.replaceChild(d,c)});var a=s.cloneNode(!0);return r.map(function(u,c){u[1]&&(u[1].replaceChild(i[c],u[0]),o[c][0]=i[c])}),a}function cl(s,o,i){if(i.length!==0){var r=hl(o,i);o.parentNode==s&&(s.removeChild(o),s.appendChild(r)),setTimeout(function(){r.parentNode==s&&(s.removeChild(r),s.appendChild(o))},Pu)}}function fl(s,o){var i=document.createElement("a");i.style="display: none";var r=new Blob(o,{type:"image/svg+xml; charset=utf-8"}),a=window.URL.createObjectURL(r);i.href=a,i.download=s,document.body.appendChild(i),i.click(),setTimeout(function(){document.body.removeChild(i),window.URL.revokeObjectURL(a)},300)}function dl(s){var o=s.cloneNode(!0);o.classList.add("chart-container"),o.setAttribute("xmlns","http://www.w3.org/2000/svg"),o.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink");var i=Jt.create("style",{innerHTML:ku});o.insertBefore(i,o.firstChild);var r=Jt.create("div");return r.appendChild(o),r.innerHTML}function pl(s,o){if(!(s instanceof o))throw new TypeError("Cannot call a class as a function")}function ml(s,o){if(!(s instanceof o))throw new TypeError("Cannot call a class as a function")}function _l(s,o){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||typeof o!="object"&&typeof o!="function"?s:o}function gl(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(s,o):s.__proto__=o)}function or(s){var o=new Date(s);return o.setMinutes(o.getMinutes()-o.getTimezoneOffset()),o}function wn(s){var o=s.getDate(),i=s.getMonth()+1;return[s.getFullYear(),(i>9?"":"0")+i,(o>9?"":"0")+o].join("-")}function ue(s){return new Date(s.getTime())}function xn(s,o){var i=zr(s);return Math.ceil(vl(i,o)/Je)}function vl(s,o){var i=Au*Zr;return(or(o)-or(s))/i}function yl(s,o){return s.getMonth()===o.getMonth()&&s.getFullYear()===o.getFullYear()}function Sr(s){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=Eu[s];return o?i.slice(0,3):i}function rr(s,o){return new Date(o,s+1,0)}function zr(s){var o=ue(s),i=o.getDay();return i!==0&&we(o,-1*i),o}function we(s,o){s.setDate(s.getDate()+o)}function bl(s,o){if(!(s instanceof o))throw new TypeError("Cannot call a class as a function")}function ai(s,o,i){var r=Object.keys(cr).filter(function(u){return s.includes(u)}),a=cr[r[0]];return Object.assign(a,{constants:o,getData:i}),new Iu(a)}function wl(s){if(Array.isArray(s)){for(var o=0,i=Array(s.length);o<s.length;o++)i[o]=s[o];return i}return Array.from(s)}function xl(s,o){if(!(s instanceof o))throw new TypeError("Cannot call a class as a function")}function Pl(s,o){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||typeof o!="object"&&typeof o!="function"?s:o}function Ll(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(s,o):s.__proto__=o)}function Tl(s){if(Array.isArray(s)){for(var o=0,i=Array(s.length);o<s.length;o++)i[o]=s[o];return i}return Array.from(s)}function kl(s,o){if(!(s instanceof o))throw new TypeError("Cannot call a class as a function")}function Ol(s,o){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||typeof o!="object"&&typeof o!="function"?s:o}function Cl(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(s,o):s.__proto__=o)}function Mn(s){if(Array.isArray(s)){for(var o=0,i=Array(s.length);o<s.length;o++)i[o]=s[o];return i}return Array.from(s)}function Xe(s){if(s===0)return[0,0];if(isNaN(s))return{mantissa:-6755399441055744,exponent:972};var o=s>0?1:-1;if(!isFinite(s))return{mantissa:4503599627370496*o,exponent:972};s=Math.abs(s);var i=Math.floor(Math.log10(s));return[o*(s/Math.pow(10,i)),i]}function Ml(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Math.ceil(s),r=Math.floor(o),a=i-r,u=a,c=1;a>5&&(a%2!=0&&(a=++i-r),u=a/2,c=2),a<=2&&(c=a/(u=4)),a===0&&(u=5,c=1);for(var f=[],d=0;d<=u;d++)f.push(r+c*d);return f}function Ye(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Xe(s),r=ju(i,2),a=r[0],u=r[1],c=o?o/Math.pow(10,u):0,f=Ml(a=a.toFixed(6),c);return f=f.map(function(d){return d*Math.pow(10,u)})}function Al(s){function o(m,_){for(var g=Ye(m),y=g[1]-g[0],w=0,P=1;w<_;P++)w+=y,g.unshift(-1*w);return g}var i=arguments.length>1&&arguments[1]!==void 0&&arguments[1],r=Math.max.apply(Math,Mn(s)),a=Math.min.apply(Math,Mn(s)),u=[];if(r>=0&&a>=0)Xe(r)[1],u=i?Ye(r,a):Ye(r);else if(r>0&&a<0){var c=Math.abs(a);r>=c?(Xe(r)[1],u=o(r,c)):(Xe(c)[1],u=o(c,r).reverse().map(function(m){return-1*m}))}else if(r<=0&&a<=0){var f=Math.abs(a),d=Math.abs(r);Xe(f)[1],u=(u=i?Ye(f,d):Ye(f)).reverse().map(function(m){return-1*m})}return u}function El(s){var o=Ir(s);return s.indexOf(0)>=0?s.indexOf(0):s[0]>0?-1*s[0]/o:-1*s[s.length-1]/o+(s.length-1)}function Ir(s){return s[1]-s[0]}function Sl(s){return s[s.length-1]-s[0]}function Mi(s,o){return Tr(o.zeroLine-s*o.scaleMultiplier)}function zl(s,o){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],r=o.reduce(function(a,u){return Math.abs(u-s)<Math.abs(a-s)?u:a},[]);return i?o.indexOf(r):r}function Il(s,o){for(var i=Math.max.apply(Math,Mn(s)),r=1/(o-1),a=[],u=0;u<o;u++){var c=i*(r*u);a.push(c)}return a}function Nl(s,o){return o.filter(function(i){return i<s}).length}function Dl(s){if(Array.isArray(s)){for(var o=0,i=Array(s.length);o<s.length;o++)i[o]=s[o];return i}return Array.from(s)}function Bl(s,o){if(!(s instanceof o))throw new TypeError("Cannot call a class as a function")}function Rl(s,o){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||typeof o!="object"&&typeof o!="function"?s:o}function Zl(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(s,o):s.__proto__=o)}function jl(s){if(Array.isArray(s)){for(var o=0,i=Array(s.length);o<s.length;o++)i[o]=s[o];return i}return Array.from(s)}function Fl(s,o){s.labels=s.labels||[];var i=s.labels.length,r=s.datasets,a=new Array(i).fill(0);return r||(r=[{values:a}]),r.map(function(u){if(u.values){var c=u.values;c=(c=c.map(function(f){return isNaN(f)?0:f})).length>i?c.slice(0,i):On(c,i-c.length,0),u.values=c}else u.values=a;u.chartType||(u.chartType=o)}),s.yRegions&&s.yRegions.map(function(u){if(u.end<u.start){var c=[u.end,u.start];u.start=c[0],u.end=c[1]}}),s}function Hl(s){var o=s.labels.length,i=new Array(o).fill(0),r={labels:s.labels.slice(0,-1),datasets:s.datasets.map(function(a){return{name:"",values:i.slice(0,-1),chartType:a.chartType}})};return s.yMarkers&&(r.yMarkers=[{value:0,label:""}]),s.yRegions&&(r.yRegions=[{start:0,end:0,label:""}]),r}function Wl(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],r=s/o.length;r<=0&&(r=1);var a=r/hu,u=void 0;if(i){var c=Math.max.apply(Math,jl(o.map(function(f){return f.length})));u=Math.ceil(c/a)}return o.map(function(f,d){return(f+="").length>a&&(i?d%u!=0&&(f=""):f=a-3>0?f.slice(0,a-3)+" ...":f.slice(0,a)+".."),f})}function sr(s){if(Array.isArray(s)){for(var o=0,i=Array(s.length);o<s.length;o++)i[o]=s[o];return i}return Array.from(s)}function Ul(s,o){if(!(s instanceof o))throw new TypeError("Cannot call a class as a function")}function Gl(s,o){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||typeof o!="object"&&typeof o!="function"?s:o}function Vl(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(s,o):s.__proto__=o)}function ql(s){if(Array.isArray(s)){for(var o=0,i=Array(s.length);o<s.length;o++)i[o]=s[o];return i}return Array.from(s)}function Yl(s,o){if(!(s instanceof o))throw new TypeError("Cannot call a class as a function")}function $l(s,o){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||typeof o!="object"&&typeof o!="function"?s:o}function Kl(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(s,o):s.__proto__=o)}function Xl(s,o){if(!(s instanceof o))throw new TypeError("Cannot call a class as a function")}function Jl(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"line",o=arguments[1],i=arguments[2];return s==="axis-mixed"?(i.type="line",new An(o,i)):pr[s]?new pr[s](o,i):void console.error("Undefined chart type: "+s)}var Ql='.chart-container{position:relative;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif}.chart-container .axis,.chart-container .chart-label{fill:#555b51}.chart-container .axis line,.chart-container .chart-label line{stroke:#dadada}.chart-container .dataset-units circle{stroke:#fff;stroke-width:2}.chart-container .dataset-units path{fill:none;stroke-opacity:1;stroke-width:2px}.chart-container .dataset-path{stroke-width:2px}.chart-container .path-group path{fill:none;stroke-opacity:1;stroke-width:2px}.chart-container line.dashed{stroke-dasharray:5,3}.chart-container .axis-line .specific-value{text-anchor:start}.chart-container .axis-line .y-line{text-anchor:end}.chart-container .axis-line .x-line{text-anchor:middle}.chart-container .legend-dataset-text{fill:#6c7680;font-weight:600}.graph-svg-tip{position:absolute;z-index:99999;padding:10px;font-size:12px;color:#959da5;text-align:center;background:rgba(0,0,0,.8);border-radius:3px}.graph-svg-tip ol,.graph-svg-tip ul{padding-left:0;display:-webkit-box;display:-ms-flexbox;display:flex}.graph-svg-tip ul.data-point-list li{min-width:90px;-webkit-box-flex:1;-ms-flex:1;flex:1;font-weight:600}.graph-svg-tip strong{color:#dfe2e5;font-weight:600}.graph-svg-tip .svg-pointer{position:absolute;height:5px;margin:0 0 0 -5px;content:" ";border:5px solid transparent;border-top-color:rgba(0,0,0,.8)}.graph-svg-tip.comparison{padding:0;text-align:left;pointer-events:none}.graph-svg-tip.comparison .title{display:block;padding:10px;margin:0;font-weight:600;line-height:1;pointer-events:none}.graph-svg-tip.comparison ul{margin:0;white-space:nowrap;list-style:none}.graph-svg-tip.comparison li{display:inline-block;padding:5px 10px}';Aa(Ql);var tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s};Jt.create=function(s,o){var i=document.createElement(s);for(var r in o){var a=o[r];if(r==="inside")Jt(a).appendChild(i);else if(r==="around"){var u=Jt(a);u.parentNode.insertBefore(i,u),i.appendChild(u)}else r==="styles"?(a===void 0?"undefined":tu(a))==="object"&&Object.keys(a).map(function(c){i.style[c]=a[c]}):r in i?i[r]=a:i.setAttribute(r,a)}return i};var eu={margins:{top:10,bottom:10,left:20,right:20},paddings:{top:20,bottom:40,left:30,right:10},baseHeight:240,titleHeight:20,legendHeight:30,titleFontSize:12},iu=700,nu=400,ou=100,ru=.5,su=0,au=4,ar=4,lu=20,Nr=2,Pn=5,xe=10,uu=2,hu=7,cu=5,$e=["light-blue","blue","violet","red","orange","yellow","green","light-green","purple","magenta","light-grey","dark-grey"],fu=["#ebedf0","#c6e48b","#7bc96f","#239a3b","#196127"],du={bar:$e,line:$e,pie:$e,percentage:$e,heatmap:fu,donut:$e},lr=Math.PI/180,Dr=360,pu=function(){function s(o,i){for(var r=0;r<i.length;r++){var a=i[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,a.key,a)}}return function(o,i,r){return i&&s(o.prototype,i),r&&s(o,r),o}}(),mu=function(){function s(o){var i=o.parent,r=i===void 0?null:i,a=o.colors,u=a===void 0?[]:a;Na(this,s),this.parent=r,this.colors=u,this.titleName="",this.titleValue="",this.listValues=[],this.titleValueFirst=0,this.x=0,this.y=0,this.top=0,this.left=0,this.setup()}return pu(s,[{key:"setup",value:function(){this.makeTooltip()}},{key:"refresh",value:function(){this.fill(),this.calcPosition()}},{key:"makeTooltip",value:function(){var o=this;this.container=Jt.create("div",{inside:this.parent,className:"graph-svg-tip comparison",innerHTML:`<span class="title"></span>
				<ul class="data-point-list"></ul>
				<div class="svg-pointer"></div>`}),this.hideTip(),this.title=this.container.querySelector(".title"),this.dataPointList=this.container.querySelector(".data-point-list"),this.parent.addEventListener("mouseleave",function(){o.hideTip()})}},{key:"fill",value:function(){var o=this,i=void 0;this.index&&this.container.setAttribute("data-point-index",this.index),i=this.titleValueFirst?"<strong>"+this.titleValue+"</strong>"+this.titleName:this.titleName+"<strong>"+this.titleValue+"</strong>",this.title.innerHTML=i,this.dataPointList.innerHTML="",this.listValues.map(function(r,a){var u=o.colors[a]||"black",c=r.formatted===0||r.formatted?r.formatted:r.value,f=Jt.create("li",{styles:{"border-top":"3px solid "+u},innerHTML:'<strong style="display: block;">'+(c===0||c?c:"")+`</strong>
					`+(r.title?r.title:"")});o.dataPointList.appendChild(f)})}},{key:"calcPosition",value:function(){var o=this.container.offsetWidth;this.top=this.y-this.container.offsetHeight-cu,this.left=this.x-o/2;var i=this.parent.offsetWidth-o,r=this.container.querySelector(".svg-pointer");if(this.left<0)r.style.left="calc(50% - "+-1*this.left+"px)",this.left=0;else if(this.left>i){var a="calc(50% + "+(this.left-i)+"px)";r.style.left=a,this.left=i}else r.style.left="50%"}},{key:"setValues",value:function(o,i){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;this.titleName=r.name,this.titleValue=r.value,this.listValues=a,this.x=o,this.y=i,this.titleValueFirst=r.valueFirst||0,this.index=u,this.refresh()}},{key:"hideTip",value:function(){this.container.style.top="0px",this.container.style.left="0px",this.container.style.opacity="0"}},{key:"showTip",value:function(){this.container.style.top=this.top+"px",this.container.style.left=this.left+"px",this.container.style.opacity="1"}}]),s}(),_u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},gu={"light-blue":"#7cd6fd",blue:"#5e64ff",violet:"#743ee2",red:"#ff5858",orange:"#ffa00a",yellow:"#feef72",green:"#28a745","light-green":"#98d85b",purple:"#b554ff",magenta:"#ffa3ef",black:"#36114C",grey:"#bdd3e6","light-grey":"#f0f4f7","dark-grey":"#b8c2cc"},Br=function(s){return/rgb[a]{0,1}\([\d, ]+\)/gim.test(s)?/\D+(\d*)\D+(\d*)\D+(\d*)/gim.exec(s).map(function(o,i){return i!==0?Number(o).toString(16):"#"}).reduce(function(o,i){return""+o+i}):gu[s]||s},vu=function(){function s(o,i){var r=[],a=!0,u=!1,c=void 0;try{for(var f,d=o[Symbol.iterator]();!(a=(f=d.next()).done)&&(r.push(f.value),!i||r.length!==i);a=!0);}catch(m){u=!0,c=m}finally{try{!a&&d.return&&d.return()}finally{if(u)throw c}}return r}return function(o,i){if(Array.isArray(o))return o;if(Symbol.iterator in Object(o))return s(o,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Oe=6,Qt=4,Rr=15,yt=10,Se="#dadada",zn="#555b51",bu={bar:function(s){var o=void 0;s.nodeName!=="rect"&&(o=s.getAttribute("transform"),s=s.childNodes[0]);var i=s.cloneNode();return i.style.fill="#000000",i.style.opacity="0.4",o&&i.setAttribute("transform",o),i},dot:function(s){var o=void 0;s.nodeName!=="circle"&&(o=s.getAttribute("transform"),s=s.childNodes[0]);var i=s.cloneNode(),r=s.getAttribute("r"),a=s.getAttribute("fill");return i.setAttribute("r",parseInt(r)+ar),i.setAttribute("fill",a),i.style.opacity="0.6",o&&i.setAttribute("transform",o),i},heat_square:function(s){var o=void 0;s.nodeName!=="circle"&&(o=s.getAttribute("transform"),s=s.childNodes[0]);var i=s.cloneNode(),r=s.getAttribute("r"),a=s.getAttribute("fill");return i.setAttribute("r",parseInt(r)+ar),i.setAttribute("fill",a),i.style.opacity="0.6",o&&i.setAttribute("transform",o),i}},wu={bar:function(s,o){var i=void 0;s.nodeName!=="rect"&&(i=s.getAttribute("transform"),s=s.childNodes[0]);var r=["x","y","width","height"];Object.values(s.attributes).filter(function(a){return r.includes(a.name)&&a.specified}).map(function(a){o.setAttribute(a.name,a.nodeValue)}),i&&o.setAttribute("transform",i)},dot:function(s,o){var i=void 0;s.nodeName!=="circle"&&(i=s.getAttribute("transform"),s=s.childNodes[0]);var r=["cx","cy"];Object.values(s.attributes).filter(function(a){return r.includes(a.name)&&a.specified}).map(function(a){o.setAttribute(a.name,a.nodeValue)}),i&&o.setAttribute("transform",i)},heat_square:function(s,o){var i=void 0;s.nodeName!=="circle"&&(i=s.getAttribute("transform"),s=s.childNodes[0]);var r=["cx","cy"];Object.values(s.attributes).filter(function(a){return r.includes(a.name)&&a.specified}).map(function(a){o.setAttribute(a.name,a.nodeValue)}),i&&o.setAttribute("transform",i)}},xu=function(){function s(o,i){var r=[],a=!0,u=!1,c=void 0;try{for(var f,d=o[Symbol.iterator]();!(a=(f=d.next()).done)&&(r.push(f.value),!i||r.length!==i);a=!0);}catch(m){u=!0,c=m}finally{try{!a&&d.return&&d.return()}finally{if(u)throw c}}return r}return function(o,i){if(Array.isArray(o))return o;if(Symbol.iterator in Object(o))return s(o,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ri=350,ur=350,Ce=ri,Pu=250,te="easein",Lu=function(){function s(o,i){var r=[],a=!0,u=!1,c=void 0;try{for(var f,d=o[Symbol.iterator]();!(a=(f=d.next()).done)&&(r.push(f.value),!i||r.length!==i);a=!0);}catch(m){u=!0,c=m}finally{try{!a&&d.return&&d.return()}finally{if(u)throw c}}return r}return function(o,i){if(Array.isArray(o))return o;if(Symbol.iterator in Object(o))return s(o,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Tu={ease:"0.25 0.1 0.25 1",linear:"0 0 1 1",easein:"0.1 0.8 0.2 1",easeout:"0 0 0.58 1",easeinout:"0.42 0 0.58 1"},ku=".chart-container{position:relative;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue',sans-serif}.chart-container .axis,.chart-container .chart-label{fill:#555b51}.chart-container .axis line,.chart-container .chart-label line{stroke:#dadada}.chart-container .dataset-units circle{stroke:#fff;stroke-width:2}.chart-container .dataset-units path{fill:none;stroke-opacity:1;stroke-width:2px}.chart-container .dataset-path{stroke-width:2px}.chart-container .path-group path{fill:none;stroke-opacity:1;stroke-width:2px}.chart-container line.dashed{stroke-dasharray:5,3}.chart-container .axis-line .specific-value{text-anchor:start}.chart-container .axis-line .y-line{text-anchor:end}.chart-container .axis-line .x-line{text-anchor:middle}.chart-container .legend-dataset-text{fill:#6c7680;font-weight:600}.graph-svg-tip{position:absolute;z-index:99999;padding:10px;font-size:12px;color:#959da5;text-align:center;background:rgba(0,0,0,.8);border-radius:3px}.graph-svg-tip ul{padding-left:0;display:flex}.graph-svg-tip ol{padding-left:0;display:flex}.graph-svg-tip ul.data-point-list li{min-width:90px;flex:1;font-weight:600}.graph-svg-tip strong{color:#dfe2e5;font-weight:600}.graph-svg-tip .svg-pointer{position:absolute;height:5px;margin:0 0 0 -5px;content:' ';border:5px solid transparent;border-top-color:rgba(0,0,0,.8)}.graph-svg-tip.comparison{padding:0;text-align:left;pointer-events:none}.graph-svg-tip.comparison .title{display:block;padding:10px;margin:0;font-weight:600;line-height:1;pointer-events:none}.graph-svg-tip.comparison ul{margin:0;white-space:nowrap;list-style:none}.graph-svg-tip.comparison li{display:inline-block;padding:5px 10px}",Ou=function(){function s(o,i){for(var r=0;r<i.length;r++){var a=i[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,a.key,a)}}return function(o,i,r){return i&&s(o.prototype,i),r&&s(o,r),o}}(),In=function(){function s(o,i){if(pl(this,s),i=Or(i),this.parent=typeof o=="string"?document.querySelector(o):o,!(this.parent instanceof HTMLElement))throw new Error("No `parent` element to render on was provided.");this.rawChartArgs=i,this.title=i.title||"",this.type=i.type||"",this.realData=this.prepareData(i.data),this.data=this.prepareFirstData(this.realData),this.colors=this.validateColors(i.colors,this.type),this.config={showTooltip:1,showLegend:1,isNavigable:i.isNavigable||0,animate:i.animate!==void 0?i.animate:1,truncateLegends:i.truncateLegends||1},this.measures=JSON.parse(JSON.stringify(eu));var r=this.measures;this.setMeasures(i),this.title.length||(r.titleHeight=0),this.config.showLegend||(r.legendHeight=0),this.argHeight=i.height||r.baseHeight,this.state={},this.options={},this.initTimeout=iu,this.config.isNavigable&&(this.overlays=[]),this.configure(i)}return Ou(s,[{key:"prepareData",value:function(o){return o}},{key:"prepareFirstData",value:function(o){return o}},{key:"validateColors",value:function(o,i){var r=[];return(o=(o||[]).concat(du[i])).forEach(function(a){var u=Br(a);Ra(u)?r.push(u):console.warn('"'+a+'" is not a valid color.')}),r}},{key:"setMeasures",value:function(){}},{key:"configure",value:function(){var o=this,i=this.argHeight;this.baseHeight=i,this.height=i-Lr(this.measures),this.boundDrawFn=function(){return o.draw(!0)},ResizeObserver&&(this.resizeObserver=new ResizeObserver(this.boundDrawFn),this.resizeObserver.observe(this.parent)),window.addEventListener("resize",this.boundDrawFn),window.addEventListener("orientationchange",this.boundDrawFn)}},{key:"destroy",value:function(){this.resizeObserver&&this.resizeObserver.disconnect(),window.removeEventListener("resize",this.boundDrawFn),window.removeEventListener("orientationchange",this.boundDrawFn)}},{key:"setup",value:function(){this.makeContainer(),this.updateWidth(),this.makeTooltip(),this.draw(!1,!0)}},{key:"makeContainer",value:function(){this.parent.innerHTML="";var o={inside:this.parent,className:"chart-container"};this.independentWidth&&(o.styles={width:this.independentWidth+"px"}),this.container=Jt.create("div",o)}},{key:"makeTooltip",value:function(){this.tip=new mu({parent:this.container,colors:this.colors}),this.bindTooltip()}},{key:"bindTooltip",value:function(){}},{key:"draw",value:function(){var o=this,i=arguments.length>0&&arguments[0]!==void 0&&arguments[0],r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];i&&Ea(this.parent)||(this.updateWidth(),this.calc(i),this.makeChartArea(),this.setupComponents(),this.components.forEach(function(a){return a.setup(o.drawArea)}),this.render(this.components,!1),r&&(this.data=this.realData,setTimeout(function(){o.update(o.data)},this.initTimeout)),this.renderLegend(),this.setupNavigation(r))}},{key:"calc",value:function(){}},{key:"updateWidth",value:function(){this.baseWidth=za(this.parent),this.width=this.baseWidth-Bi(this.measures)}},{key:"makeChartArea",value:function(){this.svg&&this.container.removeChild(this.svg);var o=this.measures;this.svg=ja(this.container,"frappe-chart chart",this.baseWidth,this.baseHeight),this.svgDefs=Fa(this.svg),this.title.length&&(this.titleEL=ii("title",o.margins.left,o.margins.top,this.title,{fontSize:o.titleFontSize,fill:"#666666",dy:o.titleFontSize}));var i=Di(o);this.drawArea=Cn(this.type+"-chart chart-draw-area","translate("+Si(o)+", "+i+")"),this.config.showLegend&&(i+=this.height+o.paddings.bottom,this.legendArea=Cn("chart-legend","translate("+Si(o)+", "+i+")")),this.title.length&&this.svg.appendChild(this.titleEL),this.svg.appendChild(this.drawArea),this.config.showLegend&&this.svg.appendChild(this.legendArea),this.updateTipOffset(Si(o),Di(o))}},{key:"updateTipOffset",value:function(o,i){this.tip.offset={x:o,y:i}}},{key:"setupComponents",value:function(){this.components=new Map}},{key:"update",value:function(o){o||console.error("No data to update."),this.data=this.prepareData(o),this.calc(),this.render(this.components,this.config.animate),this.renderLegend()}},{key:"render",value:function(){var o=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.components,r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.config.isNavigable&&this.overlays.map(function(u){return u.parentNode.removeChild(u)});var a=[];i.forEach(function(u){a=a.concat(u.update(r))}),a.length>0?(cl(this.container,this.svg,a),setTimeout(function(){i.forEach(function(u){return u.make()}),o.updateNav()},nu)):(i.forEach(function(u){return u.make()}),this.updateNav())}},{key:"updateNav",value:function(){this.config.isNavigable&&(this.makeOverlay(),this.bindUnits())}},{key:"renderLegend",value:function(){}},{key:"setupNavigation",value:function(){var o=this,i=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.config.isNavigable&&i&&(this.bindOverlay(),this.keyActions={13:this.onEnterKey.bind(this),37:this.onLeftArrow.bind(this),38:this.onUpArrow.bind(this),39:this.onRightArrow.bind(this),40:this.onDownArrow.bind(this)},document.addEventListener("keydown",function(r){Sa(o.container)&&(r=r||window.event,o.keyActions[r.keyCode]&&o.keyActions[r.keyCode]())}))}},{key:"makeOverlay",value:function(){}},{key:"updateOverlay",value:function(){}},{key:"bindOverlay",value:function(){}},{key:"bindUnits",value:function(){}},{key:"onLeftArrow",value:function(){}},{key:"onRightArrow",value:function(){}},{key:"onUpArrow",value:function(){}},{key:"onDownArrow",value:function(){}},{key:"onEnterKey",value:function(){}},{key:"addDataPoint",value:function(){}},{key:"removeDataPoint",value:function(){}},{key:"getDataPoint",value:function(){}},{key:"setCurrentDataPoint",value:function(){}},{key:"updateDataset",value:function(){}},{key:"export",value:function(){var o=dl(this.svg);fl(this.title||"Chart",[o])}}]),s}(),Cu=function(){function s(o,i){for(var r=0;r<i.length;r++){var a=i[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,a.key,a)}}return function(o,i,r){return i&&s(o.prototype,i),r&&s(o,r),o}}(),Mu=function s(o,i,r){o===null&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,i);if(a===void 0){var u=Object.getPrototypeOf(o);return u===null?void 0:s(u,i,r)}if("value"in a)return a.value;var c=a.get;if(c!==void 0)return c.call(r)},Nn=function(s){function o(i,r){return ml(this,o),_l(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,i,r))}return gl(o,s),Cu(o,[{key:"configure",value:function(i){Mu(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"configure",this).call(this,i),this.config.formatTooltipY=(i.tooltipOptions||{}).formatTooltipY,this.config.maxSlices=i.maxSlices||20,this.config.maxLegendPoints=i.maxLegendPoints||20}},{key:"calc",value:function(){var i=this,r=this.state,a=this.config.maxSlices;r.sliceTotals=[];var u=this.data.labels.map(function(d,m){var _=0;return i.data.datasets.map(function(g){_+=g.values[m]}),[_,d]}).filter(function(d){return d[0]>=0}),c=u;if(u.length>a){u.sort(function(d,m){return m[0]-d[0]}),c=u.slice(0,a-1);var f=0;u.slice(a-1).map(function(d){f+=d[0]}),c.push([f,"Rest"]),this.colors[a-1]="grey"}r.labels=[],c.map(function(d){r.sliceTotals.push(Da(d[0])),r.labels.push(d[1])}),r.grandTotal=r.sliceTotals.reduce(function(d,m){return d+m},0),this.center={x:this.width/2,y:this.height/2}}},{key:"renderLegend",value:function(){var i=this,r=this.state;this.legendArea.textContent="",this.legendTotals=r.sliceTotals.slice(0,this.config.maxLegendPoints);var a=0,u=0;this.legendTotals.map(function(c,f){var d=150,m=Math.floor((i.width-Bi(i.measures))/d);i.legendTotals.length<m&&(d=i.width/i.legendTotals.length),a>m&&(a=0,u+=20);var _=d*a+5,g=i.config.truncateLegends?En(r.labels[f],d/10):r.labels[f],y=i.config.formatTooltipY?i.config.formatTooltipY(c):c,w=Ya(_,u,5,i.colors[f],g+": "+y,!1);i.legendArea.appendChild(w),a++})}}]),o}(In),hr=12,Je=7,Zr=1e3,Au=86400,Eu=["January","February","March","April","May","June","July","August","September","October","November","December"],Su=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Ot=function(){function s(o,i){var r=[],a=!0,u=!1,c=void 0;try{for(var f,d=o[Symbol.iterator]();!(a=(f=d.next()).done)&&(r.push(f.value),!i||r.length!==i);a=!0);}catch(m){u=!0,c=m}finally{try{!a&&d.return&&d.return()}finally{if(u)throw c}}return r}return function(o,i){if(Array.isArray(o))return o;if(Symbol.iterator in Object(o))return s(o,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),zu=function(){function s(o,i){for(var r=0;r<i.length;r++){var a=i[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,a.key,a)}}return function(o,i,r){return i&&s(o.prototype,i),r&&s(o,r),o}}(),Iu=function(){function s(o){var i=o.layerClass,r=i===void 0?"":i,a=o.layerTransform,u=a===void 0?"":a,c=o.constants,f=o.getData,d=o.makeElements,m=o.animateElements;bl(this,s),this.layerTransform=u,this.constants=c,this.makeElements=d,this.getData=f,this.animateElements=m,this.store=[],this.labels=[],this.layerClass=r,this.layerClass=typeof this.layerClass=="function"?this.layerClass():this.layerClass,this.refresh()}return zu(s,[{key:"refresh",value:function(o){this.data=o||this.getData()}},{key:"setup",value:function(o){this.layer=Cn(this.layerClass,this.layerTransform,o)}},{key:"make",value:function(){this.render(this.data),this.oldData=this.data}},{key:"render",value:function(o){var i=this;this.store=this.makeElements(o),this.layer.textContent="",this.store.forEach(function(r){i.layer.appendChild(r)}),this.labels.forEach(function(r){i.layer.appendChild(r)})}},{key:"update",value:function(){var o=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.refresh();var i=[];return o&&(i=this.animateElements(this.data)||[]),i}}]),s}(),cr={donutSlices:{layerClass:"donut-slices",makeElements:function(s){return s.sliceStrings.map(function(o,i){var r=Ri(o,"donut-path",s.colors[i],"none",s.strokeWidth);return r.style.transition="transform .3s;",r})},animateElements:function(s){return this.store.map(function(o,i){return nr(o,s.sliceStrings[i])})}},pieSlices:{layerClass:"pie-slices",makeElements:function(s){return s.sliceStrings.map(function(o,i){var r=Ri(o,"pie-path","none",s.colors[i]);return r.style.transition="transform .3s;",r})},animateElements:function(s){return this.store.map(function(o,i){return nr(o,s.sliceStrings[i])})}},percentageBars:{layerClass:"percentage-bars",makeElements:function(s){var o=this;return s.xPositions.map(function(i,r){return Va(i,0,s.widths[r],o.constants.barHeight,o.constants.barDepth,s.colors[r])})},animateElements:function(s){if(s)return[]}},yAxis:{layerClass:"y axis",makeElements:function(s){var o=this;return s.positions.map(function(i,r){return Ka(i,s.labels[r],o.constants.width,{mode:o.constants.mode,pos:o.constants.pos,shortenNumbers:o.constants.shortenNumbers})})},animateElements:function(s){var o=s.positions,i=s.labels,r=this.oldData.positions,a=this.oldData.labels,u=kt(r,o),c=Ot(u,2);r=c[0],o=c[1];var f=kt(a,i),d=Ot(f,2);return a=d[0],i=d[1],this.render({positions:r,labels:i}),this.store.map(function(m,_){return ir(m,o[_],r[_])})}},xAxis:{layerClass:"x axis",makeElements:function(s){var o=this;return s.positions.map(function(i,r){return Xa(i,s.calcLabels[r],o.constants.height,{mode:o.constants.mode,pos:o.constants.pos})})},animateElements:function(s){var o=s.positions,i=s.calcLabels,r=this.oldData.positions,a=this.oldData.calcLabels,u=kt(r,o),c=Ot(u,2);r=c[0],o=c[1];var f=kt(a,i),d=Ot(f,2);return a=d[0],i=d[1],this.render({positions:r,calcLabels:i}),this.store.map(function(m,_){return nl(m,o[_],r[_])})}},yMarkers:{layerClass:"y-markers",makeElements:function(s){var o=this;return s.map(function(i){return Ja(i.position,i.label,o.constants.width,{labelPos:i.options.labelPos,mode:"span",lineType:"dashed"})})},animateElements:function(s){var o=kt(this.oldData,s),i=Ot(o,2);this.oldData=i[0];var r=(s=i[1]).map(function(f){return f.position}),a=s.map(function(f){return f.label}),u=s.map(function(f){return f.options}),c=this.oldData.map(function(f){return f.position});return this.render(c.map(function(f,d){return{position:c[d],label:a[d],options:u[d]}})),this.store.map(function(f,d){return ir(f,r[d],c[d])})}},yRegions:{layerClass:"y-regions",makeElements:function(s){var o=this;return s.map(function(i){return Qa(i.startPos,i.endPos,o.constants.width,i.label,{labelPos:i.options.labelPos})})},animateElements:function(s){var o=kt(this.oldData,s),i=Ot(o,2);this.oldData=i[0];var r=(s=i[1]).map(function(_){return _.endPos}),a=s.map(function(_){return _.label}),u=s.map(function(_){return _.startPos}),c=s.map(function(_){return _.options}),f=this.oldData.map(function(_){return _.endPos}),d=this.oldData.map(function(_){return _.startPos});this.render(f.map(function(_,g){return{startPos:d[g],endPos:f[g],label:a[g],options:c[g]}}));var m=[];return this.store.map(function(_,g){m=m.concat(ol(_,u[g],r[g],f[g]))}),m}},heatDomain:{layerClass:function(){return"heat-domain domain-"+this.constants.index},makeElements:function(s){var o=this,i=this.constants,r=i.index,a=i.colWidth,u=i.rowHeight,c=i.squareSize,f=i.radius,d=i.xTranslate,m=0;return this.serializedSubDomains=[],s.cols.map(function(_,g){g===1&&o.labels.push(ii("domain-name",d,-12,Sr(r,!0).toUpperCase(),{fontSize:9})),_.map(function(y,w){if(y.fill){var P={"data-date":y.yyyyMmDd,"data-value":y.dataValue,"data-day":w},C=Ar("day",d,m,c,f,y.fill,P);o.serializedSubDomains.push(C)}m+=u}),m=0,d+=a}),this.serializedSubDomains},animateElements:function(s){if(s)return[]}},barGraph:{layerClass:function(){return"dataset-units dataset-bars dataset-"+this.constants.index},makeElements:function(s){var o=this.constants;return this.unitType="bar",this.units=s.yPositions.map(function(i,r){return tl(s.xPositions[r],i,s.barWidth,o.color,s.labels[r],r,s.offsets[r],{zeroLine:s.zeroLine,barsWidth:s.barsWidth,minHeight:o.minHeight})}),this.units},animateElements:function(s){var o=s.xPositions,i=s.yPositions,r=s.offsets,a=s.labels,u=this.oldData.xPositions,c=this.oldData.yPositions,f=this.oldData.offsets,d=this.oldData.labels,m=kt(u,o),_=Ot(m,2);u=_[0],o=_[1];var g=kt(c,i),y=Ot(g,2);c=y[0],i=y[1];var w=kt(f,r),P=Ot(w,2);f=P[0],r=P[1];var C=kt(d,a),M=Ot(C,2);d=M[0],a=M[1],this.render({xPositions:u,yPositions:c,offsets:f,labels:a,zeroLine:this.oldData.zeroLine,barsWidth:this.oldData.barsWidth,barWidth:this.oldData.barWidth});var b=[];return this.store.map(function(k,x){b=b.concat(rl(k,o[x],i[x],s.barWidth,r[x],{zeroLine:s.zeroLine}))}),b}},lineGraph:{layerClass:function(){return"dataset-units dataset-line dataset-"+this.constants.index},makeElements:function(s){var o=this.constants;return this.unitType="dot",this.paths={},o.hideLine||(this.paths=il(s.xPositions,s.yPositions,o.color,{heatline:o.heatline,regionFill:o.regionFill,spline:o.spline},{svgDefs:o.svgDefs,zeroLine:s.zeroLine})),this.units=[],o.hideDots||(this.units=s.yPositions.map(function(i,r){return el(s.xPositions[r],i,s.radius,o.color,o.valuesOverPoints?s.values[r]:"",r)})),Object.values(this.paths).concat(this.units)},animateElements:function(s){var o=s.xPositions,i=s.yPositions,r=s.values,a=this.oldData.xPositions,u=this.oldData.yPositions,c=this.oldData.values,f=kt(a,o),d=Ot(f,2);a=d[0],o=d[1];var m=kt(u,i),_=Ot(m,2);u=_[0],i=_[1];var g=kt(c,r),y=Ot(g,2);c=y[0],r=y[1],this.render({xPositions:a,yPositions:u,values:r,zeroLine:this.oldData.zeroLine,radius:this.oldData.radius});var w=[];return Object.keys(this.paths).length&&(w=w.concat(al(this.paths,o,i,s.zeroLine,this.constants.spline))),this.units.length&&this.units.map(function(P,C){w=w.concat(sl(P,o[C],i[C]))}),w}}},Nu=function(){function s(o,i){for(var r=0;r<i.length;r++){var a=i[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,a.key,a)}}return function(o,i,r){return i&&s(o.prototype,i),r&&s(o,r),o}}(),Du=function s(o,i,r){o===null&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,i);if(a===void 0){var u=Object.getPrototypeOf(o);return u===null?void 0:s(u,i,r)}if("value"in a)return a.value;var c=a.get;if(c!==void 0)return c.call(r)},Bu=function(s){function o(i,r){xl(this,o);var a=Pl(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,i,r));return a.type="percentage",a.setup(),a}return Ll(o,s),Nu(o,[{key:"setMeasures",value:function(i){var r=this.measures;this.barOptions=i.barOptions||{};var a=this.barOptions;a.height=a.height||lu,a.depth=a.depth||Nr,r.paddings.right=30,r.legendHeight=60,r.baseHeight=8*(a.height+.5*a.depth)}},{key:"setupComponents",value:function(){var i=this.state,r=[["percentageBars",{barHeight:this.barOptions.height,barDepth:this.barOptions.depth},function(){return{xPositions:i.xPositions,widths:i.widths,colors:this.colors}}.bind(this)]];this.components=new Map(r.map(function(a){var u=ai.apply(void 0,wl(a));return[a[0],u]}))}},{key:"calc",value:function(){var i=this;Du(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"calc",this).call(this);var r=this.state;r.xPositions=[],r.widths=[];var a=0;r.sliceTotals.map(function(u){var c=i.width*u/r.grandTotal;r.widths.push(c),r.xPositions.push(a),a+=c})}},{key:"makeDataByIndex",value:function(){}},{key:"bindTooltip",value:function(){var i=this,r=this.state;this.container.addEventListener("mousemove",function(a){var u=i.components.get("percentageBars").store,c=a.target;if(u.includes(c)){var f=u.indexOf(c),d=oi(i.container),m=oi(c),_=m.left-d.left+parseInt(c.getAttribute("width"))/2,g=m.top-d.top,y=(i.formattedLabels&&i.formattedLabels.length>0?i.formattedLabels[f]:i.state.labels[f])+": ",w=r.sliceTotals[f]/r.grandTotal;i.tip.setValues(_,g,{name:y,value:(100*w).toFixed(1)+"%"}),i.tip.showTip()}})}}]),o}(Nn),Ru=function(){function s(o,i){for(var r=0;r<i.length;r++){var a=i[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,a.key,a)}}return function(o,i,r){return i&&s(o.prototype,i),r&&s(o,r),o}}(),fr=function s(o,i,r){o===null&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,i);if(a===void 0){var u=Object.getPrototypeOf(o);return u===null?void 0:s(u,i,r)}if("value"in a)return a.value;var c=a.get;if(c!==void 0)return c.call(r)},Zu=function(s){function o(i,r){kl(this,o);var a=Ol(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,i,r));return a.type="pie",a.initTimeout=0,a.init=1,a.setup(),a}return Cl(o,s),Ru(o,[{key:"configure",value:function(i){fr(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"configure",this).call(this,i),this.mouseMove=this.mouseMove.bind(this),this.mouseLeave=this.mouseLeave.bind(this),this.hoverRadio=i.hoverRadio||.1,this.config.startAngle=i.startAngle||0,this.clockWise=i.clockWise||!1}},{key:"calc",value:function(){var i=this;fr(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"calc",this).call(this);var r=this.state;this.radius=this.height>this.width?this.center.x:this.center.y;var a=this.radius,u=this.clockWise,c=r.slicesProperties||[];r.sliceStrings=[],r.slicesProperties=[];var f=180-this.config.startAngle;r.sliceTotals.map(function(d,m){var _=f,g=d/r.grandTotal*Dr,y=g>180?1:0,w=u?-g:g,P=f+=w,C=ke(_,a),M=ke(P,a),b=i.init&&c[m],k=void 0,x=void 0;i.init?(k=b?b.startPosition:C,x=b?b.endPosition:C):(k=C,x=M);var S=g===360?Wa(k,x,i.center,i.radius,u,y):Ha(k,x,i.center,i.radius,u,y);r.sliceStrings.push(S),r.slicesProperties.push({startPosition:C,endPosition:M,value:d,total:r.grandTotal,startAngle:_,endAngle:P,angle:w})}),this.init=0}},{key:"setupComponents",value:function(){var i=this.state,r=[["pieSlices",{},function(){return{sliceStrings:i.sliceStrings,colors:this.colors}}.bind(this)]];this.components=new Map(r.map(function(a){var u=ai.apply(void 0,Tl(a));return[a[0],u]}))}},{key:"calTranslateByAngle",value:function(i){var r=this.radius,a=this.hoverRadio,u=ke(i.startAngle+i.angle/2,r);return"translate3d("+u.x*a+"px,"+u.y*a+"px,0)"}},{key:"hoverSlice",value:function(i,r,a,u){if(i){var c=this.colors[r];if(a){Zi(i,this.calTranslateByAngle(this.state.slicesProperties[r])),i.style.fill=Sn(c,50);var f=oi(this.svg),d=u.pageX-f.left+10,m=u.pageY-f.top-10,_=(this.formatted_labels&&this.formatted_labels.length>0?this.formatted_labels[r]:this.state.labels[r])+": ",g=(100*this.state.sliceTotals[r]/this.state.grandTotal).toFixed(1);this.tip.setValues(d,m,{name:_,value:g+"%"}),this.tip.showTip()}else Zi(i,"translate3d(0,0,0)"),this.tip.hideTip(),i.style.fill=c}}},{key:"bindTooltip",value:function(){this.container.addEventListener("mousemove",this.mouseMove),this.container.addEventListener("mouseleave",this.mouseLeave)}},{key:"mouseMove",value:function(i){var r=i.target,a=this.components.get("pieSlices").store,u=this.curActiveSliceIndex,c=this.curActiveSlice;if(a.includes(r)){var f=a.indexOf(r);this.hoverSlice(c,u,!1),this.curActiveSlice=r,this.curActiveSliceIndex=f,this.hoverSlice(r,f,!0,i)}else this.mouseLeave()}},{key:"mouseLeave",value:function(){this.hoverSlice(this.curActiveSlice,this.curActiveSliceIndex,!1)}}]),o}(Nn),ju=function(){function s(o,i){var r=[],a=!0,u=!1,c=void 0;try{for(var f,d=o[Symbol.iterator]();!(a=(f=d.next()).done)&&(r.push(f.value),!i||r.length!==i);a=!0);}catch(m){u=!0,c=m}finally{try{!a&&d.return&&d.return()}finally{if(u)throw c}}return r}return function(o,i){if(Array.isArray(o))return o;if(Symbol.iterator in Object(o))return s(o,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Fu=function(){function s(o,i){for(var r=0;r<i.length;r++){var a=i[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,a.key,a)}}return function(o,i,r){return i&&s(o.prototype,i),r&&s(o,r),o}}(),Dt=xe+uu,be=Dt,Hu=function(s){function o(i,r){Bl(this,o);var a=Rl(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,i,r));a.type="heatmap",a.countLabel=r.countLabel||"";var u=["Sunday","Monday"],c=u.includes(r.startSubDomain)?r.startSubDomain:"Sunday";return a.startSubDomainIndex=u.indexOf(c),a.setup(),a}return Zl(o,s),Fu(o,[{key:"setMeasures",value:function(i){var r=this.measures;this.discreteDomains=i.discreteDomains===0?0:1,r.paddings.top=3*be,r.paddings.bottom=0,r.legendHeight=2*be,r.baseHeight=be*Je+Lr(r);var a=this.data,u=this.discreteDomains?hr:0;this.independentWidth=(xn(a.start,a.end)+u)*Dt+Bi(r)}},{key:"updateWidth",value:function(){var i=this.discreteDomains?hr:0,r=this.state.noOfWeeks?this.state.noOfWeeks:52;this.baseWidth=(r+i)*Dt+Bi(this.measures)}},{key:"prepareData",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.data;if(i.start&&i.end&&i.start>i.end)throw new Error("Start date cannot be greater than end date.");if(i.start||(i.start=new Date,i.start.setFullYear(i.start.getFullYear()-1)),i.end||(i.end=new Date),i.dataPoints=i.dataPoints||{},parseInt(Object.keys(i.dataPoints)[0])>1e5){var r={};Object.keys(i.dataPoints).forEach(function(a){var u=new Date(a*Zr);r[wn(u)]=i.dataPoints[a]}),i.dataPoints=r}return i}},{key:"calc",value:function(){var i=this.state;i.start=ue(this.data.start),i.end=ue(this.data.end),i.firstWeekStart=ue(i.start),i.noOfWeeks=xn(i.start,i.end),i.distribution=Il(Object.values(this.data.dataPoints),Pn),i.domainConfigs=this.getDomains()}},{key:"setupComponents",value:function(){var i=this,r=this.state,a=this.discreteDomains?0:1,u=r.domainConfigs.map(function(f,d){return["heatDomain",{index:f.index,colWidth:Dt,rowHeight:be,squareSize:xe,radius:i.rawChartArgs.radius||0,xTranslate:r.domainConfigs.filter(function(m,_){return _<d}).map(function(m){return m.cols.length-a}).reduce(function(m,_){return m+_},0)*Dt},function(){return r.domainConfigs[d]}.bind(i)]});this.components=new Map(u.map(function(f,d){var m=ai.apply(void 0,Dl(f));return[f[0]+"-"+d,m]}));var c=0;Su.forEach(function(f,d){if([1,3,5].includes(d)){var m=ii("subdomain-name",-Dt/2,c,f,{fontSize:xe,dy:8,textAnchor:"end"});i.drawArea.appendChild(m)}c+=be})}},{key:"update",value:function(i){i||console.error("No data to update."),this.data=this.prepareData(i),this.draw(),this.bindTooltip()}},{key:"bindTooltip",value:function(){var i=this;this.container.addEventListener("mousemove",function(r){i.components.forEach(function(a){var u=a.store,c=r.target;if(u.includes(c)){var f=c.getAttribute("data-value"),d=c.getAttribute("data-date").split("-"),m=Sr(parseInt(d[1])-1,!0),_=i.container.getBoundingClientRect(),g=c.getBoundingClientRect(),y=parseInt(r.target.getAttribute("width")),w=g.left-_.left+y/2,P=g.top-_.top,C=f+" "+i.countLabel,M=" on "+m+" "+d[0]+", "+d[2];i.tip.setValues(w,P,{name:M,value:C,valueFirst:1},[]),i.tip.showTip()}})})}},{key:"renderLegend",value:function(){var i=this;this.legendArea.textContent="";var r=0,a=be,u=this.rawChartArgs.radius||0,c=ii("subdomain-name",r,a,"Less",{fontSize:xe+1,dy:9});r=2*Dt+Dt/2,this.legendArea.appendChild(c),this.colors.slice(0,Pn).map(function(d,m){var _=Ar("heatmap-legend-unit",r+(Dt+3)*m,a,xe,u,d);i.legendArea.appendChild(_)});var f=ii("subdomain-name",r+Pn*(Dt+3)+Dt/4,a,"More",{fontSize:xe+1,dy:9});this.legendArea.appendChild(f)}},{key:"getDomains",value:function(){for(var i=this.state,r=[i.start.getMonth(),i.start.getFullYear()],a=r[0],u=r[1],c=[i.end.getMonth(),i.end.getFullYear()],f=c[0]-a+1+12*(c[1]-u),d=[],m=ue(i.start),_=0;_<f;_++){var g=i.end;if(!yl(m,i.end)){var y=[m.getMonth(),m.getFullYear()];g=rr(y[0],y[1])}d.push(this.getDomainConfig(m,g)),we(g,1),m=g}return d}},{key:"getDomainConfig",value:function(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",a=[i.getMonth(),i.getFullYear()],u=a[0],c=a[1],f=zr(i),d={index:u,cols:[]};we(r=ue(r)||rr(u,c),1);for(var m=xn(f,r),_=[],g=void 0,y=0;y<m;y++)g=this.getCol(f,u),_.push(g),we(f=new Date(g[Je-1].yyyyMmDd),1);return g[Je-1].dataValue!==void 0&&(we(f,1),_.push(this.getCol(f,u,!0))),d.cols=_,d}},{key:"getCol",value:function(i,r){for(var a=arguments.length>2&&arguments[2]!==void 0&&arguments[2],u=this.state,c=ue(i),f=[],d=0;d<Je;d++,we(c,1)){var m={},_=c>=u.start&&c<=u.end;a||c.getMonth()!==r||!_?m.yyyyMmDd=wn(c):m=this.getSubDomainConfig(c),f.push(m)}return f}},{key:"getSubDomainConfig",value:function(i){var r=wn(i),a=this.data.dataPoints[r];return{yyyyMmDd:r,dataValue:a||0,fill:this.colors[Nl(a,this.state.distribution)]}}}]),o}(In),Wu=function(){function s(o,i){for(var r=0;r<i.length;r++){var a=i[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,a.key,a)}}return function(o,i,r){return i&&s(o.prototype,i),r&&s(o,r),o}}(),Ln=function s(o,i,r){o===null&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,i);if(a===void 0){var u=Object.getPrototypeOf(o);return u===null?void 0:s(u,i,r)}if("value"in a)return a.value;var c=a.get;if(c!==void 0)return c.call(r)},An=function(s){function o(i,r){Ul(this,o);var a=Gl(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,i,r));return a.barOptions=r.barOptions||{},a.lineOptions=r.lineOptions||{},a.type=r.type||"line",a.init=1,a.setup(),a}return Vl(o,s),Wu(o,[{key:"setMeasures",value:function(){this.data.datasets.length<=1&&(this.config.showLegend=0,this.measures.paddings.bottom=30)}},{key:"configure",value:function(i){Ln(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"configure",this).call(this,i),i.axisOptions=i.axisOptions||{},i.tooltipOptions=i.tooltipOptions||{},this.config.xAxisMode=i.axisOptions.xAxisMode||"span",this.config.yAxisMode=i.axisOptions.yAxisMode||"span",this.config.xIsSeries=i.axisOptions.xIsSeries||0,this.config.shortenYAxisNumbers=i.axisOptions.shortenYAxisNumbers||0,this.config.formatTooltipX=i.tooltipOptions.formatTooltipX,this.config.formatTooltipY=i.tooltipOptions.formatTooltipY,this.config.valuesOverPoints=i.valuesOverPoints}},{key:"prepareData",value:function(){return Fl(arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.data,this.type)}},{key:"prepareFirstData",value:function(){return Hl(arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.data)}},{key:"calc",value:function(){var i=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.calcXPositions(),i||this.calcYAxisParameters(this.getAllYValues(),this.type==="line"),this.makeDataByIndex()}},{key:"calcXPositions",value:function(){var i=this.state,r=this.data.labels;i.datasetLength=r.length,i.unitWidth=this.width/i.datasetLength,i.xOffset=i.unitWidth/2,i.xAxis={labels:r,positions:r.map(function(a,u){return Tr(i.xOffset+u*i.unitWidth)})}}},{key:"calcYAxisParameters",value:function(i){var r=Al(i,arguments.length>1&&arguments[1]!==void 0?arguments[1]:"false"),a=this.height/Sl(r),u=Ir(r)*a,c=this.height-El(r)*u;this.state.yAxis={labels:r,positions:r.map(function(f){return c-f*a}),scaleMultiplier:a,zeroLine:c},this.calcDatasetPoints(),this.calcYExtremes(),this.calcYRegions()}},{key:"calcDatasetPoints",value:function(){var i=this.state,r=function(a){return a.map(function(u){return Mi(u,i.yAxis)})};i.datasets=this.data.datasets.map(function(a,u){var c=a.values,f=a.cumulativeYs||[];return{name:a.name&&a.name.replace(/<|>|&/g,function(d){return d=="&"?"&amp;":d=="<"?"&lt;":"&gt;"}),index:u,chartType:a.chartType,values:c,yPositions:r(c),cumulativeYs:f,cumulativeYPos:r(f)}})}},{key:"calcYExtremes",value:function(){var i=this.state;if(this.barOptions.stacked)return void(i.yExtremes=i.datasets[i.datasets.length-1].cumulativeYPos);i.yExtremes=new Array(i.datasetLength).fill(9999),i.datasets.map(function(r){r.yPositions.map(function(a,u){a<i.yExtremes[u]&&(i.yExtremes[u]=a)})})}},{key:"calcYRegions",value:function(){var i=this.state;this.data.yMarkers&&(this.state.yMarkers=this.data.yMarkers.map(function(r){return r.position=Mi(r.value,i.yAxis),r.options||(r.options={}),r})),this.data.yRegions&&(this.state.yRegions=this.data.yRegions.map(function(r){return r.startPos=Mi(r.start,i.yAxis),r.endPos=Mi(r.end,i.yAxis),r.options||(r.options={}),r}))}},{key:"getAllYValues",value:function(){var i,r=this,a="values";if(this.barOptions.stacked){a="cumulativeYs";var u=new Array(this.state.datasetLength).fill(0);this.data.datasets.map(function(f,d){var m=r.data.datasets[d].values;f[a]=u=u.map(function(_,g){return _+m[g]})})}var c=this.data.datasets.map(function(f){return f[a]});return this.data.yMarkers&&c.push(this.data.yMarkers.map(function(f){return f.value})),this.data.yRegions&&this.data.yRegions.map(function(f){c.push([f.end,f.start])}),(i=[]).concat.apply(i,sr(c))}},{key:"setupComponents",value:function(){var i=this,r=[["yAxis",{mode:this.config.yAxisMode,width:this.width,shortenNumbers:this.config.shortenYAxisNumbers},function(){return this.state.yAxis}.bind(this)],["xAxis",{mode:this.config.xAxisMode,height:this.height},function(){var _=this.state;return _.xAxis.calcLabels=Wl(this.width,_.xAxis.labels,this.config.xIsSeries),_.xAxis}.bind(this)],["yRegions",{width:this.width,pos:"right"},function(){return this.state.yRegions}.bind(this)]],a=this.state.datasets.filter(function(_){return _.chartType==="bar"}),u=this.state.datasets.filter(function(_){return _.chartType==="line"}),c=a.map(function(_){var g=_.index;return["barGraph-"+_.index,{index:g,color:i.colors[g],stacked:i.barOptions.stacked,valuesOverPoints:i.config.valuesOverPoints,minHeight:i.height*su},function(){var y=this.state,w=y.datasets[g],P=this.barOptions.stacked,C=this.barOptions.spaceRatio||ru,M=y.unitWidth*(1-C),b=M/(P?1:a.length),k=y.xAxis.positions.map(function(N){return N-M/2});P||(k=k.map(function(N){return N+b*g}));var x=new Array(y.datasetLength).fill("");this.config.valuesOverPoints&&(x=P&&w.index===y.datasets.length-1?w.cumulativeYs:w.values);var S=new Array(y.datasetLength).fill(0);return P&&(S=w.yPositions.map(function(N,Q){return N-w.cumulativeYPos[Q]})),{xPositions:k,yPositions:w.yPositions,offsets:S,labels:x,zeroLine:y.yAxis.zeroLine,barsWidth:M,barWidth:b}}.bind(i)]}),f=u.map(function(_){var g=_.index;return["lineGraph-"+_.index,{index:g,color:i.colors[g],svgDefs:i.svgDefs,heatline:i.lineOptions.heatline,regionFill:i.lineOptions.regionFill,spline:i.lineOptions.spline,hideDots:i.lineOptions.hideDots,hideLine:i.lineOptions.hideLine,valuesOverPoints:i.config.valuesOverPoints},function(){var y=this.state,w=y.datasets[g],P=y.yAxis.positions[0]<y.yAxis.zeroLine?y.yAxis.positions[0]:y.yAxis.zeroLine;return{xPositions:y.xAxis.positions,yPositions:w.yPositions,values:w.values,zeroLine:P,radius:this.lineOptions.dotSize||au}}.bind(i)]}),d=[["yMarkers",{width:this.width,pos:"right"},function(){return this.state.yMarkers}.bind(this)]];r=r.concat(c,f,d);var m=["yMarkers","yRegions"];this.dataUnitComponents=[],this.components=new Map(r.filter(function(_){return!m.includes(_[0])||i.state[_[0]]}).map(function(_){var g=ai.apply(void 0,sr(_));return(_[0].includes("lineGraph")||_[0].includes("barGraph"))&&i.dataUnitComponents.push(g),[_[0],g]}))}},{key:"makeDataByIndex",value:function(){var i=this;this.dataByIndex={};var r=this.state,a=this.config.formatTooltipX,u=this.config.formatTooltipY;r.xAxis.labels.map(function(c,f){var d=i.state.datasets.map(function(m,_){var g=m.values[f];return{title:m.name,value:g,yPos:m.yPositions[f],color:i.colors[_],formatted:u?u(g):g}});i.dataByIndex[f]={label:c,formattedLabel:a?a(c):c,xPos:r.xAxis.positions[f],values:d,yExtreme:r.yExtremes[f]}})}},{key:"bindTooltip",value:function(){var i=this;this.container.addEventListener("mousemove",function(r){var a=i.measures,u=oi(i.container),c=r.pageX-u.left-Si(a),f=r.pageY-u.top;f<i.height+Di(a)&&f>Di(a)?i.mapTooltipXPosition(c):i.tip.hideTip()})}},{key:"mapTooltipXPosition",value:function(i){var r=this.state;if(r.yExtremes){var a=zl(i,r.xAxis.positions,!0);if(a>=0){var u=this.dataByIndex[a];this.tip.setValues(u.xPos+this.tip.offset.x,u.yExtreme+this.tip.offset.y,{name:u.formattedLabel,value:""},u.values,a),this.tip.showTip()}}}},{key:"renderLegend",value:function(){var i=this,r=this.data;r.datasets.length>1&&(this.legendArea.textContent="",r.datasets.map(function(a,u){var c=ou,f=qa(c*u,"0",c,i.colors[u],a.name,i.config.truncateLegends);i.legendArea.appendChild(f)}))}},{key:"makeOverlay",value:function(){var i=this;if(this.init)return void(this.init=0);this.overlayGuides&&this.overlayGuides.forEach(function(r){var a=r.overlay;a.parentNode.removeChild(a)}),this.overlayGuides=this.dataUnitComponents.map(function(r){return{type:r.unitType,overlay:void 0,units:r.units}}),this.state.currentIndex===void 0&&(this.state.currentIndex=this.state.datasetLength-1),this.overlayGuides.map(function(r){var a=r.units[i.state.currentIndex];r.overlay=bu[r.type](a),i.drawArea.appendChild(r.overlay)})}},{key:"updateOverlayGuides",value:function(){this.overlayGuides&&this.overlayGuides.forEach(function(i){var r=i.overlay;r.parentNode.removeChild(r)})}},{key:"bindOverlay",value:function(){var i=this;this.parent.addEventListener("data-select",function(){i.updateOverlay()})}},{key:"bindUnits",value:function(){var i=this;this.dataUnitComponents.map(function(r){r.units.map(function(a){a.addEventListener("click",function(){var u=a.getAttribute("data-point-index");i.setCurrentDataPoint(u)})})}),this.tip.container.addEventListener("click",function(){var r=i.tip.container.getAttribute("data-point-index");i.setCurrentDataPoint(r)})}},{key:"updateOverlay",value:function(){var i=this;this.overlayGuides.map(function(r){var a=r.units[i.state.currentIndex];wu[r.type](a,r.overlay)})}},{key:"onLeftArrow",value:function(){this.setCurrentDataPoint(this.state.currentIndex-1)}},{key:"onRightArrow",value:function(){this.setCurrentDataPoint(this.state.currentIndex+1)}},{key:"getDataPoint",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.state.currentIndex,r=this.state;return{index:i,label:r.xAxis.labels[i],values:r.datasets.map(function(a){return a.values[i]})}}},{key:"setCurrentDataPoint",value:function(i){var r=this.state;(i=parseInt(i))<0&&(i=0),i>=r.xAxis.labels.length&&(i=r.xAxis.labels.length-1),i!==r.currentIndex&&(r.currentIndex=i,Ia(this.parent,"data-select",this.getDataPoint()))}},{key:"addDataPoint",value:function(i,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.state.datasetLength;Ln(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"addDataPoint",this).call(this,i,r,a),this.data.labels.splice(a,0,i),this.data.datasets.map(function(u,c){u.values.splice(a,0,r[c])}),this.update(this.data)}},{key:"removeDataPoint",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.state.datasetLength-1;this.data.labels.length<=1||(Ln(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"removeDataPoint",this).call(this,i),this.data.labels.splice(i,1),this.data.datasets.map(function(r){r.values.splice(i,1)}),this.update(this.data))}},{key:"updateDataset",value:function(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.data.datasets[r].values=i,this.update(this.data)}},{key:"updateDatasets",value:function(i){this.data.datasets.map(function(r,a){i[a]&&(r.values=i[a])}),this.update(this.data)}}]),o}(In),Uu=function(){function s(o,i){for(var r=0;r<i.length;r++){var a=i[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,a.key,a)}}return function(o,i,r){return i&&s(o.prototype,i),r&&s(o,r),o}}(),dr=function s(o,i,r){o===null&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,i);if(a===void 0){var u=Object.getPrototypeOf(o);return u===null?void 0:s(u,i,r)}if("value"in a)return a.value;var c=a.get;if(c!==void 0)return c.call(r)},Gu=function(s){function o(i,r){Yl(this,o);var a=$l(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,i,r));return a.type="donut",a.initTimeout=0,a.init=1,a.setup(),a}return Kl(o,s),Uu(o,[{key:"configure",value:function(i){dr(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"configure",this).call(this,i),this.mouseMove=this.mouseMove.bind(this),this.mouseLeave=this.mouseLeave.bind(this),this.hoverRadio=i.hoverRadio||.1,this.config.startAngle=i.startAngle||0,this.clockWise=i.clockWise||!1,this.strokeWidth=i.strokeWidth||30}},{key:"calc",value:function(){var i=this;dr(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"calc",this).call(this);var r=this.state;this.radius=this.height>this.width?this.center.x-this.strokeWidth/2:this.center.y-this.strokeWidth/2;var a=this.radius,u=this.clockWise,c=r.slicesProperties||[];r.sliceStrings=[],r.slicesProperties=[];var f=180-this.config.startAngle;r.sliceTotals.map(function(d,m){var _=f,g=d/r.grandTotal*Dr,y=g>180?1:0,w=u?-g:g,P=f+=w,C=ke(_,a),M=ke(P,a),b=i.init&&c[m],k=void 0,x=void 0;i.init?(k=b?b.startPosition:C,x=b?b.endPosition:C):(k=C,x=M);var S=g===360?Ga(k,x,i.center,i.radius,i.clockWise,y):Ua(k,x,i.center,i.radius,i.clockWise,y);r.sliceStrings.push(S),r.slicesProperties.push({startPosition:C,endPosition:M,value:d,total:r.grandTotal,startAngle:_,endAngle:P,angle:w})}),this.init=0}},{key:"setupComponents",value:function(){var i=this.state,r=[["donutSlices",{},function(){return{sliceStrings:i.sliceStrings,colors:this.colors,strokeWidth:this.strokeWidth}}.bind(this)]];this.components=new Map(r.map(function(a){var u=ai.apply(void 0,ql(a));return[a[0],u]}))}},{key:"calTranslateByAngle",value:function(i){var r=this.radius,a=this.hoverRadio,u=ke(i.startAngle+i.angle/2,r);return"translate3d("+u.x*a+"px,"+u.y*a+"px,0)"}},{key:"hoverSlice",value:function(i,r,a,u){if(i){var c=this.colors[r];if(a){Zi(i,this.calTranslateByAngle(this.state.slicesProperties[r])),i.style.stroke=Sn(c,50);var f=oi(this.svg),d=u.pageX-f.left+10,m=u.pageY-f.top-10,_=(this.formatted_labels&&this.formatted_labels.length>0?this.formatted_labels[r]:this.state.labels[r])+": ",g=(100*this.state.sliceTotals[r]/this.state.grandTotal).toFixed(1);this.tip.setValues(d,m,{name:_,value:g+"%"}),this.tip.showTip()}else Zi(i,"translate3d(0,0,0)"),this.tip.hideTip(),i.style.stroke=c}}},{key:"bindTooltip",value:function(){this.container.addEventListener("mousemove",this.mouseMove),this.container.addEventListener("mouseleave",this.mouseLeave)}},{key:"mouseMove",value:function(i){var r=i.target,a=this.components.get("donutSlices").store,u=this.curActiveSliceIndex,c=this.curActiveSlice;if(a.includes(r)){var f=a.indexOf(r);this.hoverSlice(c,u,!1),this.curActiveSlice=r,this.curActiveSliceIndex=f,this.hoverSlice(r,f,!0,i)}else this.mouseLeave()}},{key:"mouseLeave",value:function(){this.hoverSlice(this.curActiveSlice,this.curActiveSliceIndex,!1)}}]),o}(Nn),pr={bar:An,line:An,percentage:Bu,heatmap:Hu,pie:Zu,donut:Gu},Vu=function s(o,i){return Xl(this,s),Jl(i.type,o,i)};function qu(s){let o;return{c(){o=F("div"),ce(o,"color","white",1)},m(i,r){mt(i,o,r),s[2](o)},p:Tt,i:Tt,o:Tt,d(i){i&&ct(o),s[2](null)}}}function Yu(s,o,i){let r,{data:a}=o;vr(()=>{let c=[],f=[];a.applied_rules.forEach(m=>{c.push(m.detector),f.push(m.score)});const d={labels:c,datasets:[{name:"Scores",type:"bar",values:f}]};new Vu(r,{title:"Scores",data:d,type:"pie",height:400,colors:["red"]})});function u(c){Ni[c?"unshift":"push"](()=>{r=c,i(0,r)})}return s.$$set=c=>{"data"in c&&i(1,a=c.data)},[r,a,u]}class $u extends Ee{constructor(o){super(),Ae(this,o,Yu,qu,Me,{data:1})}}var Kt={exports:{}};/* @preserve
 * Leaflet 1.9.2, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2022 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(s,o){(function(i,r){r(o)})(xr,function(i){var r="1.9.2";function a(t){var e,n,l,h;for(n=1,l=arguments.length;n<l;n++){h=arguments[n];for(e in h)t[e]=h[e]}return t}var u=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function c(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var l=n.call(arguments,2);return function(){return t.apply(e,l.length?l.concat(n.call(arguments)):arguments)}}var f=0;function d(t){return"_leaflet_id"in t||(t._leaflet_id=++f),t._leaflet_id}function m(t,e,n){var l,h,p,v;return v=function(){l=!1,h&&(p.apply(n,h),h=!1)},p=function(){l?h=arguments:(t.apply(n,arguments),setTimeout(v,e),l=!0)},p}function _(t,e,n){var l=e[1],h=e[0],p=l-h;return t===l&&n?t:((t-h)%p+p)%p+h}function g(){return!1}function y(t,e){if(e===!1)return t;var n=Math.pow(10,e===void 0?6:e);return Math.round(t*n)/n}function w(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function P(t){return w(t).split(/\s+/)}function C(t,e){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?u(t.options):{});for(var n in e)t.options[n]=e[n];return t.options}function M(t,e,n){var l=[];for(var h in t)l.push(encodeURIComponent(n?h.toUpperCase():h)+"="+encodeURIComponent(t[h]));return(!e||e.indexOf("?")===-1?"?":"&")+l.join("&")}var b=/\{ *([\w_ -]+) *\}/g;function k(t,e){return t.replace(b,function(n,l){var h=e[l];if(h===void 0)throw new Error("No value provided for variable "+n);return typeof h=="function"&&(h=h(e)),h})}var x=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function S(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var N="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Q(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var $=0;function I(t){var e=+new Date,n=Math.max(0,16-(e-$));return $=e+n,window.setTimeout(t,n)}var z=window.requestAnimationFrame||Q("RequestAnimationFrame")||I,j=window.cancelAnimationFrame||Q("CancelAnimationFrame")||Q("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function A(t,e,n){if(n&&z===I)t.call(e);else return z.call(window,c(t,e))}function R(t){t&&j.call(window,t)}var W={__proto__:null,extend:a,create:u,bind:c,get lastId(){return f},stamp:d,throttle:m,wrapNum:_,falseFn:g,formatNum:y,trim:w,splitWords:P,setOptions:C,getParamString:M,template:k,isArray:x,indexOf:S,emptyImageUrl:N,requestFn:z,cancelFn:j,requestAnimFrame:A,cancelAnimFrame:R};function K(){}K.extend=function(t){var e=function(){C(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},n=e.__super__=this.prototype,l=u(n);l.constructor=e,e.prototype=l;for(var h in this)Object.prototype.hasOwnProperty.call(this,h)&&h!=="prototype"&&h!=="__super__"&&(e[h]=this[h]);return t.statics&&a(e,t.statics),t.includes&&(at(t.includes),a.apply(null,[l].concat(t.includes))),a(l,t),delete l.statics,delete l.includes,l.options&&(l.options=n.options?u(n.options):{},a(l.options,t.options)),l._initHooks=[],l.callInitHooks=function(){if(!this._initHooksCalled){n.callInitHooks&&n.callInitHooks.call(this),this._initHooksCalled=!0;for(var p=0,v=l._initHooks.length;p<v;p++)l._initHooks[p].call(this)}},e},K.include=function(t){var e=this.prototype.options;return a(this.prototype,t),t.options&&(this.prototype.options=e,this.mergeOptions(t.options)),this},K.mergeOptions=function(t){return a(this.prototype.options,t),this},K.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n=typeof t=="function"?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};function at(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=x(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ot={on:function(t,e,n){if(typeof t=="object")for(var l in t)this._on(l,t[l],e);else{t=P(t);for(var h=0,p=t.length;h<p;h++)this._on(t[h],e,n)}return this},off:function(t,e,n){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var l in t)this._off(l,t[l],e);else{t=P(t);for(var h=arguments.length===1,p=0,v=t.length;p<v;p++)h?this._off(t[p]):this._off(t[p],e,n)}return this},_on:function(t,e,n,l){if(typeof e!="function"){console.warn("wrong listener type: "+typeof e);return}if(this._listens(t,e,n)===!1){n===this&&(n=void 0);var h={fn:e,ctx:n};l&&(h.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(h)}},_off:function(t,e,n){var l,h,p;if(!!this._events&&(l=this._events[t],!!l)){if(arguments.length===1){if(this._firingCount)for(h=0,p=l.length;h<p;h++)l[h].fn=g;delete this._events[t];return}if(typeof e!="function"){console.warn("wrong listener type: "+typeof e);return}var v=this._listens(t,e,n);if(v!==!1){var T=l[v];this._firingCount&&(T.fn=g,this._events[t]=l=l.slice()),l.splice(v,1)}}},fire:function(t,e,n){if(!this.listens(t,n))return this;var l=a({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var h=this._events[t];if(h){this._firingCount=this._firingCount+1||1;for(var p=0,v=h.length;p<v;p++){var T=h[p],O=T.fn;T.once&&this.off(t,O,T.ctx),O.call(T.ctx||this,l)}this._firingCount--}}return n&&this._propagateEvent(l),this},listens:function(t,e,n,l){typeof t!="string"&&console.warn('"string" type argument expected');var h=e;typeof e!="function"&&(l=!!e,h=void 0,n=void 0);var p=this._events&&this._events[t];if(p&&p.length&&this._listens(t,h,n)!==!1)return!0;if(l){for(var v in this._eventParents)if(this._eventParents[v].listens(t,e,n,l))return!0}return!1},_listens:function(t,e,n){if(!this._events)return!1;var l=this._events[t]||[];if(!e)return!!l.length;n===this&&(n=void 0);for(var h=0,p=l.length;h<p;h++)if(l[h].fn===e&&l[h].ctx===n)return h;return!1},once:function(t,e,n){if(typeof t=="object")for(var l in t)this._on(l,t[l],e,!0);else{t=P(t);for(var h=0,p=t.length;h<p;h++)this._on(t[h],e,n,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[d(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[d(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,a({layer:t.target,propagatedFrom:t.target},t),!0)}};ot.addEventListener=ot.on,ot.removeEventListener=ot.clearAllEventListeners=ot.off,ot.addOneTimeEventListener=ot.once,ot.fireEvent=ot.fire,ot.hasEventListeners=ot.listens;var Bt=K.extend(ot);function U(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}var ze=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};U.prototype={clone:function(){return new U(this.x,this.y)},add:function(t){return this.clone()._add(G(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(G(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new U(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new U(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ze(this.x),this.y=ze(this.y),this},distanceTo:function(t){t=G(t);var e=t.x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return t=G(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=G(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+y(this.x)+", "+y(this.y)+")"}};function G(t,e,n){return t instanceof U?t:x(t)?new U(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new U(t.x,t.y):new U(t,e,n)}function lt(t,e){if(!!t)for(var n=e?[t,e]:t,l=0,h=n.length;l<h;l++)this.extend(n[l])}lt.prototype={extend:function(t){var e,n;if(!t)return this;if(t instanceof U||typeof t[0]=="number"||"x"in t)e=n=G(t);else if(t=_t(t),e=t.min,n=t.max,!e||!n)return this;return!this.min&&!this.max?(this.min=e.clone(),this.max=n.clone()):(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(n.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(n.y,this.max.y)),this},getCenter:function(t){return G((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return G(this.min.x,this.max.y)},getTopRight:function(){return G(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return typeof t[0]=="number"||t instanceof U?t=G(t):t=_t(t),t instanceof lt?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=_t(t);var e=this.min,n=this.max,l=t.min,h=t.max,p=h.x>=e.x&&l.x<=n.x,v=h.y>=e.y&&l.y<=n.y;return p&&v},overlaps:function(t){t=_t(t);var e=this.min,n=this.max,l=t.min,h=t.max,p=h.x>e.x&&l.x<n.x,v=h.y>e.y&&l.y<n.y;return p&&v},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var e=this.min,n=this.max,l=Math.abs(e.x-n.x)*t,h=Math.abs(e.y-n.y)*t;return _t(G(e.x-l,e.y-h),G(n.x+l,n.y+h))},equals:function(t){return t?(t=_t(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function _t(t,e){return!t||t instanceof lt?t:new lt(t,e)}function wt(t,e){if(!!t)for(var n=e?[t,e]:t,l=0,h=n.length;l<h;l++)this.extend(n[l])}wt.prototype={extend:function(t){var e=this._southWest,n=this._northEast,l,h;if(t instanceof rt)l=t,h=t;else if(t instanceof wt){if(l=t._southWest,h=t._northEast,!l||!h)return this}else return t?this.extend(it(t)||ft(t)):this;return!e&&!n?(this._southWest=new rt(l.lat,l.lng),this._northEast=new rt(h.lat,h.lng)):(e.lat=Math.min(l.lat,e.lat),e.lng=Math.min(l.lng,e.lng),n.lat=Math.max(h.lat,n.lat),n.lng=Math.max(h.lng,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,l=Math.abs(e.lat-n.lat)*t,h=Math.abs(e.lng-n.lng)*t;return new wt(new rt(e.lat-l,e.lng-h),new rt(n.lat+l,n.lng+h))},getCenter:function(){return new rt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new rt(this.getNorth(),this.getWest())},getSouthEast:function(){return new rt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof rt||"lat"in t?t=it(t):t=ft(t);var e=this._southWest,n=this._northEast,l,h;return t instanceof wt?(l=t.getSouthWest(),h=t.getNorthEast()):l=h=t,l.lat>=e.lat&&h.lat<=n.lat&&l.lng>=e.lng&&h.lng<=n.lng},intersects:function(t){t=ft(t);var e=this._southWest,n=this._northEast,l=t.getSouthWest(),h=t.getNorthEast(),p=h.lat>=e.lat&&l.lat<=n.lat,v=h.lng>=e.lng&&l.lng<=n.lng;return p&&v},overlaps:function(t){t=ft(t);var e=this._southWest,n=this._northEast,l=t.getSouthWest(),h=t.getNorthEast(),p=h.lat>e.lat&&l.lat<n.lat,v=h.lng>e.lng&&l.lng<n.lng;return p&&v},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return t?(t=ft(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ft(t,e){return t instanceof wt?t:new wt(t,e)}function rt(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,n!==void 0&&(this.alt=+n)}rt.prototype={equals:function(t,e){if(!t)return!1;t=it(t);var n=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return n<=(e===void 0?1e-9:e)},toString:function(t){return"LatLng("+y(this.lat,t)+", "+y(this.lng,t)+")"},distanceTo:function(t){return Ct.distance(this,it(t))},wrap:function(){return Ct.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return ft([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new rt(this.lat,this.lng,this.alt)}};function it(t,e,n){return t instanceof rt?t:x(t)&&typeof t[0]!="object"?t.length===3?new rt(t[0],t[1],t[2]):t.length===2?new rt(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new rt(t.lat,"lng"in t?t.lng:t.lon,t.alt):e===void 0?null:new rt(t,e,n)}var Lt={latLngToPoint:function(t,e){var n=this.projection.project(t),l=this.scale(e);return this.transformation._transform(n,l)},pointToLatLng:function(t,e){var n=this.scale(e),l=this.transformation.untransform(t,n);return this.projection.unproject(l)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t),l=this.transformation.transform(e.min,n),h=this.transformation.transform(e.max,n);return new lt(l,h)},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?_(t.lng,this.wrapLng,!0):t.lng,n=this.wrapLat?_(t.lat,this.wrapLat,!0):t.lat,l=t.alt;return new rt(n,e,l)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),l=e.lat-n.lat,h=e.lng-n.lng;if(l===0&&h===0)return t;var p=t.getSouthWest(),v=t.getNorthEast(),T=new rt(p.lat-l,p.lng-h),O=new rt(v.lat-l,v.lng-h);return new wt(T,O)}},Ct=a({},Lt,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,l=t.lat*n,h=e.lat*n,p=Math.sin((e.lat-t.lat)*n/2),v=Math.sin((e.lng-t.lng)*n/2),T=p*p+Math.cos(l)*Math.cos(h)*v*v,O=2*Math.atan2(Math.sqrt(T),Math.sqrt(1-T));return this.R*O}}),Ie=6378137,xt={R:Ie,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,l=Math.max(Math.min(n,t.lat),-n),h=Math.sin(l*e);return new U(this.R*t.lng*e,this.R*Math.log((1+h)/(1-h))/2)},unproject:function(t){var e=180/Math.PI;return new rt((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=Ie*Math.PI;return new lt([-t,-t],[t,t])}()};function dt(t,e,n,l){if(x(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=e,this._c=n,this._d=l}dt.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new U((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};function tt(t,e,n,l){return new dt(t,e,n,l)}var bt=a({},Ct,{code:"EPSG:3857",projection:xt,transformation:function(){var t=.5/(Math.PI*xt.R);return tt(t,.5,-t,.5)}()}),jr=a({},bt,{code:"EPSG:900913"});function Dn(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Bn(t,e){var n="",l,h,p,v,T,O;for(l=0,p=t.length;l<p;l++){for(T=t[l],h=0,v=T.length;h<v;h++)O=T[h],n+=(h?"L":"M")+O.x+" "+O.y;n+=e?H.svg?"z":"x":""}return n||"M0 0"}var ji=document.documentElement.style,li="ActiveXObject"in window,Fr=li&&!document.addEventListener,Rn="msLaunchUri"in navigator&&!("documentMode"in document),Fi=Rt("webkit"),Zn=Rt("android"),jn=Rt("android 2")||Rt("android 3"),Hr=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Wr=Zn&&Rt("Google")&&Hr<537&&!("AudioNode"in window),Hi=!!window.opera,Fn=!Rn&&Rt("chrome"),Hn=Rt("gecko")&&!Fi&&!Hi&&!li,Ur=!Fn&&Rt("safari"),Wn=Rt("phantom"),Un="OTransition"in ji,Gr=navigator.platform.indexOf("Win")===0,Gn=li&&"transition"in ji,Wi="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!jn,Vn="MozPerspective"in ji,Vr=!window.L_DISABLE_3D&&(Gn||Wi||Vn)&&!Un&&!Wn,Ne=typeof orientation<"u"||Rt("mobile"),qr=Ne&&Fi,Yr=Ne&&Wi,qn=!window.PointerEvent&&window.MSPointerEvent,Yn=!!(window.PointerEvent||qn),$n="ontouchstart"in window||!!window.TouchEvent,$r=!window.L_NO_TOUCH&&($n||Yn),Kr=Ne&&Hi,Xr=Ne&&Hn,Jr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Qr=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",g,e),window.removeEventListener("testPassiveEventSupport",g,e)}catch{}return t}(),ts=function(){return!!document.createElement("canvas").getContext}(),Ui=!!(document.createElementNS&&Dn("svg").createSVGRect),es=!!Ui&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),is=!Ui&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&typeof e.adj=="object"}catch{return!1}}(),ns=navigator.platform.indexOf("Mac")===0,os=navigator.platform.indexOf("Linux")===0;function Rt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var H={ie:li,ielt9:Fr,edge:Rn,webkit:Fi,android:Zn,android23:jn,androidStock:Wr,opera:Hi,chrome:Fn,gecko:Hn,safari:Ur,phantom:Wn,opera12:Un,win:Gr,ie3d:Gn,webkit3d:Wi,gecko3d:Vn,any3d:Vr,mobile:Ne,mobileWebkit:qr,mobileWebkit3d:Yr,msPointer:qn,pointer:Yn,touch:$r,touchNative:$n,mobileOpera:Kr,mobileGecko:Xr,retina:Jr,passiveEvents:Qr,canvas:ts,svg:Ui,vml:is,inlineSvg:es,mac:ns,linux:os},Kn=H.msPointer?"MSPointerDown":"pointerdown",Xn=H.msPointer?"MSPointerMove":"pointermove",Jn=H.msPointer?"MSPointerUp":"pointerup",Qn=H.msPointer?"MSPointerCancel":"pointercancel",Gi={touchstart:Kn,touchmove:Xn,touchend:Jn,touchcancel:Qn},to={touchstart:hs,touchmove:ui,touchend:ui,touchcancel:ui},fe={},eo=!1;function rs(t,e,n){return e==="touchstart"&&us(),to[e]?(n=to[e].bind(this,n),t.addEventListener(Gi[e],n,!1),n):(console.warn("wrong event specified:",e),L.Util.falseFn)}function ss(t,e,n){if(!Gi[e]){console.warn("wrong event specified:",e);return}t.removeEventListener(Gi[e],n,!1)}function as(t){fe[t.pointerId]=t}function ls(t){fe[t.pointerId]&&(fe[t.pointerId]=t)}function io(t){delete fe[t.pointerId]}function us(){eo||(document.addEventListener(Kn,as,!0),document.addEventListener(Xn,ls,!0),document.addEventListener(Jn,io,!0),document.addEventListener(Qn,io,!0),eo=!0)}function ui(t,e){if(e.pointerType!==(e.MSPOINTER_TYPE_MOUSE||"mouse")){e.touches=[];for(var n in fe)e.touches.push(fe[n]);e.changedTouches=[e],t(e)}}function hs(t,e){e.MSPOINTER_TYPE_TOUCH&&e.pointerType===e.MSPOINTER_TYPE_TOUCH&&Pt(e),ui(t,e)}function cs(t){var e={},n,l;for(l in t)n=t[l],e[l]=n&&n.bind?n.bind(t):n;return t=e,e.type="dblclick",e.detail=2,e.isTrusted=!1,e._simulated=!0,e}var fs=200;function ds(t,e){t.addEventListener("dblclick",e);var n=0,l;function h(p){if(p.detail!==1){l=p.detail;return}if(!(p.pointerType==="mouse"||p.sourceCapabilities&&!p.sourceCapabilities.firesTouchEvents)){var v=ao(p);if(!(v.some(function(O){return O instanceof HTMLLabelElement&&O.attributes.for})&&!v.some(function(O){return O instanceof HTMLInputElement||O instanceof HTMLSelectElement}))){var T=Date.now();T-n<=fs?(l++,l===2&&e(cs(p))):l=1,n=T}}}return t.addEventListener("click",h),{dblclick:e,simDblclick:h}}function ps(t,e){t.removeEventListener("dblclick",e.dblclick),t.removeEventListener("click",e.simDblclick)}var Vi=fi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),De=fi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),no=De==="webkitTransition"||De==="OTransition"?De+"End":"transitionend";function oo(t){return typeof t=="string"?document.getElementById(t):t}function Be(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||n==="auto")&&document.defaultView){var l=document.defaultView.getComputedStyle(t,null);n=l?l[e]:null}return n==="auto"?null:n}function nt(t,e,n){var l=document.createElement(t);return l.className=e||"",n&&n.appendChild(l),l}function ht(t){var e=t.parentNode;e&&e.removeChild(t)}function hi(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function de(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function pe(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function qi(t,e){if(t.classList!==void 0)return t.classList.contains(e);var n=ci(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function X(t,e){if(t.classList!==void 0)for(var n=P(e),l=0,h=n.length;l<h;l++)t.classList.add(n[l]);else if(!qi(t,e)){var p=ci(t);Yi(t,(p?p+" ":"")+e)}}function pt(t,e){t.classList!==void 0?t.classList.remove(e):Yi(t,w((" "+ci(t)+" ").replace(" "+e+" "," ")))}function Yi(t,e){t.className.baseVal===void 0?t.className=e:t.className.baseVal=e}function ci(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function Mt(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&ms(t,e)}function ms(t,e){var n=!1,l="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(l)}catch{if(e===1)return}e=Math.round(e*100),n?(n.Enabled=e!==100,n.Opacity=e):t.style.filter+=" progid:"+l+"(opacity="+e+")"}function fi(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function ie(t,e,n){var l=e||new U(0,0);t.style[Vi]=(H.ie3d?"translate("+l.x+"px,"+l.y+"px)":"translate3d("+l.x+"px,"+l.y+"px,0)")+(n?" scale("+n+")":"")}function gt(t,e){t._leaflet_pos=e,H.any3d?ie(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function ne(t){return t._leaflet_pos||new U(0,0)}var Re,Ze,$i;if("onselectstart"in document)Re=function(){q(window,"selectstart",Pt)},Ze=function(){ut(window,"selectstart",Pt)};else{var je=fi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Re=function(){if(je){var t=document.documentElement.style;$i=t[je],t[je]="none"}},Ze=function(){je&&(document.documentElement.style[je]=$i,$i=void 0)}}function Ki(){q(window,"dragstart",Pt)}function Xi(){ut(window,"dragstart",Pt)}var di,Ji;function Qi(t){for(;t.tabIndex===-1;)t=t.parentNode;!t.style||(pi(),di=t,Ji=t.style.outline,t.style.outline="none",q(window,"keydown",pi))}function pi(){!di||(di.style.outline=Ji,di=void 0,Ji=void 0,ut(window,"keydown",pi))}function ro(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function tn(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var _s={__proto__:null,TRANSFORM:Vi,TRANSITION:De,TRANSITION_END:no,get:oo,getStyle:Be,create:nt,remove:ht,empty:hi,toFront:de,toBack:pe,hasClass:qi,addClass:X,removeClass:pt,setClass:Yi,getClass:ci,setOpacity:Mt,testProp:fi,setTransform:ie,setPosition:gt,getPosition:ne,get disableTextSelection(){return Re},get enableTextSelection(){return Ze},disableImageDrag:Ki,enableImageDrag:Xi,preventOutline:Qi,restoreOutline:pi,getSizedParentNode:ro,getScale:tn};function q(t,e,n,l){if(e&&typeof e=="object")for(var h in e)nn(t,h,e[h],n);else{e=P(e);for(var p=0,v=e.length;p<v;p++)nn(t,e[p],n,l)}return this}var Zt="_leaflet_events";function ut(t,e,n,l){if(arguments.length===1)so(t),delete t[Zt];else if(e&&typeof e=="object")for(var h in e)on(t,h,e[h],n);else if(e=P(e),arguments.length===2)so(t,function(T){return S(e,T)!==-1});else for(var p=0,v=e.length;p<v;p++)on(t,e[p],n,l);return this}function so(t,e){for(var n in t[Zt]){var l=n.split(/\d/)[0];(!e||e(l))&&on(t,l,null,null,n)}}var en={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function nn(t,e,n,l){var h=e+d(n)+(l?"_"+d(l):"");if(t[Zt]&&t[Zt][h])return this;var p=function(T){return n.call(l||t,T||window.event)},v=p;!H.touchNative&&H.pointer&&e.indexOf("touch")===0?p=rs(t,e,p):H.touch&&e==="dblclick"?p=ds(t,p):"addEventListener"in t?e==="touchstart"||e==="touchmove"||e==="wheel"||e==="mousewheel"?t.addEventListener(en[e]||e,p,H.passiveEvents?{passive:!1}:!1):e==="mouseenter"||e==="mouseleave"?(p=function(T){T=T||window.event,sn(t,T)&&v(T)},t.addEventListener(en[e],p,!1)):t.addEventListener(e,v,!1):t.attachEvent("on"+e,p),t[Zt]=t[Zt]||{},t[Zt][h]=p}function on(t,e,n,l,h){h=h||e+d(n)+(l?"_"+d(l):"");var p=t[Zt]&&t[Zt][h];if(!p)return this;!H.touchNative&&H.pointer&&e.indexOf("touch")===0?ss(t,e,p):H.touch&&e==="dblclick"?ps(t,p):"removeEventListener"in t?t.removeEventListener(en[e]||e,p,!1):t.detachEvent("on"+e,p),t[Zt][h]=null}function oe(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function rn(t){return nn(t,"wheel",oe),this}function Fe(t){return q(t,"mousedown touchstart dblclick contextmenu",oe),t._leaflet_disable_click=!0,this}function Pt(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function re(t){return Pt(t),oe(t),this}function ao(t){if(t.composedPath)return t.composedPath();for(var e=[],n=t.target;n;)e.push(n),n=n.parentNode;return e}function lo(t,e){if(!e)return new U(t.clientX,t.clientY);var n=tn(e),l=n.boundingClientRect;return new U((t.clientX-l.left)/n.x-e.clientLeft,(t.clientY-l.top)/n.y-e.clientTop)}var gs=H.linux&&H.chrome?window.devicePixelRatio:H.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function uo(t){return H.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/gs:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function sn(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch{return!1}return n!==t}var vs={__proto__:null,on:q,off:ut,stopPropagation:oe,disableScrollPropagation:rn,disableClickPropagation:Fe,preventDefault:Pt,stop:re,getPropagationPath:ao,getMousePosition:lo,getWheelDelta:uo,isExternalTarget:sn,addListener:q,removeListener:ut},ho=Bt.extend({run:function(t,e,n,l){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(l||.5,.2),this._startPos=ne(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){!this._inProgress||(this._step(!0),this._complete())},_animate:function(){this._animId=A(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=this._duration*1e3;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),gt(this._el,n),this.fire("step")},_complete:function(){R(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),et=Bt.extend({options:{crs:bt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=C(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=c(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),e.zoom!==void 0&&(this._zoom=this._limitZoom(e.zoom)),e.center&&e.zoom!==void 0&&this.setView(it(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=De&&H.any3d&&!H.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),q(this._proxy,no,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,n){if(e=e===void 0?this._zoom:this._limitZoom(e),t=this._limitCenter(it(t),e,this.options.maxBounds),n=n||{},this._stop(),this._loaded&&!n.reset&&n!==!0){n.animate!==void 0&&(n.zoom=a({animate:n.animate},n.zoom),n.pan=a({animate:n.animate,duration:n.duration},n.pan));var l=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,n.zoom):this._tryAnimatedPan(t,n.pan);if(l)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e,n.pan&&n.pan.noMoveStart),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(H.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(H.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var l=this.getZoomScale(e),h=this.getSize().divideBy(2),p=t instanceof U?t:this.latLngToContainerPoint(t),v=p.subtract(h).multiplyBy(1-1/l),T=this.containerPointToLatLng(h.add(v));return this.setView(T,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():ft(t);var n=G(e.paddingTopLeft||e.padding||[0,0]),l=G(e.paddingBottomRight||e.padding||[0,0]),h=this.getBoundsZoom(t,!1,n.add(l));if(h=typeof e.maxZoom=="number"?Math.min(e.maxZoom,h):h,h===1/0)return{center:t.getCenter(),zoom:h};var p=l.subtract(n).divideBy(2),v=this.project(t.getSouthWest(),h),T=this.project(t.getNorthEast(),h),O=this.unproject(v.add(T).divideBy(2).add(p),h);return{center:O,zoom:h}},fitBounds:function(t,e){if(t=ft(t),!t.isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(t=G(t).round(),e=e||{},!t.x&&!t.y)return this.fire("moveend");if(e.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ho,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),e.animate!==!1){X(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,n){if(n=n||{},n.animate===!1||!H.any3d)return this.setView(t,e,n);this._stop();var l=this.project(this.getCenter()),h=this.project(t),p=this.getSize(),v=this._zoom;t=it(t),e=e===void 0?v:e;var T=Math.max(p.x,p.y),O=T*this.getZoomScale(v,e),E=h.distanceTo(l)||1,Z=1.42,V=Z*Z;function Y(vt){var Oi=vt?-1:1,sa=vt?O:T,aa=O*O-T*T+Oi*V*V*E*E,la=2*sa*V*E,gn=aa/la,Go=Math.sqrt(gn*gn+1)-gn,ua=Go<1e-9?-18:Math.log(Go);return ua}function Et(vt){return(Math.exp(vt)-Math.exp(-vt))/2}function le(vt){return(Math.exp(vt)+Math.exp(-vt))/2}function ki(vt){return Et(vt)/le(vt)}var $t=Y(0);function _n(vt){return T*(le($t)/le($t+Z*vt))}function ia(vt){return T*(le($t)*ki($t+Z*vt)-Et($t))/V}function na(vt){return 1-Math.pow(1-vt,1.5)}var oa=Date.now(),Wo=(Y(1)-$t)/Z,ra=n.duration?1e3*n.duration:1e3*Wo*.8;function Uo(){var vt=(Date.now()-oa)/ra,Oi=na(vt)*Wo;vt<=1?(this._flyToFrame=A(Uo,this),this._move(this.unproject(l.add(h.subtract(l).multiplyBy(ia(Oi)/E)),v),this.getScaleZoom(T/_n(Oi),v),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}return this._moveStart(!0,n.noMoveStart),Uo.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return t=ft(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),l=this._limitCenter(n,this._zoom,ft(t));return n.equals(l)||this.panTo(l,e),this._enforcingBounds=!1,this},panInside:function(t,e){e=e||{};var n=G(e.paddingTopLeft||e.padding||[0,0]),l=G(e.paddingBottomRight||e.padding||[0,0]),h=this.project(this.getCenter()),p=this.project(t),v=this.getPixelBounds(),T=_t([v.min.add(n),v.max.subtract(l)]),O=T.getSize();if(!T.contains(p)){this._enforcingBounds=!0;var E=p.subtract(T.getCenter()),Z=T.extend(p).getSize().subtract(O);h.x+=E.x<0?-Z.x:Z.x,h.y+=E.y<0?-Z.y:Z.y,this.panTo(this.unproject(h),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=a({animate:!1,pan:!0},t===!0?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var n=this.getSize(),l=e.divideBy(2).round(),h=n.divideBy(2).round(),p=l.subtract(h);return!p.x&&!p.y?this:(t.animate&&t.pan?this.panBy(p):(t.pan&&this._rawPanBy(p),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:n}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=a({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=c(this._handleGeolocationResponse,this),n=c(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,n,t):navigator.geolocation.getCurrentPosition(e,n,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(!!this._container._leaflet_id){var e=t.code,n=t.message||(e===1?"permission denied":e===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})}},_handleGeolocationResponse:function(t){if(!!this._container._leaflet_id){var e=t.coords.latitude,n=t.coords.longitude,l=new rt(e,n),h=l.toBounds(t.coords.accuracy*2),p=this._locateOptions;if(p.setView){var v=this.getBoundsZoom(h);this.setView(l,p.maxZoom?Math.min(v,p.maxZoom):v)}var T={latlng:l,bounds:h,timestamp:t.timestamp};for(var O in t.coords)typeof t.coords[O]=="number"&&(T[O]=t.coords[O]);this.fire("locationfound",T)}},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ht(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(R(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)ht(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),l=nt("div",n,e||this._mapPane);return t&&(this._panes[t]=l),l},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),n=this.unproject(t.getTopRight());return new wt(e,n)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=ft(t),n=G(n||[0,0]);var l=this.getZoom()||0,h=this.getMinZoom(),p=this.getMaxZoom(),v=t.getNorthWest(),T=t.getSouthEast(),O=this.getSize().subtract(n),E=_t(this.project(T,l),this.project(v,l)).getSize(),Z=H.any3d?this.options.zoomSnap:1,V=O.x/E.x,Y=O.y/E.y,Et=e?Math.max(V,Y):Math.min(V,Y);return l=this.getScaleZoom(Et,l),Z&&(l=Math.round(l/(Z/100))*(Z/100),l=e?Math.ceil(l/Z)*Z:Math.floor(l/Z)*Z),Math.max(h,Math.min(p,l))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new U(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new lt(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=e===void 0?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=e===void 0?this._zoom:e;var l=n.zoom(t*n.scale(e));return isNaN(l)?1/0:l},project:function(t,e){return e=e===void 0?this._zoom:e,this.options.crs.latLngToPoint(it(t),e)},unproject:function(t,e){return e=e===void 0?this._zoom:e,this.options.crs.pointToLatLng(G(t),e)},layerPointToLatLng:function(t){var e=G(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(it(t))._round();return e._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(it(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(ft(t))},distance:function(t,e){return this.options.crs.distance(it(t),it(e))},containerPointToLayerPoint:function(t){return G(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return G(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(G(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(it(t)))},mouseEventToContainerPoint:function(t){return lo(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=oo(t);if(e){if(e._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");q(e,"scroll",this._onScroll,this),this._containerId=d(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&H.any3d,X(t,"leaflet-container"+(H.touch?" leaflet-touch":"")+(H.retina?" leaflet-retina":"")+(H.ielt9?" leaflet-oldie":"")+(H.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=Be(t,"position");e!=="absolute"&&e!=="relative"&&e!=="fixed"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),gt(this._mapPane,new U(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(X(t.markerPane,"leaflet-zoom-hide"),X(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e,n){gt(this._mapPane,new U(0,0));var l=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var h=this._zoom!==e;this._moveStart(h,n)._move(t,e)._moveEnd(h),this.fire("viewreset"),l&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,n,l){e===void 0&&(e=this._zoom);var h=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),l?n&&n.pinch&&this.fire("zoom",n):((h||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return R(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){gt(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[d(this._container)]=this;var e=t?ut:q;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),H.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){R(this._resizeRequest),this._resizeRequest=A(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n=[],l,h=e==="mouseout"||e==="mouseover",p=t.target||t.srcElement,v=!1;p;){if(l=this._targets[d(p)],l&&(e==="click"||e==="preclick")&&this._draggableMoved(l)){v=!0;break}if(l&&l.listens(e,!0)&&(h&&!sn(p,t)||(n.push(l),h))||p===this._container)break;p=p.parentNode}return!n.length&&!v&&!h&&this.listens(e,!0)&&(n=[this]),n},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var e=t.target||t.srcElement;if(!(!this._loaded||e._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(e))){var n=t.type;n==="mousedown"&&Qi(e),this._fireDOMEvent(t,n)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,n){if(t.type==="click"){var l=a({},t);l.type="preclick",this._fireDOMEvent(l,l.type,n)}var h=this._findEventTargets(t,e);if(n){for(var p=[],v=0;v<n.length;v++)n[v].listens(e,!0)&&p.push(n[v]);h=p.concat(h)}if(!!h.length){e==="contextmenu"&&Pt(t);var T=h[0],O={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var E=T.getLatLng&&(!T._radius||T._radius<=10);O.containerPoint=E?this.latLngToContainerPoint(T.getLatLng()):this.mouseEventToContainerPoint(t),O.layerPoint=this.containerPointToLayerPoint(O.containerPoint),O.latlng=E?T.getLatLng():this.layerPointToLatLng(O.layerPoint)}for(v=0;v<h.length;v++)if(h[v].fire(e,O,!0),O.originalEvent._stopped||h[v].options.bubblingMouseEvents===!1&&S(this._mouseEvents,e)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return ne(this._mapPane)||new U(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){var n=t&&e!==void 0?this._getNewPixelOrigin(t,e):this.getPixelOrigin();return n.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var l=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(l)},_latLngBoundsToNewLayerBounds:function(t,e,n){var l=this._getNewPixelOrigin(n,e);return _t([this.project(t.getSouthWest(),e)._subtract(l),this.project(t.getNorthWest(),e)._subtract(l),this.project(t.getSouthEast(),e)._subtract(l),this.project(t.getNorthEast(),e)._subtract(l)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var l=this.project(t,e),h=this.getSize().divideBy(2),p=new lt(l.subtract(h),l.add(h)),v=this._getBoundsOffset(p,n,e);return v.round().equals([0,0])?t:this.unproject(l.add(v),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),l=new lt(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(l,e))},_getBoundsOffset:function(t,e,n){var l=_t(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),h=l.min.subtract(t.min),p=l.max.subtract(t.max),v=this._rebound(h.x,-p.x),T=this._rebound(h.y,-p.y);return new U(v,T)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),l=H.any3d?this.options.zoomSnap:1;return l&&(t=Math.round(t/l)*l),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){pt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._trunc();return(e&&e.animate)!==!0&&!this.getSize().contains(n)?!1:(this.panBy(n,e),!0)},_createAnimProxy:function(){var t=this._proxy=nt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(e){var n=Vi,l=this._proxy.style[n];ie(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),l===this._proxy.style[n]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ht(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();ie(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||n.animate===!1||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var l=this.getZoomScale(e),h=this._getCenterOffset(t)._divideBy(1-1/l);return n.animate!==!0&&!this.getSize().contains(h)?!1:(A(function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)},this),!0)},_animateZoom:function(t,e,n,l){!this._mapPane||(n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,X(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:l}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(c(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){!this._animatingZoom||(this._mapPane&&pt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ys(t,e){return new et(t,e)}var It=K.extend({options:{position:"topright"},initialize:function(t){C(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),l=t._controlCorners[n];return X(e,"leaflet-control"),n.indexOf("bottom")!==-1?l.insertBefore(e,l.firstChild):l.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ht(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),He=function(t){return new It(t)};et.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",n=this._controlContainer=nt("div",e+"control-container",this._container);function l(h,p){var v=e+h+" "+e+p;t[h+p]=nt("div",v,n)}l("top","left"),l("top","right"),l("bottom","left"),l("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)ht(this._controlCorners[t]);ht(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var co=It.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,l){return n<l?-1:l<n?1:0}},initialize:function(t,e,n){C(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var l in t)this._addLayer(t[l],l);for(l in e)this._addLayer(e[l],l,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return It.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(d(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){X(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(X(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):pt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return pt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=nt("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),Fe(e),rn(e);var l=this._section=nt("section",t+"-list");n&&(this._map.on("click",this.collapse,this),q(e,{mouseenter:function(){q(l,"click",Pt),this.expand(),setTimeout(function(){ut(l,"click",Pt)})},mouseleave:this.collapse},this));var h=this._layersLink=nt("a",t+"-toggle",e);h.href="#",h.title="Layers",h.setAttribute("role","button"),q(h,"click",Pt),q(h,"focus",this.expand,this),n||this.expand(),this._baseLayersList=nt("div",t+"-base",l),this._separator=nt("div",t+"-separator",l),this._overlaysList=nt("div",t+"-overlays",l),e.appendChild(l)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&d(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(c(function(l,h){return this.options.sortFunction(l.layer,h.layer,l.name,h.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;hi(this._baseLayersList),hi(this._overlaysList),this._layerControlInputs=[];var t,e,n,l,h=0;for(n=0;n<this._layers.length;n++)l=this._layers[n],this._addItem(l),e=e||l.overlay,t=t||!l.overlay,h+=l.overlay?0:1;return this.options.hideSingleBase&&(t=t&&h>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(d(t.target)),n=e.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",l=document.createElement("div");return l.innerHTML=n,l.firstChild},_addItem:function(t){var e=document.createElement("label"),n=this._map.hasLayer(t.layer),l;t.overlay?(l=document.createElement("input"),l.type="checkbox",l.className="leaflet-control-layers-selector",l.defaultChecked=n):l=this._createRadioElement("leaflet-base-layers_"+d(this),n),this._layerControlInputs.push(l),l.layerId=d(t.layer),q(l,"click",this._onInputClick,this);var h=document.createElement("span");h.innerHTML=" "+t.name;var p=document.createElement("span");e.appendChild(p),p.appendChild(l),p.appendChild(h);var v=t.overlay?this._overlaysList:this._baseLayersList;return v.appendChild(e),this._checkDisabledLayers(),e},_onInputClick:function(){var t=this._layerControlInputs,e,n,l=[],h=[];this._handlingClick=!0;for(var p=t.length-1;p>=0;p--)e=t[p],n=this._getLayer(e.layerId).layer,e.checked?l.push(n):e.checked||h.push(n);for(p=0;p<h.length;p++)this._map.hasLayer(h[p])&&this._map.removeLayer(h[p]);for(p=0;p<l.length;p++)this._map.hasLayer(l[p])||this._map.addLayer(l[p]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,e,n,l=this._map.getZoom(),h=t.length-1;h>=0;h--)e=t[h],n=this._getLayer(e.layerId).layer,e.disabled=n.options.minZoom!==void 0&&l<n.options.minZoom||n.options.maxZoom!==void 0&&l>n.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this}}),bs=function(t,e,n){return new co(t,e,n)},an=It.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=nt("div",e+" leaflet-bar"),l=this.options;return this._zoomInButton=this._createButton(l.zoomInText,l.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(l.zoomOutText,l.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,l,h){var p=nt("a",n,l);return p.innerHTML=t,p.href="#",p.title=e,p.setAttribute("role","button"),p.setAttribute("aria-label",e),Fe(p),q(p,"click",re),q(p,"click",h,this),q(p,"click",this._refocusOnMap,this),p},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";pt(this._zoomInButton,e),pt(this._zoomOutButton,e),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(X(this._zoomOutButton,e),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(X(this._zoomInButton,e),this._zoomInButton.setAttribute("aria-disabled","true"))}});et.mergeOptions({zoomControl:!0}),et.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new an,this.addControl(this.zoomControl))});var ws=function(t){return new an(t)},fo=It.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",n=nt("div",e),l=this.options;return this._addScales(l,e+"-line",n),t.on(l.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=nt("div",e,n)),t.imperial&&(this._iScale=nt("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e=t*3.2808399,n,l,h;e>5280?(n=e/5280,l=this._getRoundNum(n),this._updateScale(this._iScale,l+" mi",l/n)):(h=this._getRoundNum(e),this._updateScale(this._iScale,h+" ft",h/e))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,e*n}}),xs=function(t){return new fo(t)},Ps='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ln=It.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(H.inlineSvg?Ps+" ":"")+"Leaflet</a>"},initialize:function(t){C(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=nt("div","leaflet-control-attribution"),Fe(this._container);for(var e in t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(!!this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(' <span aria-hidden="true">|</span> ')}}});et.mergeOptions({attributionControl:!0}),et.addInitHook(function(){this.options.attributionControl&&new ln().addTo(this)});var Ls=function(t){return new ln(t)};It.Layers=co,It.Zoom=an,It.Scale=fo,It.Attribution=ln,He.layers=bs,He.zoom=ws,He.scale=xs,He.attribution=Ls;var jt=K.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});jt.addTo=function(t,e){return t.addHandler(e,this),this};var Ts={Events:ot},po=H.touch?"touchstart mousedown":"mousedown",qt=Bt.extend({options:{clickTolerance:3},initialize:function(t,e,n,l){C(this,l),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(q(this._dragStartTarget,po,this._onDown,this),this._enabled=!0)},disable:function(){!this._enabled||(qt._dragging===this&&this.finishDrag(!0),ut(this._dragStartTarget,po,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!!this._enabled&&(this._moved=!1,!qi(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){qt._dragging===this&&this.finishDrag();return}if(!(qt._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(qt._dragging=this,this._preventOutline&&Qi(this._element),Ki(),Re(),!this._moving)){this.fire("down");var e=t.touches?t.touches[0]:t,n=ro(this._element);this._startPoint=new U(e.clientX,e.clientY),this._startPos=ne(this._element),this._parentScale=tn(n);var l=t.type==="mousedown";q(document,l?"mousemove":"touchmove",this._onMove,this),q(document,l?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(!!this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var e=t.touches&&t.touches.length===1?t.touches[0]:t,n=new U(e.clientX,e.clientY)._subtract(this._startPoint);!n.x&&!n.y||Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Pt(t),this._moved||(this.fire("dragstart"),this._moved=!0,X(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),X(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),gt(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){!this._enabled||this.finishDrag()},finishDrag:function(t){pt(document.body,"leaflet-dragging"),this._lastTarget&&(pt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ut(document,"mousemove touchmove",this._onMove,this),ut(document,"mouseup touchend touchcancel",this._onUp,this),Xi(),Ze(),this._moved&&this._moving&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,qt._dragging=!1}});function mo(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=Cs(t,n),t=Os(t,n),t}function _o(t,e,n){return Math.sqrt(We(t,e,n,!0))}function ks(t,e,n){return We(t,e,n)}function Os(t,e){var n=t.length,l=typeof Uint8Array!=void 0+""?Uint8Array:Array,h=new l(n);h[0]=h[n-1]=1,un(t,h,e,0,n-1);var p,v=[];for(p=0;p<n;p++)h[p]&&v.push(t[p]);return v}function un(t,e,n,l,h){var p=0,v,T,O;for(T=l+1;T<=h-1;T++)O=We(t[T],t[l],t[h],!0),O>p&&(v=T,p=O);p>n&&(e[v]=1,un(t,e,n,l,v),un(t,e,n,v,h))}function Cs(t,e){for(var n=[t[0]],l=1,h=0,p=t.length;l<p;l++)Ms(t[l],t[h])>e&&(n.push(t[l]),h=l);return h<p-1&&n.push(t[p-1]),n}var go;function vo(t,e,n,l,h){var p=l?go:se(t,n),v=se(e,n),T,O,E;for(go=v;;){if(!(p|v))return[t,e];if(p&v)return!1;T=p||v,O=mi(t,e,T,n,h),E=se(O,n),T===p?(t=O,p=E):(e=O,v=E)}}function mi(t,e,n,l,h){var p=e.x-t.x,v=e.y-t.y,T=l.min,O=l.max,E,Z;return n&8?(E=t.x+p*(O.y-t.y)/v,Z=O.y):n&4?(E=t.x+p*(T.y-t.y)/v,Z=T.y):n&2?(E=O.x,Z=t.y+v*(O.x-t.x)/p):n&1&&(E=T.x,Z=t.y+v*(T.x-t.x)/p),new U(E,Z,h)}function se(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function Ms(t,e){var n=e.x-t.x,l=e.y-t.y;return n*n+l*l}function We(t,e,n,l){var h=e.x,p=e.y,v=n.x-h,T=n.y-p,O=v*v+T*T,E;return O>0&&(E=((t.x-h)*v+(t.y-p)*T)/O,E>1?(h=n.x,p=n.y):E>0&&(h+=v*E,p+=T*E)),v=t.x-h,T=t.y-p,l?v*v+T*T:new U(h,p)}function At(t){return!x(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function yo(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),At(t)}function bo(t,e){var n,l,h,p,v,T,O,E;if(!t||t.length===0)throw new Error("latlngs not passed");At(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var Z=[];for(var V in t)Z.push(e.project(it(t[V])));var Y=Z.length;for(n=0,l=0;n<Y-1;n++)l+=Z[n].distanceTo(Z[n+1])/2;if(l===0)E=Z[0];else for(n=0,p=0;n<Y-1;n++)if(v=Z[n],T=Z[n+1],h=v.distanceTo(T),p+=h,p>l){O=(p-l)/h,E=[T.x-O*(T.x-v.x),T.y-O*(T.y-v.y)];break}return e.unproject(G(E))}var As={__proto__:null,simplify:mo,pointToSegmentDistance:_o,closestPointOnSegment:ks,clipSegment:vo,_getEdgeIntersection:mi,_getBitCode:se,_sqClosestPointOnSegment:We,isFlat:At,_flat:yo,polylineCenter:bo};function wo(t,e,n){var l,h=[1,4,2,8],p,v,T,O,E,Z,V,Y;for(p=0,Z=t.length;p<Z;p++)t[p]._code=se(t[p],e);for(T=0;T<4;T++){for(V=h[T],l=[],p=0,Z=t.length,v=Z-1;p<Z;v=p++)O=t[p],E=t[v],O._code&V?E._code&V||(Y=mi(E,O,V,e,n),Y._code=se(Y,e),l.push(Y)):(E._code&V&&(Y=mi(E,O,V,e,n),Y._code=se(Y,e),l.push(Y)),l.push(O));t=l}return t}function xo(t,e){var n,l,h,p,v,T,O,E,Z;if(!t||t.length===0)throw new Error("latlngs not passed");At(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var V=[];for(var Y in t)V.push(e.project(it(t[Y])));var Et=V.length;for(T=O=E=0,n=0,l=Et-1;n<Et;l=n++)h=V[n],p=V[l],v=h.y*p.x-p.y*h.x,O+=(h.x+p.x)*v,E+=(h.y+p.y)*v,T+=v*3;return T===0?Z=V[0]:Z=[O/T,E/T],e.unproject(G(Z))}var Es={__proto__:null,clipPolygon:wo,polygonCenter:xo},hn={project:function(t){return new U(t.lng,t.lat)},unproject:function(t){return new rt(t.y,t.x)},bounds:new lt([-180,-90],[180,90])},cn={R:6378137,R_MINOR:6356752314245179e-9,bounds:new lt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var e=Math.PI/180,n=this.R,l=t.lat*e,h=this.R_MINOR/n,p=Math.sqrt(1-h*h),v=p*Math.sin(l),T=Math.tan(Math.PI/4-l/2)/Math.pow((1-v)/(1+v),p/2);return l=-n*Math.log(Math.max(T,1e-10)),new U(t.lng*e*n,l)},unproject:function(t){for(var e=180/Math.PI,n=this.R,l=this.R_MINOR/n,h=Math.sqrt(1-l*l),p=Math.exp(-t.y/n),v=Math.PI/2-2*Math.atan(p),T=0,O=.1,E;T<15&&Math.abs(O)>1e-7;T++)E=h*Math.sin(v),E=Math.pow((1-E)/(1+E),h/2),O=Math.PI/2-2*Math.atan(p*E)-v,v+=O;return new rt(v*e,t.x*e/n)}},Ss={__proto__:null,LonLat:hn,Mercator:cn,SphericalMercator:xt},zs=a({},Ct,{code:"EPSG:3395",projection:cn,transformation:function(){var t=.5/(Math.PI*cn.R);return tt(t,.5,-t,.5)}()}),Po=a({},Ct,{code:"EPSG:4326",projection:hn,transformation:tt(1/180,1,-1/180,.5)}),Is=a({},Lt,{projection:hn,transformation:tt(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,l=e.lat-t.lat;return Math.sqrt(n*n+l*l)},infinite:!0});Lt.Earth=Ct,Lt.EPSG3395=zs,Lt.EPSG3857=bt,Lt.EPSG900913=jr,Lt.EPSG4326=Po,Lt.Simple=Is;var Nt=Bt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[d(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[d(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(!!e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",function(){e.off(n,this)},this)}this.onAdd(e),this.fire("add"),e.fire("layeradd",{layer:this})}}});et.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=d(t);return this._layers[e]?this:(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var e=d(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return d(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){t=t?x(t)?t:[t]:[];for(var e=0,n=t.length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[d(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=d(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var l in this._zoomBoundLayers){var h=this._zoomBoundLayers[l].options;t=h.minZoom===void 0?t:Math.min(t,h.minZoom),e=h.maxZoom===void 0?e:Math.max(e,h.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var me=Nt.extend({initialize:function(t,e){C(this,e),this._layers={};var n,l;if(t)for(n=0,l=t.length;n<l;n++)this.addLayer(t[n])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){var e=typeof t=="number"?t:this.getLayerId(t);return e in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e=Array.prototype.slice.call(arguments,1),n,l;for(n in this._layers)l=this._layers[n],l[t]&&l[t].apply(l,e);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return d(t)}}),Ns=function(t,e){return new me(t,e)},ae=me.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),me.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),me.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new wt;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),Ds=function(t,e){return new ae(t,e)},_e=K.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){C(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var l=this._createImg(n,e&&e.tagName==="IMG"?e:null);return this._setIconStyles(l,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),l},_setIconStyles:function(t,e){var n=this.options,l=n[e+"Size"];typeof l=="number"&&(l=[l,l]);var h=G(l),p=G(e==="shadow"&&n.shadowAnchor||n.iconAnchor||h&&h.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),p&&(t.style.marginLeft=-p.x+"px",t.style.marginTop=-p.y+"px"),h&&(t.style.width=h.x+"px",t.style.height=h.y+"px")},_createImg:function(t,e){return e=e||document.createElement("img"),e.src=t,e},_getIconUrl:function(t){return H.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function Bs(t){return new _e(t)}var Ue=_e.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof Ue.imagePath!="string"&&(Ue.imagePath=this._detectIconPath()),(this.options.imagePath||Ue.imagePath)+_e.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var e=function(n,l,h){var p=l.exec(n);return p&&p[h]};return t=e(t,/^url\((['"])?(.+)\1\)$/,2),t&&e(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=nt("div","leaflet-default-icon-path",document.body),e=Be(t,"background-image")||Be(t,"backgroundImage");if(document.body.removeChild(t),e=this._stripUrl(e),e)return e;var n=document.querySelector('link[href$="leaflet.css"]');return n?n.href.substring(0,n.href.length-11-1):""}}),Lo=jt.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new qt(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),X(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&pt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,n=e._map,l=this._marker.options.autoPanSpeed,h=this._marker.options.autoPanPadding,p=ne(e._icon),v=n.getPixelBounds(),T=n.getPixelOrigin(),O=_t(v.min._subtract(T).add(h),v.max._subtract(T).subtract(h));if(!O.contains(p)){var E=G((Math.max(O.max.x,p.x)-O.max.x)/(v.max.x-O.max.x)-(Math.min(O.min.x,p.x)-O.min.x)/(v.min.x-O.min.x),(Math.max(O.max.y,p.y)-O.max.y)/(v.max.y-O.max.y)-(Math.min(O.min.y,p.y)-O.min.y)/(v.min.y-O.min.y)).multiplyBy(l);n.panBy(E,{animate:!1}),this._draggable._newPos._add(E),this._draggable._startPos._add(E),gt(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=A(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(R(this._panRequest),this._panRequest=A(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,n=e._shadow,l=ne(e._icon),h=e._map.layerPointToLatLng(l);n&&gt(n,l),e._latlng=h,t.latlng=h,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){R(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),_i=Nt.extend({options:{icon:new Ue,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){C(this,e),this._latlng=it(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=it(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),l=!1;n!==this._icon&&(this._icon&&this._removeIcon(),l=!0,t.title&&(n.title=t.title),n.tagName==="IMG"&&(n.alt=t.alt||"")),X(n,e),t.keyboard&&(n.tabIndex="0",n.setAttribute("role","button")),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&q(n,"focus",this._panOnFocus,this);var h=t.icon.createShadow(this._shadow),p=!1;h!==this._shadow&&(this._removeShadow(),p=!0),h&&(X(h,e),h.alt=""),this._shadow=h,t.opacity<1&&this._updateOpacity(),l&&this.getPane().appendChild(this._icon),this._initInteraction(),h&&p&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ut(this._icon,"focus",this._panOnFocus,this),ht(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ht(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&gt(this._icon,t),this._shadow&&gt(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(!!this.options.interactive&&(X(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Lo)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Lo(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&Mt(this._icon,t),this._shadow&&Mt(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(!!t){var e=this.options.icon.options,n=e.iconSize?G(e.iconSize):G(0,0),l=e.iconAnchor?G(e.iconAnchor):G(0,0);t.panInside(this._latlng,{paddingTopLeft:l,paddingBottomRight:n.subtract(l)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Rs(t,e){return new _i(t,e)}var Yt=Nt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return C(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),gi=Yt.extend({options:{fill:!0,radius:10},initialize:function(t,e){C(this,e),this._latlng=it(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=it(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return Yt.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),l=[t+n,e+n];this._pxBounds=new lt(this._point.subtract(l),this._point.add(l))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Zs(t,e){return new gi(t,e)}var fn=gi.extend({initialize:function(t,e,n){if(typeof e=="number"&&(e=a({},n,{radius:e})),C(this,e),this._latlng=it(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new wt(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Yt.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,l=n.options.crs;if(l.distance===Ct.distance){var h=Math.PI/180,p=this._mRadius/Ct.R/h,v=n.project([e+p,t]),T=n.project([e-p,t]),O=v.add(T).divideBy(2),E=n.unproject(O).lat,Z=Math.acos((Math.cos(p*h)-Math.sin(e*h)*Math.sin(E*h))/(Math.cos(e*h)*Math.cos(E*h)))/h;(isNaN(Z)||Z===0)&&(Z=p/Math.cos(Math.PI/180*e)),this._point=O.subtract(n.getPixelOrigin()),this._radius=isNaN(Z)?0:O.x-n.project([E,t-Z]).x,this._radiusY=O.y-v.y}else{var V=l.unproject(l.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(V).x}this._updateBounds()}});function js(t,e,n){return new fn(t,e,n)}var Wt=Yt.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){C(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e=1/0,n=null,l=We,h,p,v=0,T=this._parts.length;v<T;v++)for(var O=this._parts[v],E=1,Z=O.length;E<Z;E++){h=O[E-1],p=O[E];var V=l(t,h,p,!0);V<e&&(e=V,n=l(t,h,p))}return n&&(n.distance=Math.sqrt(e)),n},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return bo(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=it(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new wt,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return At(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=At(t),l=0,h=t.length;l<h;l++)n?(e[l]=it(t[l]),this._bounds.extend(e[l])):e[l]=this._convertLatLngs(t[l]);return e},_project:function(){var t=new lt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new U(t,t);!this._rawPxBounds||(this._pxBounds=new lt([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)]))},_projectLatlngs:function(t,e,n){var l=t[0]instanceof rt,h=t.length,p,v;if(l){for(v=[],p=0;p<h;p++)v[p]=this._map.latLngToLayerPoint(t[p]),n.extend(v[p]);e.push(v)}else for(p=0;p<h;p++)this._projectLatlngs(t[p],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var e=this._parts,n,l,h,p,v,T,O;for(n=0,h=0,p=this._rings.length;n<p;n++)for(O=this._rings[n],l=0,v=O.length;l<v-1;l++)T=vo(O[l],O[l+1],t,l,!0),T&&(e[h]=e[h]||[],e[h].push(T[0]),(T[1]!==O[l+1]||l===v-2)&&(e[h].push(T[1]),h++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,l=t.length;n<l;n++)t[n]=mo(t[n],e)},_update:function(){!this._map||(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,l,h,p,v,T,O=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,p=this._parts.length;n<p;n++)for(T=this._parts[n],l=0,v=T.length,h=v-1;l<v;h=l++)if(!(!e&&l===0)&&_o(t,T[h],T[l])<=O)return!0;return!1}});function Fs(t,e){return new Wt(t,e)}Wt._flat=yo;var ge=Wt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return xo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var e=Wt.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof rt&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){Wt.prototype._setLatLngs.call(this,t),At(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return At(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new U(e,e);if(t=new lt(t.min.subtract(n),t.max.add(n)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var l=0,h=this._rings.length,p;l<h;l++)p=wo(this._rings[l],t,!0),p.length&&this._parts.push(p)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e=!1,n,l,h,p,v,T,O,E;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(p=0,O=this._parts.length;p<O;p++)for(n=this._parts[p],v=0,E=n.length,T=E-1;v<E;T=v++)l=n[v],h=n[T],l.y>t.y!=h.y>t.y&&t.x<(h.x-l.x)*(t.y-l.y)/(h.y-l.y)+l.x&&(e=!e);return e||Wt.prototype._containsPoint.call(this,t,!0)}});function Hs(t,e){return new ge(t,e)}var Ut=ae.extend({initialize:function(t,e){C(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e=x(t)?t:t.features,n,l,h;if(e){for(n=0,l=e.length;n<l;n++)h=e[n],(h.geometries||h.geometry||h.features||h.coordinates)&&this.addData(h);return this}var p=this.options;if(p.filter&&!p.filter(t))return this;var v=vi(t,p);return v?(v.feature=wi(t),v.defaultOptions=v.options,this.resetStyle(v),p.onEachFeature&&p.onEachFeature(t,v),this.addLayer(v)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=a({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){t.setStyle&&(typeof e=="function"&&(e=e(t.feature)),t.setStyle(e))}});function vi(t,e){var n=t.type==="Feature"?t.geometry:t,l=n?n.coordinates:null,h=[],p=e&&e.pointToLayer,v=e&&e.coordsToLatLng||dn,T,O,E,Z;if(!l&&!n)return null;switch(n.type){case"Point":return T=v(l),To(p,t,T,e);case"MultiPoint":for(E=0,Z=l.length;E<Z;E++)T=v(l[E]),h.push(To(p,t,T,e));return new ae(h);case"LineString":case"MultiLineString":return O=yi(l,n.type==="LineString"?0:1,v),new Wt(O,e);case"Polygon":case"MultiPolygon":return O=yi(l,n.type==="Polygon"?1:2,v),new ge(O,e);case"GeometryCollection":for(E=0,Z=n.geometries.length;E<Z;E++){var V=vi({geometry:n.geometries[E],type:"Feature",properties:t.properties},e);V&&h.push(V)}return new ae(h);case"FeatureCollection":for(E=0,Z=n.features.length;E<Z;E++){var Y=vi(n.features[E],e);Y&&h.push(Y)}return new ae(h);default:throw new Error("Invalid GeoJSON object.")}}function To(t,e,n,l){return t?t(e,n):new _i(n,l&&l.markersInheritOptions&&l)}function dn(t){return new rt(t[1],t[0],t[2])}function yi(t,e,n){for(var l=[],h=0,p=t.length,v;h<p;h++)v=e?yi(t[h],e-1,n):(n||dn)(t[h]),l.push(v);return l}function pn(t,e){return t=it(t),t.alt!==void 0?[y(t.lng,e),y(t.lat,e),y(t.alt,e)]:[y(t.lng,e),y(t.lat,e)]}function bi(t,e,n,l){for(var h=[],p=0,v=t.length;p<v;p++)h.push(e?bi(t[p],At(t[p])?0:e-1,n,l):pn(t[p],l));return!e&&n&&h.push(h[0]),h}function ve(t,e){return t.feature?a({},t.feature,{geometry:e}):wi(e)}function wi(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var mn={toGeoJSON:function(t){return ve(this,{type:"Point",coordinates:pn(this.getLatLng(),t)})}};_i.include(mn),fn.include(mn),gi.include(mn),Wt.include({toGeoJSON:function(t){var e=!At(this._latlngs),n=bi(this._latlngs,e?1:0,!1,t);return ve(this,{type:(e?"Multi":"")+"LineString",coordinates:n})}}),ge.include({toGeoJSON:function(t){var e=!At(this._latlngs),n=e&&!At(this._latlngs[0]),l=bi(this._latlngs,n?2:e?1:0,!0,t);return e||(l=[l]),ve(this,{type:(n?"Multi":"")+"Polygon",coordinates:l})}}),me.include({toMultiPoint:function(t){var e=[];return this.eachLayer(function(n){e.push(n.toGeoJSON(t).geometry.coordinates)}),ve(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(e==="MultiPoint")return this.toMultiPoint(t);var n=e==="GeometryCollection",l=[];return this.eachLayer(function(h){if(h.toGeoJSON){var p=h.toGeoJSON(t);if(n)l.push(p.geometry);else{var v=wi(p);v.type==="FeatureCollection"?l.push.apply(l,v.features):l.push(v)}}}),n?ve(this,{geometries:l,type:"GeometryCollection"}):{type:"FeatureCollection",features:l}}});function ko(t,e){return new Ut(t,e)}var Ws=ko,xi=Nt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=ft(e),C(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(X(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ht(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&de(this._image),this},bringToBack:function(){return this._map&&pe(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=ft(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",e=this._image=t?this._url:nt("img");if(X(e,"leaflet-image-layer"),this._zoomAnimated&&X(e,"leaflet-zoom-animated"),this.options.className&&X(e,this.options.className),e.onselectstart=g,e.onmousemove=g,e.onload=c(this.fire,this,"load"),e.onerror=c(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(e.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=e.src;return}e.src=this._url,e.alt=this.options.alt},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;ie(this._image,n,e)},_reset:function(){var t=this._image,e=new lt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();gt(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){Mt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),Us=function(t,e,n){return new xi(t,e,n)},Oo=xi.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",e=this._image=t?this._url:nt("video");if(X(e,"leaflet-image-layer"),this._zoomAnimated&&X(e,"leaflet-zoom-animated"),this.options.className&&X(e,this.options.className),e.onselectstart=g,e.onmousemove=g,e.onloadeddata=c(this.fire,this,"load"),t){for(var n=e.getElementsByTagName("source"),l=[],h=0;h<n.length;h++)l.push(n[h].src);this._url=n.length>0?l:[e.src];return}x(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted,e.playsInline=!!this.options.playsInline;for(var p=0;p<this._url.length;p++){var v=nt("source");v.src=this._url[p],e.appendChild(v)}}});function Gs(t,e,n){return new Oo(t,e,n)}var Co=xi.extend({_initImage:function(){var t=this._image=this._url;X(t,"leaflet-image-layer"),this._zoomAnimated&&X(t,"leaflet-zoom-animated"),this.options.className&&X(t,this.options.className),t.onselectstart=g,t.onmousemove=g}});function Vs(t,e,n){return new Co(t,e,n)}var Ft=Nt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,e){t&&(t instanceof L.LatLng||x(t))?(this._latlng=it(t),C(this,e)):(C(this,t),this._source=e),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&Mt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&Mt(this._container,1),this.bringToFront(),this.options.interactive&&(X(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(Mt(this._container,0),this._removeTimeout=setTimeout(c(ht,void 0,this._container),200)):ht(this._container),this.options.interactive&&(pt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=it(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){!this._map||(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&de(this._container),this},bringToBack:function(){return this._map&&pe(this._container),this},_prepareOpen:function(t){var e=this._source;if(!e._map)return!1;if(e instanceof ae){e=null;var n=this._source._layers;for(var l in n)if(n[l]._map){e=n[l];break}if(!e)return!1;this._source=e}if(!t)if(e.getCenter)t=e.getCenter();else if(e.getLatLng)t=e.getLatLng();else if(e.getBounds)t=e.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(!!this._content){var t=this._contentNode,e=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof e=="string")t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(!!this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=G(this.options.offset),n=this._getAnchor();this._zoomAnimated?gt(this._container,t.add(n)):e=e.add(t).add(n);var l=this._containerBottom=-e.y,h=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=l+"px",this._container.style.left=h+"px"}},_getAnchor:function(){return[0,0]}});et.include({_initOverlay:function(t,e,n,l){var h=e;return h instanceof t||(h=new t(l).setContent(e)),n&&h.setLatLng(n),h}}),Nt.include({_initOverlay:function(t,e,n,l){var h=n;return h instanceof t?(C(h,l),h._source=this):(h=e&&!l?e:new t(l,this),h.setContent(n)),h}});var Pi=Ft.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,Ft.prototype.openOn.call(this,t)},onAdd:function(t){Ft.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Yt||this._source.on("preclick",oe))},onRemove:function(t){Ft.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Yt||this._source.off("preclick",oe))},getEvents:function(){var t=Ft.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",e=this._container=nt("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=nt("div",t+"-content-wrapper",e);if(this._contentNode=nt("div",t+"-content",n),Fe(e),rn(this._contentNode),q(e,"contextmenu",oe),this._tipContainer=nt("div",t+"-tip-container",e),this._tip=nt("div",t+"-tip",this._tipContainer),this.options.closeButton){var l=this._closeButton=nt("a",t+"-close-button",e);l.setAttribute("role","button"),l.setAttribute("aria-label","Close popup"),l.href="#close",l.innerHTML='<span aria-hidden="true">&#215;</span>',q(l,"click",function(h){Pt(h),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var l=t.offsetHeight,h=this.options.maxHeight,p="leaflet-popup-scrolled";h&&l>h?(e.height=h+"px",X(t,p)):pt(t,p),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();gt(this._container,e.add(n))},_adjustPan:function(t){if(!!this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var e=this._map,n=parseInt(Be(this._container,"marginBottom"),10)||0,l=this._container.offsetHeight+n,h=this._containerWidth,p=new U(this._containerLeft,-l-this._containerBottom);p._add(ne(this._container));var v=e.layerPointToContainerPoint(p),T=G(this.options.autoPanPadding),O=G(this.options.autoPanPaddingTopLeft||T),E=G(this.options.autoPanPaddingBottomRight||T),Z=e.getSize(),V=0,Y=0;v.x+h+E.x>Z.x&&(V=v.x+h-Z.x+E.x),v.x-V-O.x<0&&(V=v.x-O.x),v.y+l+E.y>Z.y&&(Y=v.y+l-Z.y+E.y),v.y-Y-O.y<0&&(Y=v.y-O.y),(V||Y)&&e.fire("autopanstart").panBy([V,Y],{animate:t&&t.type==="moveend"})}},_getAnchor:function(){return G(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),qs=function(t,e){return new Pi(t,e)};et.mergeOptions({closePopupOnClick:!0}),et.include({openPopup:function(t,e,n){return this._initOverlay(Pi,t,e,n).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),Nt.include({bindPopup:function(t,e){return this._popup=this._initOverlay(Pi,this._popup,t,e),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){re(t);var e=t.layer||t.target;if(this._popup._source===e&&!(e instanceof Yt)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=e,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var Li=Ft.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){Ft.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){Ft.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=Ft.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",e=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=nt("div",e),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,n,l=this._map,h=this._container,p=l.latLngToContainerPoint(l.getCenter()),v=l.layerPointToContainerPoint(t),T=this.options.direction,O=h.offsetWidth,E=h.offsetHeight,Z=G(this.options.offset),V=this._getAnchor();T==="top"?(e=O/2,n=E):T==="bottom"?(e=O/2,n=0):T==="center"?(e=O/2,n=E/2):T==="right"?(e=0,n=E/2):T==="left"?(e=O,n=E/2):v.x<p.x?(T="right",e=0,n=E/2):(T="left",e=O+(Z.x+V.x)*2,n=E/2),t=t.subtract(G(e,n,!0)).add(Z).add(V),pt(h,"leaflet-tooltip-right"),pt(h,"leaflet-tooltip-left"),pt(h,"leaflet-tooltip-top"),pt(h,"leaflet-tooltip-bottom"),X(h,"leaflet-tooltip-"+T),gt(h,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&Mt(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return G(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ys=function(t,e){return new Li(t,e)};et.include({openTooltip:function(t,e,n){return this._initOverlay(Li,t,e,n).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),Nt.include({bindTooltip:function(t,e){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Li,this._tooltip,t,e),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,n.click=this._openTooltip,this._map?this._addFocusListeners():n.add=this._addFocusListeners),this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this)),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var e=t.getElement();e&&(q(e,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),q(e,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var e=t.getElement();e&&e.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0))},_moveTooltip:function(t){var e=t.latlng,n,l;this._tooltip.options.sticky&&t.originalEvent&&(n=this._map.mouseEventToContainerPoint(t.originalEvent),l=this._map.containerPointToLayerPoint(n),e=this._map.layerPointToLatLng(l)),this._tooltip.setLatLng(e)}});var Mo=_e.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&t.tagName==="DIV"?t:document.createElement("div"),n=this.options;if(n.html instanceof Element?(hi(e),e.appendChild(n.html)):e.innerHTML=n.html!==!1?n.html:"",n.bgPos){var l=G(n.bgPos);e.style.backgroundPosition=-l.x+"px "+-l.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});function $s(t){return new Mo(t)}_e.Default=Ue;var Ge=Nt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:H.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){C(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),ht(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(de(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(pe(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=m(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof U?t:new U(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e=this.getPane().children,n=-t(-1/0,1/0),l=0,h=e.length,p;l<h;l++)p=e[l].style.zIndex,e[l]!==this._container&&p&&(n=t(n,+p));isFinite(n)&&(this.options.zIndex=n+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(!!this._map&&!H.ielt9){Mt(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var l in this._tiles){var h=this._tiles[l];if(!(!h.current||!h.loaded)){var p=Math.min(1,(t-h.loaded)/200);Mt(h.el,p),p<1?e=!0:(h.active?n=!0:this._onOpaqueTile(h),h.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(R(this._fadeFrame),this._fadeFrame=A(this._updateOpacity,this))}},_onOpaqueTile:g,_initContainer:function(){this._container||(this._container=nt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(t!==void 0){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(ht(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var l=this._levels[t],h=this._map;return l||(l=this._levels[t]={},l.el=nt("div","leaflet-tile-container leaflet-zoom-animated",this._container),l.el.style.zIndex=e,l.origin=h.project(h.unproject(h.getPixelOrigin()),t).round(),l.zoom=t,this._setZoomTransform(l,h.getCenter(),h.getZoom()),g(l.el.offsetWidth),this._onCreateLevel(l)),this._level=l,l}},_onUpdateLevel:g,_onRemoveLevel:g,_onCreateLevel:g,_pruneTiles:function(){if(!!this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)e=this._tiles[t],e.retain=e.current;for(t in this._tiles)if(e=this._tiles[t],e.current&&!e.active){var l=e.coords;this._retainParent(l.x,l.y,l.z,l.z-5)||this._retainChildren(l.x,l.y,l.z,l.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)ht(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,n,l){var h=Math.floor(t/2),p=Math.floor(e/2),v=n-1,T=new U(+h,+p);T.z=+v;var O=this._tileCoordsToKey(T),E=this._tiles[O];return E&&E.active?(E.retain=!0,!0):(E&&E.loaded&&(E.retain=!0),v>l?this._retainParent(h,p,v,l):!1)},_retainChildren:function(t,e,n,l){for(var h=2*t;h<2*t+2;h++)for(var p=2*e;p<2*e+2;p++){var v=new U(h,p);v.z=n+1;var T=this._tileCoordsToKey(v),O=this._tiles[T];if(O&&O.active){O.retain=!0;continue}else O&&O.loaded&&(O.retain=!0);n+1<l&&this._retainChildren(h,p,n+1,l)}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return e.minNativeZoom!==void 0&&t<e.minNativeZoom?e.minNativeZoom:e.maxNativeZoom!==void 0&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,l){var h=Math.round(e);this.options.maxZoom!==void 0&&h>this.options.maxZoom||this.options.minZoom!==void 0&&h<this.options.minZoom?h=void 0:h=this._clampZoom(h);var p=this.options.updateWhenZooming&&h!==this._tileZoom;(!l||p)&&(this._tileZoom=h,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),h!==void 0&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var l=this._map.getZoomScale(n,t.zoom),h=t.origin.multiplyBy(l).subtract(this._map._getNewPixelOrigin(e,n)).round();H.any3d?ie(t.el,h,l):gt(t.el,h)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),l=this._tileZoom,h=this._map.getPixelWorldBounds(this._tileZoom);h&&(this._globalTileRange=this._pxBoundsToTileRange(h)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],l).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],l).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],l).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],l).y/n.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),l=e.getZoomScale(n,this._tileZoom),h=e.project(t,this._tileZoom).floor(),p=e.getSize().divideBy(l*2);return new lt(h.subtract(p),h.add(p))},_update:function(t){var e=this._map;if(!!e){var n=this._clampZoom(e.getZoom());if(t===void 0&&(t=e.getCenter()),this._tileZoom!==void 0){var l=this._getTiledPixelBounds(t),h=this._pxBoundsToTileRange(l),p=h.getCenter(),v=[],T=this.options.keepBuffer,O=new lt(h.getBottomLeft().subtract([T,-T]),h.getTopRight().add([T,-T]));if(!(isFinite(h.min.x)&&isFinite(h.min.y)&&isFinite(h.max.x)&&isFinite(h.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var E in this._tiles){var Z=this._tiles[E].coords;(Z.z!==this._tileZoom||!O.contains(new U(Z.x,Z.y)))&&(this._tiles[E].current=!1)}if(Math.abs(n-this._tileZoom)>1){this._setView(t,n);return}for(var V=h.min.y;V<=h.max.y;V++)for(var Y=h.min.x;Y<=h.max.x;Y++){var Et=new U(Y,V);if(Et.z=this._tileZoom,!!this._isValidTile(Et)){var le=this._tiles[this._tileCoordsToKey(Et)];le?le.current=!0:v.push(Et)}}if(v.sort(function($t,_n){return $t.distanceTo(p)-_n.distanceTo(p)}),v.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ki=document.createDocumentFragment();for(Y=0;Y<v.length;Y++)this._addTile(v[Y],ki);this._level.el.appendChild(ki)}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var l=this._tileCoordsToBounds(t);return ft(this.options.bounds).overlaps(l)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,n=this.getTileSize(),l=t.scaleBy(n),h=l.add(n),p=e.unproject(l,t.z),v=e.unproject(h,t.z);return[p,v]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),n=new wt(e[0],e[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new U(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];!e||(ht(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){X(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=g,t.onmousemove=g,H.ielt9&&this.options.opacity<1&&Mt(t,this.options.opacity)},_addTile:function(t,e){var n=this._getTilePos(t),l=this._tileCoordsToKey(t),h=this.createTile(this._wrapCoords(t),c(this._tileReady,this,t));this._initTile(h),this.createTile.length<2&&A(c(this._tileReady,this,t,null,h)),gt(h,n),this._tiles[l]={el:h,coords:t,current:!0},e.appendChild(h),this.fire("tileloadstart",{tile:h,coords:t})},_tileReady:function(t,e,n){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var l=this._tileCoordsToKey(t);n=this._tiles[l],n&&(n.loaded=+new Date,this._map._fadeAnimated?(Mt(n.el,0),R(this._fadeFrame),this._fadeFrame=A(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(X(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),H.ielt9||!this._map._fadeAnimated?A(this._pruneTiles,this):setTimeout(c(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new U(this._wrapX?_(t.x,this._wrapX):t.x,this._wrapY?_(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new lt(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function Ks(t){return new Ge(t)}var ye=Ge.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,e){this._url=t,e=C(this,e),e.detectRetina&&H.retina&&e.maxZoom>0?(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom=Math.min(e.maxZoom,e.minZoom+1)):(e.zoomOffset++,e.maxZoom=Math.max(e.minZoom,e.maxZoom-1)),e.minZoom=Math.max(0,e.minZoom)):e.zoomReverse?e.minZoom=Math.min(e.maxZoom,e.minZoom):e.maxZoom=Math.max(e.minZoom,e.maxZoom),typeof e.subdomains=="string"&&(e.subdomains=e.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&e===void 0&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=document.createElement("img");return q(n,"load",c(this._tileOnLoad,this,e,n)),q(n,"error",c(this._tileOnError,this,e,n)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(n.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(n.referrerPolicy=this.options.referrerPolicy),n.alt="",n.src=this.getTileUrl(t),n},getTileUrl:function(t){var e={r:H.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var n=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=n),e["-y"]=n}return k(this._url,a(e,this.options))},_tileOnLoad:function(t,e){H.ielt9?setTimeout(c(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var l=this.options.errorTileUrl;l&&e.getAttribute("src")!==l&&(e.src=l),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom,n=this.options.zoomReverse,l=this.options.zoomOffset;return n&&(t=e-t),t+l},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(e=this._tiles[t].el,e.onload=g,e.onerror=g,!e.complete)){e.src=N;var n=this._tiles[t].coords;ht(e),delete this._tiles[t],this.fire("tileabort",{tile:e,coords:n})}},_removeTile:function(t){var e=this._tiles[t];if(!!e)return e.el.setAttribute("src",N),Ge.prototype._removeTile.call(this,t)},_tileReady:function(t,e,n){if(!(!this._map||n&&n.getAttribute("src")===N))return Ge.prototype._tileReady.call(this,t,e,n)}});function Ao(t,e){return new ye(t,e)}var Eo=ye.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var n=a({},this.defaultWmsParams);for(var l in e)l in this.options||(n[l]=e[l]);e=C(this,e);var h=e.detectRetina&&H.retina?2:1,p=this.getTileSize();n.width=p.x*h,n.height=p.y*h,this.wmsParams=n},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,ye.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),n=this._crs,l=_t(n.project(e[0]),n.project(e[1])),h=l.min,p=l.max,v=(this._wmsVersion>=1.3&&this._crs===Po?[h.y,h.x,p.y,p.x]:[h.x,h.y,p.x,p.y]).join(","),T=ye.prototype.getTileUrl.call(this,t);return T+M(this.wmsParams,T,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+v},setParams:function(t,e){return a(this.wmsParams,t),e||this.redraw(),this}});function Xs(t,e){return new Eo(t,e)}ye.WMS=Eo,Ao.wms=Xs;var Gt=Nt.extend({options:{padding:.1},initialize:function(t){C(this,t),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&X(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),l=this._map.getSize().multiplyBy(.5+this.options.padding),h=this._map.project(this._center,e),p=l.multiplyBy(-n).add(h).subtract(this._map._getNewPixelOrigin(t,e));H.any3d?ie(this._container,p,n):gt(this._container,p)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new lt(n,n.add(e.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),So=Gt.extend({options:{tolerance:0},getEvents:function(){var t=Gt.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Gt.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");q(t,"mousemove",this._onMouseMove,this),q(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),q(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){R(this._redrawRequest),delete this._ctx,ht(this._container),ut(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var e in this._layers)t=this._layers[e],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Gt.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),l=H.retina?2:1;gt(e,t.min),e.width=l*n.x,e.height=l*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",H.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){Gt.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[d(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,l=e.prev;n?n.prev=l:this._drawLast=l,l?l.next=n:this._drawFirst=n,delete t._order,delete this._layers[d(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var e=t.options.dashArray.split(/[, ]+/),n=[],l,h;for(h=0;h<e.length;h++){if(l=Number(e[h]),isNaN(l))return;n.push(l)}t.options._dashArray=n}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){!this._map||(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||A(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new lt,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var l=this._drawFirst;l;l=l.next)t=l.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(!!this._drawing){var n,l,h,p,v=t._parts,T=v.length,O=this._ctx;if(!!T){for(O.beginPath(),n=0;n<T;n++){for(l=0,h=v[n].length;l<h;l++)p=v[n][l],O[l?"lineTo":"moveTo"](p.x,p.y);e&&O.closePath()}this._fillStroke(O,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var e=t._point,n=this._ctx,l=Math.max(Math.round(t._radius),1),h=(Math.max(Math.round(t._radiusY),1)||l)/l;h!==1&&(n.save(),n.scale(1,h)),n.beginPath(),n.arc(e.x,e.y/h,l,0,Math.PI*2,!1),h!==1&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&n.weight!==0&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e=this._map.mouseEventToLayerPoint(t),n,l,h=this._drawFirst;h;h=h.next)n=h.layer,n.options.interactive&&n._containsPoint(e)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(n))&&(l=n);this._fireEvent(l?[l]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(pt(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var n,l,h=this._drawFirst;h;h=h.next)n=h.layer,n.options.interactive&&n._containsPoint(e)&&(l=n);l!==this._hoveredLayer&&(this._handleMouseOut(t),l&&(X(this._container,"leaflet-interactive"),this._fireEvent([l],t,"mouseover"),this._hoveredLayer=l)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(c(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order;if(!!e){var n=e.next,l=e.prev;if(n)n.prev=l;else return;l?l.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t)}},_bringToBack:function(t){var e=t._order;if(!!e){var n=e.next,l=e.prev;if(l)l.next=n;else return;n?n.prev=l:l&&(this._drawLast=l),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t)}}});function zo(t){return H.canvas?new So(t):null}var Ve=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Js={_initContainer:function(){this._container=nt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Gt.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=Ve("shape");X(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=Ve("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[d(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;ht(e),t.removeInteractiveTarget(e),delete this._layers[d(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,l=t.options,h=t._container;h.stroked=!!l.stroke,h.filled=!!l.fill,l.stroke?(e||(e=t._stroke=Ve("stroke")),h.appendChild(e),e.weight=l.weight+"px",e.color=l.color,e.opacity=l.opacity,l.dashArray?e.dashStyle=x(l.dashArray)?l.dashArray.join(" "):l.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=l.lineCap.replace("butt","flat"),e.joinstyle=l.lineJoin):e&&(h.removeChild(e),t._stroke=null),l.fill?(n||(n=t._fill=Ve("fill")),h.appendChild(n),n.color=l.fillColor||l.color,n.opacity=l.fillOpacity):n&&(h.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),l=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+l+" 0,"+65535*360)},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){de(t._container)},_bringToBack:function(t){pe(t._container)}},Ti=H.vml?Ve:Dn,qe=Gt.extend({_initContainer:function(){this._container=Ti("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ti("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ht(this._container),ut(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Gt.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;(!this._svgSize||!this._svgSize.equals(e))&&(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),gt(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=Ti("path");t.options.className&&X(e,t.options.className),t.options.interactive&&X(e,"leaflet-interactive"),this._updateStyle(t),this._layers[d(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){ht(t._path),t.removeInteractiveTarget(t._path),delete this._layers[d(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;!e||(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,Bn(t._parts,e))},_updateCircle:function(t){var e=t._point,n=Math.max(Math.round(t._radius),1),l=Math.max(Math.round(t._radiusY),1)||n,h="a"+n+","+l+" 0 1,0 ",p=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+h+n*2+",0 "+h+-n*2+",0 ";this._setPath(t,p)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){de(t._path)},_bringToBack:function(t){pe(t._path)}});H.vml&&qe.include(Js);function Io(t){return H.svg||H.vml?new qe(t):null}et.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var e=this._paneRenderers[t];return e===void 0&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&zo(t)||Io(t)}});var No=ge.extend({initialize:function(t,e){ge.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=ft(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Qs(t,e){return new No(t,e)}qe.create=Ti,qe.pointsToPath=Bn,Ut.geometryToLayer=vi,Ut.coordsToLatLng=dn,Ut.coordsToLatLngs=yi,Ut.latLngToCoords=pn,Ut.latLngsToCoords=bi,Ut.getFeature=ve,Ut.asFeature=wi,et.mergeOptions({boxZoom:!0});var Do=jt.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){q(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ut(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ht(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Re(),Ki(),this._startPoint=this._map.mouseEventToContainerPoint(t),q(document,{contextmenu:re,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=nt("div","leaflet-zoom-box",this._container),X(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new lt(this._point,this._startPoint),n=e.getSize();gt(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(ht(this._box),pt(this._container,"leaflet-crosshair")),Ze(),Xi(),ut(document,{contextmenu:re,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(c(this._resetState,this),0);var e=new wt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});et.addInitHook("addHandler","boxZoom",Do),et.mergeOptions({doubleClickZoom:!0});var Bo=jt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),l=e.options.zoomDelta,h=t.originalEvent.shiftKey?n-l:n+l;e.options.doubleClickZoom==="center"?e.setZoom(h):e.setZoomAround(t.containerPoint,h)}});et.addInitHook("addHandler","doubleClickZoom",Bo),et.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ro=jt.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new qt(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}X(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){pt(this._map._container,"leaflet-grab"),pt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=ft(this._map.options.maxBounds);this._offsetLimit=_t(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,l=this._draggable._newPos.x,h=(l-e+n)%t+e-n,p=(l+e+n)%t-e-n,v=Math.abs(h+n)<Math.abs(p+n)?h:p;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=v},_onDragEnd:function(t){var e=this._map,n=e.options,l=!n.inertia||t.noInertia||this._times.length<2;if(e.fire("dragend",t),l)e.fire("moveend");else{this._prunePositions(+new Date);var h=this._lastPos.subtract(this._positions[0]),p=(this._lastTime-this._times[0])/1e3,v=n.easeLinearity,T=h.multiplyBy(v/p),O=T.distanceTo([0,0]),E=Math.min(n.inertiaMaxSpeed,O),Z=T.multiplyBy(E/O),V=E/(n.inertiaDeceleration*v),Y=Z.multiplyBy(-V/2).round();!Y.x&&!Y.y?e.fire("moveend"):(Y=e._limitOffset(Y,e.options.maxBounds),A(function(){e.panBy(Y,{duration:V,easeLinearity:v,noMoveStart:!0,animate:!0})}))}}});et.addInitHook("addHandler","dragging",Ro),et.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Zo=jt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),q(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ut(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,l=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(l,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e=this._panKeys={},n=this.keyCodes,l,h;for(l=0,h=n.left.length;l<h;l++)e[n.left[l]]=[-1*t,0];for(l=0,h=n.right.length;l<h;l++)e[n.right[l]]=[t,0];for(l=0,h=n.down.length;l<h;l++)e[n.down[l]]=[0,t];for(l=0,h=n.up.length;l<h;l++)e[n.up[l]]=[0,-1*t]},_setZoomDelta:function(t){var e=this._zoomKeys={},n=this.keyCodes,l,h;for(l=0,h=n.zoomIn.length;l<h;l++)e[n.zoomIn[l]]=t;for(l=0,h=n.zoomOut.length;l<h;l++)e[n.zoomOut[l]]=-t},_addHooks:function(){q(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ut(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=t.keyCode,n=this._map,l;if(e in this._panKeys)(!n._panAnim||!n._panAnim._inProgress)&&(l=this._panKeys[e],t.shiftKey&&(l=G(l).multiplyBy(3)),n.panBy(l),n.options.maxBounds&&n.panInsideBounds(n.options.maxBounds));else if(e in this._zoomKeys)n.setZoom(n.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[e]);else if(e===27&&n._popup&&n._popup.options.closeOnEscapeKey)n.closePopup();else return;re(t)}}});et.addInitHook("addHandler","keyboard",Zo),et.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var jo=jt.extend({addHooks:function(){q(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ut(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=uo(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var l=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(c(this._performZoom,this),l),re(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var l=this._delta/(this._map.options.wheelPxPerZoomLevel*4),h=4*Math.log(2/(1+Math.exp(-Math.abs(l))))/Math.LN2,p=n?Math.ceil(h/n)*n:h,v=t._limitZoom(e+(this._delta>0?p:-p))-e;this._delta=0,this._startTime=null,v&&(t.options.scrollWheelZoom==="center"?t.setZoom(e+v):t.setZoomAround(this._lastMousePos,e+v))}});et.addInitHook("addHandler","scrollWheelZoom",jo);var ta=600;et.mergeOptions({tapHold:H.touchNative&&H.safari&&H.mobile,tapTolerance:15});var Fo=jt.extend({addHooks:function(){q(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ut(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var e=t.touches[0];this._startPos=this._newPos=new U(e.clientX,e.clientY),this._holdTimeout=setTimeout(c(function(){this._cancel(),this._isTapValid()&&(q(document,"touchend",Pt),q(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",e))},this),ta),q(document,"touchend touchcancel contextmenu",this._cancel,this),q(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){ut(document,"touchend",Pt),ut(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),ut(document,"touchend touchcancel contextmenu",this._cancel,this),ut(document,"touchmove",this._onMove,this)},_onMove:function(t){var e=t.touches[0];this._newPos=new U(e.clientX,e.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,e){var n=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY});n._simulated=!0,e.target.dispatchEvent(n)}});et.addInitHook("addHandler","tapHold",Fo),et.mergeOptions({touchZoom:H.touch,bounceAtZoomLimits:!0});var Ho=jt.extend({addHooks:function(){X(this._map._container,"leaflet-touch-zoom"),q(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){pt(this._map._container,"leaflet-touch-zoom"),ut(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(!(!t.touches||t.touches.length!==2||e._animatingZoom||this._zooming)){var n=e.mouseEventToContainerPoint(t.touches[0]),l=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),e.options.touchZoom!=="center"&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(l)._divideBy(2))),this._startDist=n.distanceTo(l),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),q(document,"touchmove",this._onTouchMove,this),q(document,"touchend touchcancel",this._onTouchEnd,this),Pt(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),l=e.mouseEventToContainerPoint(t.touches[1]),h=n.distanceTo(l)/this._startDist;if(this._zoom=e.getScaleZoom(h,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&h<1||this._zoom>e.getMaxZoom()&&h>1)&&(this._zoom=e._limitZoom(this._zoom)),e.options.touchZoom==="center"){if(this._center=this._startLatLng,h===1)return}else{var p=n._add(l)._divideBy(2)._subtract(this._centerPoint);if(h===1&&p.x===0&&p.y===0)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(p),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),R(this._animRequest);var v=c(e._move,e,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=A(v,this,!0),Pt(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,R(this._animRequest),ut(document,"touchmove",this._onTouchMove,this),ut(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});et.addInitHook("addHandler","touchZoom",Ho),et.BoxZoom=Do,et.DoubleClickZoom=Bo,et.Drag=Ro,et.Keyboard=Zo,et.ScrollWheelZoom=jo,et.TapHold=Fo,et.TouchZoom=Ho,i.Bounds=lt,i.Browser=H,i.CRS=Lt,i.Canvas=So,i.Circle=fn,i.CircleMarker=gi,i.Class=K,i.Control=It,i.DivIcon=Mo,i.DivOverlay=Ft,i.DomEvent=vs,i.DomUtil=_s,i.Draggable=qt,i.Evented=Bt,i.FeatureGroup=ae,i.GeoJSON=Ut,i.GridLayer=Ge,i.Handler=jt,i.Icon=_e,i.ImageOverlay=xi,i.LatLng=rt,i.LatLngBounds=wt,i.Layer=Nt,i.LayerGroup=me,i.LineUtil=As,i.Map=et,i.Marker=_i,i.Mixin=Ts,i.Path=Yt,i.Point=U,i.PolyUtil=Es,i.Polygon=ge,i.Polyline=Wt,i.Popup=Pi,i.PosAnimation=ho,i.Projection=Ss,i.Rectangle=No,i.Renderer=Gt,i.SVG=qe,i.SVGOverlay=Co,i.TileLayer=ye,i.Tooltip=Li,i.Transformation=dt,i.Util=W,i.VideoOverlay=Oo,i.bind=c,i.bounds=_t,i.canvas=zo,i.circle=js,i.circleMarker=Zs,i.control=He,i.divIcon=$s,i.extend=a,i.featureGroup=Ds,i.geoJSON=ko,i.geoJson=Ws,i.gridLayer=Ks,i.icon=Bs,i.imageOverlay=Us,i.latLng=it,i.latLngBounds=ft,i.layerGroup=Ns,i.map=ys,i.marker=Rs,i.point=G,i.polygon=Hs,i.polyline=Fs,i.popup=qs,i.rectangle=Qs,i.setOptions=C,i.stamp=d,i.svg=Io,i.svgOverlay=Vs,i.tileLayer=Ao,i.tooltip=Ys,i.transformation=tt,i.version=r,i.videoOverlay=Gs;var ea=window.L;i.noConflict=function(){return window.L=ea,this},window.L=i})})(Kt,Kt.exports);function Ku(s){let o,i,r;return{c(){o=F("link"),i=J(),r=F("div"),B(o,"crossorigin",""),B(o,"href","https://unpkg.com/leaflet@1.6.0/dist/leaflet.css"),B(o,"integrity","sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="),B(o,"rel","stylesheet"),B(r,"id","container"),ce(r,"height","400px"),ce(r,"width","100%")},m(a,u){D(document.head,o),mt(a,i,u),mt(a,r,u),s[2](r)},p:Tt,i:Tt,o:Tt,d(a){ct(o),a&&ct(i),a&&ct(r),s[2](null)}}}function Xu(s,o,i){let{coords:r}=o,a;function u(f){let d=Kt.exports.map(f).setView([50,10],3.3);Kt.exports.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:14,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(d);var m=Kt.exports.icon({iconUrl:"https://cdn.onlinewebfonts.com/svg/img_190973.png",iconSize:[25,25],iconAnchor:[25,25]}),_=Kt.exports.icon({iconUrl:"https://cdn.onlinewebfonts.com/svg/img_342978.png",iconSize:[25,25],iconAnchor:[25,25]});if(console.log(r),r.billing_address){let y=r.billing_address;var g=Kt.exports.marker([y.lat,y.lng],{title:"Billing address",icon:_}).addTo(d);g.bindPopup("Billing address")}if(r.shipping_address){let y=r.shipping_address;var g=Kt.exports.marker([y.lat,y.lng],{title:"Shipping address",icon:m}).addTo(d);g.bindPopup("Shipping address")}}vr(()=>{u(a)});function c(f){Ni[f?"unshift":"push"](()=>{a=f,i(0,a)})}return s.$$set=f=>{"coords"in f&&i(1,r=f.coords)},[a,r,c]}class Ju extends Ee{constructor(o){super(),Ae(this,o,Xu,Ku,Me,{coords:1})}}function mr(s){let o,i,r,a,u,c,f,d,m,_=s[0].total_score.toFixed(2)+"",g,y,w,P,C,M,b,k,x,S,N,Q,$,I,z,j,A;return a=new Ma({props:{raw:s[0]}}),N=new $u({props:{data:s[0]}}),j=new Ju({props:{coords:s[1]}}),{c(){o=F("div"),i=F("div"),r=F("div"),ti(a.$$.fragment),u=J(),c=F("div"),f=F("div"),d=F("h1"),m=Xt("Fraud Score: "),g=Xt(_),y=Xt("%"),w=J(),P=F("div"),P.innerHTML=`<h3 style="text-align: center;">0%</h3> 
                        <h3 style="text-align: center;">50%</h3> 
                        <h3 style="text-align: center;">100% (x)</h3>`,C=J(),M=F("meter"),k=J(),x=F("div"),S=F("div"),ti(N.$$.fragment),Q=J(),$=F("div"),I=F("div"),z=F("div"),ti(j.$$.fragment),B(r,"class","card"),B(i,"class","col-md-5 col-sx-12"),ce(d,"text-align","center"),B(P,"class","labels svelte-ud93mq"),M.value=b=s[0].total_score,B(M,"min","0"),B(M,"low","40"),B(M,"high","95"),B(M,"max","100"),B(M,"optimum","0"),B(M,"class","svelte-ud93mq"),B(f,"class","card meter-card svelte-ud93mq"),B(c,"class","col-md-3"),B(S,"class","card"),B(x,"class","col-md-4 col-xs-12"),B(o,"class","row svelte-ud93mq"),B(z,"class","card"),B(I,"class","col-xs-12"),B($,"class","row svelte-ud93mq")},m(R,W){mt(R,o,W),D(o,i),D(i,r),Le(a,r,null),D(o,u),D(o,c),D(c,f),D(f,d),D(d,m),D(d,g),D(d,y),D(f,w),D(f,P),D(f,C),D(f,M),D(o,k),D(o,x),D(x,S),Le(N,S,null),mt(R,Q,W),mt(R,$,W),D($,I),D(I,z),Le(j,z,null),A=!0},p(R,W){const K={};W&1&&(K.raw=R[0]),a.$set(K),(!A||W&1)&&_!==(_=R[0].total_score.toFixed(2)+"")&&da(g,_),(!A||W&1&&b!==(b=R[0].total_score))&&(M.value=b);const at={};W&1&&(at.data=R[0]),N.$set(at);const ot={};W&2&&(ot.coords=R[1]),j.$set(ot)},i(R){A||(zt(a.$$.fragment,R),zt(N.$$.fragment,R),zt(j.$$.fragment,R),A=!0)},o(R){Vt(a.$$.fragment,R),Vt(N.$$.fragment,R),Vt(j.$$.fragment,R),A=!1},d(R){R&&ct(o),Te(a),Te(N),R&&ct(Q),R&&ct($),Te(j)}}}function Qu(s){let o,i,r,a,u,c,f,d,m,_,g,y;c=new ka({props:{setData:s[2]}});let w=s[0]&&mr(s);return{c(){o=F("main"),i=F("div"),i.innerHTML='<div class="col-xs-6"><h1 class="title svelte-ud93mq">Gaia</h1></div>',r=J(),a=F("div"),u=F("div"),ti(c.$$.fragment),f=J(),w&&w.c(),d=J(),m=F("a"),m.innerHTML='<img alt="IceyLeagons logo" class="brand svelte-ud93mq" src="https://avatars.githubusercontent.com/u/56756578?s=400&amp;u=6397fa46857dc4064f59a45d95f06a2aeae50bb1&amp;v=4"/>',_=J(),g=F("footer"),g.innerHTML=`<small>Copyright \xA9 2022 IceyLeagons | All rights reserved.<br/>
        Used libraries can be found on the project&#39;s <a href="https://github.com/IceyLeagons/Gaia">GitHub page</a></small>`,B(i,"class","row center-xs svelte-ud93mq"),B(u,"class","col-xs-12 col-md-6"),B(a,"class","row center-xs svelte-ud93mq"),B(o,"class","main svelte-ud93mq"),B(m,"href","https://www.iceyleagons.net/"),B(g,"class","footer svelte-ud93mq")},m(P,C){mt(P,o,C),D(o,i),D(o,r),D(o,a),D(a,u),Le(c,u,null),D(o,f),w&&w.m(o,null),mt(P,d,C),mt(P,m,C),mt(P,_,C),mt(P,g,C),y=!0},p(P,[C]){P[0]?w?(w.p(P,C),C&1&&zt(w,1)):(w=mr(P),w.c(),zt(w,1),w.m(o,null)):w&&(br(),Vt(w,1,1,()=>{w=null}),wr())},i(P){y||(zt(c.$$.fragment,P),zt(w),y=!0)},o(P){Vt(c.$$.fragment,P),Vt(w),y=!1},d(P){P&&ct(o),Te(c),w&&w.d(),P&&ct(d),P&&ct(m),P&&ct(_),P&&ct(g)}}}function th(s,o,i){let r,a;function u(c){if(!c.applied_rules){ei("No fraud!","The input data is completely clean!","success"),i(0,r=void 0),i(1,a=void 0);return}ei("Oh no!","We've detected some fraud possibilities!","error"),i(0,r=c),i(1,a=r.coords)}return[r,a,u]}class eh extends Ee{constructor(o){super(),Ae(this,o,th,Qu,Me,{})}}new eh({target:document.getElementById("app")});
